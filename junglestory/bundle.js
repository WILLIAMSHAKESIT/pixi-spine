/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={66486:(t,e,i)=>{"use strict";var s=i(67745),n=i(60181),r=i(30696),a=i(48742),o=i(27191),h=i(6903),l=i(80261),d=i(59296),u=i(52634);const c=[0,0,0];class p extends h.Sprite{constructor(){super(...arguments),this.region=null,this.attachment=null}}class m extends l.SimpleMesh{constructor(t,e,i,s,n){super(t,e,i,s,n),this.region=null,this.attachment=null}}const f=class extends o.Container{constructor(t){if(super(),!t)throw new Error("The spineData param is required.");if("string"==typeof t)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');this.spineData=t,this.createSkeleton(t),this.slotContainers=[],this.tempClipContainers=[];for(let t=0,e=this.skeleton.slots.length;t<e;t++){const e=this.skeleton.slots[t],i=e.getAttachment(),n=this.newContainer();if(this.slotContainers.push(n),this.addChild(n),this.tempClipContainers.push(null),i)if(i.type===s.AttachmentType.Region){const t=i.name,s=this.createSprite(e,i,t);e.currentSprite=s,e.currentSpriteName=t,n.addChild(s)}else if(i.type===s.AttachmentType.Mesh){const t=this.createMesh(e,i);e.currentMesh=t,e.currentMeshId=i.id,e.currentMeshName=i.name,n.addChild(t)}else i.type===s.AttachmentType.Clipping&&(this.createGraphics(e,i),n.addChild(e.clippingContainer),n.addChild(e.currentGraphics))}this.tintRgb=new Float32Array([1,1,1]),this.autoUpdate=!0,this.visible=!0}get debug(){return this._debug}set debug(t){t!=this._debug&&(this._debug?.unregisterSpine(this),t?.registerSpine(this),this._debug=t)}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this.updateTransform=t?f.prototype.autoUpdateTransform:o.Container.prototype.updateTransform)}get tint(){return a.utils.rgb2hex(this.tintRgb)}set tint(t){this.tintRgb=a.utils.hex2rgb(t,this.tintRgb)}get delayLimit(){return(void 0!==this.localDelayLimit?this.localDelayLimit:u.settings.GLOBAL_DELAY_LIMIT)||Number.MAX_VALUE}update(t){const e=this.delayLimit;if(t>e&&(t=e),this.state.update(t),this.state.apply(this.skeleton),!this.skeleton)return;this.skeleton.updateWorldTransform();const i=this.skeleton.slots,n=this.color;let r=null,o=null;n?(r=n.light,o=n.dark):r=this.tintRgb;for(let t=0,e=i.length;t<e;t++){const e=i[t],n=e.getAttachment(),h=this.slotContainers[t];if(!n){h.visible=!1;continue}let l=null;n.sequence&&n.sequence.apply(e,n);let d=n.region;const u=n.color;switch(null!=n&&n.type){case s.AttachmentType.Region:if(h.transform.setFromMatrix(e.bone.matrix),d=n.region,e.currentMesh&&(e.currentMesh.visible=!1,e.currentMesh=null,e.currentMeshId=void 0,e.currentMeshName=void 0),!d){e.currentSprite&&(e.currentSprite.renderable=!1);break}if(!e.currentSpriteName||e.currentSpriteName!==n.name){const t=n.name;if(e.currentSprite&&(e.currentSprite.visible=!1),e.sprites=e.sprites||{},void 0!==e.sprites[t])e.sprites[t].visible=!0;else{const i=this.createSprite(e,n,t);h.addChild(i)}e.currentSprite=e.sprites[t],e.currentSpriteName=t}e.currentSprite.renderable=!0,e.hackRegion||this.setSpriteRegion(n,e.currentSprite,d),e.currentSprite.color?l=e.currentSprite.color:(c[0]=r[0]*e.color.r*u.r,c[1]=r[1]*e.color.g*u.g,c[2]=r[2]*e.color.b*u.b,e.currentSprite.tint=a.utils.rgb2hex(c)),e.currentSprite.blendMode=e.blendMode;break;case s.AttachmentType.Mesh:if(e.currentSprite){e.currentSprite.visible=!1,e.currentSprite=null,e.currentSpriteName=void 0;const t=new a.Transform;t._parentID=-1,t._worldID=h.transform._worldID,h.transform=t}if(!d){e.currentMesh&&(e.currentMesh.renderable=!1);break}const t=n.id;if(void 0===e.currentMeshId||e.currentMeshId!==t){const i=t;if(e.currentMesh&&(e.currentMesh.visible=!1),e.meshes=e.meshes||{},void 0!==e.meshes[i])e.meshes[i].visible=!0;else{const t=this.createMesh(e,n);h.addChild(t)}e.currentMesh=e.meshes[i],e.currentMeshName=n.name,e.currentMeshId=i}e.currentMesh.renderable=!0,n.computeWorldVerticesOld(e,e.currentMesh.vertices),e.currentMesh.color?l=e.currentMesh.color:(c[0]=r[0]*e.color.r*u.r,c[1]=r[1]*e.color.g*u.g,c[2]=r[2]*e.color.b*u.b,e.currentMesh.tint=a.utils.rgb2hex(c)),e.currentMesh.blendMode=e.blendMode,e.hackRegion||this.setMeshRegion(n,e.currentMesh,d);break;case s.AttachmentType.Clipping:e.currentGraphics||(this.createGraphics(e,n),h.addChild(e.clippingContainer),h.addChild(e.currentGraphics)),this.updateGraphics(e,n),h.alpha=1,h.visible=!0;continue;default:h.visible=!1;continue}if(h.visible=!0,l){let t=e.color.r*u.r,i=e.color.g*u.g,s=e.color.b*u.b;l.setLight(r[0]*t+o[0]*(1-t),r[1]*i+o[1]*(1-i),r[2]*s+o[2]*(1-s)),e.darkColor?(t=e.darkColor.r,i=e.darkColor.g,s=e.darkColor.b):(t=0,i=0,s=0),l.setDark(r[0]*t+o[0]*(1-t),r[1]*i+o[1]*(1-i),r[2]*s+o[2]*(1-s))}h.alpha=e.color.a}const h=this.skeleton.drawOrder;let l=null,d=null;for(let t=0,e=h.length;t<e;t++){const e=i[h[t].data.index],s=this.slotContainers[h[t].data.index];if(d||null!==s.parent&&s.parent!==this&&(s.parent.removeChild(s),s.parent=this),e.currentGraphics&&e.getAttachment())d=e.clippingContainer,l=e.getAttachment(),d.children.length=0,this.children[t]=s,l.endSlot===e.data&&(l.endSlot=null);else if(d){let i=this.tempClipContainers[t];i||(i=this.tempClipContainers[t]=this.newContainer(),i.visible=!1),this.children[t]=i,s.parent=null,d.addChild(s),l.endSlot==e.data&&(d.renderable=!0,d=null,l=null)}else this.children[t]=s}this._debug?.renderDebug(this)}setSpriteRegion(t,e,i){e.attachment===t&&e.region===i||(e.region=i,e.attachment=t,e.texture=i.texture,e.rotation=t.rotation*r.MathUtils.degRad,e.position.x=t.x,e.position.y=t.y,e.alpha=t.color.a,i.size?(e.scale.x=i.size.width/i.originalWidth,e.scale.y=-i.size.height/i.originalHeight):(e.scale.x=t.scaleX*t.width/i.originalWidth,e.scale.y=-t.scaleY*t.height/i.originalHeight))}setMeshRegion(t,e,i){e.attachment===t&&e.region===i||(e.region=i,e.attachment=t,e.texture=i.texture,i.texture.updateUvs(),e.uvBuffer.update(t.regionUVs))}autoUpdateTransform(){if(u.settings.GLOBAL_AUTO_UPDATE){this.lastTime=this.lastTime||Date.now();const t=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(t)}else this.lastTime=0;o.Container.prototype.updateTransform.call(this)}createSprite(t,e,i){let s=e.region;t.hackAttachment===e&&(s=t.hackRegion);const n=s?s.texture:null,r=this.newSprite(n);return r.anchor.set(.5),s&&this.setSpriteRegion(e,r,e.region),t.sprites=t.sprites||{},t.sprites[i]=r,r}createMesh(t,e){let i=e.region;t.hackAttachment===e&&(i=t.hackRegion,t.hackAttachment=null,t.hackRegion=null);const s=this.newMesh(i?i.texture:null,new Float32Array(e.regionUVs.length),e.regionUVs,new Uint16Array(e.triangles),a.DRAW_MODES.TRIANGLES);return void 0!==s._canvasPadding&&(s._canvasPadding=1.5),s.alpha=e.color.a,s.region=e.region,i&&this.setMeshRegion(e,s,i),t.meshes=t.meshes||{},t.meshes[e.id]=s,s}createGraphics(t,e){const i=this.newGraphics(),s=new a.Polygon([]);return i.clear(),i.beginFill(16777215,1),i.drawPolygon(s),i.renderable=!1,t.currentGraphics=i,t.clippingContainer=this.newContainer(),t.clippingContainer.mask=t.currentGraphics,i}updateGraphics(t,e){const i=t.currentGraphics.geometry,s=i.graphicsData[0].shape.points,n=e.worldVerticesLength;s.length=n,e.computeWorldVertices(t,0,n,s,0,2),i.invalidate()}hackTextureBySlotIndex(t,e=null,i=null){const s=this.skeleton.slots[t];if(!s)return!1;const r=s.getAttachment();let a=r.region;return e?(a=new n.TextureRegion,a.texture=e,a.size=i,s.hackRegion=a,s.hackAttachment=r):(s.hackRegion=null,s.hackAttachment=null),s.currentSprite?this.setSpriteRegion(r,s.currentSprite,a):s.currentMesh&&this.setMeshRegion(r,s.currentMesh,a),!0}hackTextureBySlotName(t,e=null,i=null){const s=this.skeleton.findSlotIndex(t);return-1!=s&&this.hackTextureBySlotIndex(s,e,i)}hackTextureAttachment(t,e,i,s=null){const r=this.skeleton.findSlotIndex(t),a=this.skeleton.getAttachmentByName(t,e);a.region.texture=i;const o=this.skeleton.slots[r];if(!o)return!1;const h=o.getAttachment();if(e===h.name){let t=a.region;return i?(t=new n.TextureRegion,t.texture=i,t.size=s,o.hackRegion=t,o.hackAttachment=h):(o.hackRegion=null,o.hackAttachment=null),o.currentSprite&&o.currentSprite.region!=t?(this.setSpriteRegion(h,o.currentSprite,t),o.currentSprite.region=t):o.currentMesh&&o.currentMesh.region!=t&&this.setMeshRegion(h,o.currentMesh,t),!0}return!1}newContainer(){return new o.Container}newSprite(t){return new p(t)}newGraphics(){return new d.Graphics}newMesh(t,e,i,s,n){return new m(t,e,i,s,n)}transformHack(){return 1}hackAttachmentGroups(t,e,i){if(!t)return;const s=[],n=[];for(let r=0,a=this.skeleton.slots.length;r<a;r++){const a=this.skeleton.slots[r],o=a.currentSpriteName||a.currentMeshName||"",h=a.currentSprite||a.currentMesh;o.endsWith(t)?(h.parentGroup=e,n.push(h)):i&&h&&(h.parentGroup=i,s.push(h))}return[s,n]}destroy(t){this.debug=null;for(let e=0,i=this.skeleton.slots.length;e<i;e++){const i=this.skeleton.slots[e];for(const e in i.meshes)i.meshes[e].destroy(t);i.meshes=null;for(const e in i.sprites)i.sprites[e].destroy(t);i.sprites=null}for(let e=0,i=this.slotContainers.length;e<i;e++)this.slotContainers[e].destroy(t);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,super.destroy(t)}};let g=f;g.clippingPolygon=[],Object.defineProperty(g.prototype,"visible",{get(){return this._visible},set(t){t!==this._visible&&(this._visible=t,t&&(this.lastTime=0))}}),e.SpineBase=g,e.SpineMesh=m,e.SpineSprite=p},74504:(t,e,i)=>{"use strict";var s=i(27191),n=i(59296),r=i(67745),a=i(62722);e.SpineDebugRenderer=class{constructor(){this.registeredSpines=new Map,this.drawDebug=!0,this.drawMeshHull=!0,this.drawMeshTriangles=!0,this.drawBones=!0,this.drawPaths=!0,this.drawBoundingBoxes=!0,this.drawClipping=!0,this.drawRegionAttachments=!0,this.lineWidth=1,this.regionAttachmentsColor=30975,this.meshHullColor=30975,this.meshTrianglesColor=16763904,this.clippingPolygonColor=16711935,this.boundingBoxesRectColor=65280,this.boundingBoxesPolygonColor=65280,this.boundingBoxesCircleColor=65280,this.pathsCurveColor=16711680,this.pathsLineColor=16711935,this.skeletonXYColor=16711680,this.bonesColor=61132}registerSpine(t){this.registeredSpines.has(t)&&console.warn("SpineDebugRenderer.registerSpine() - this spine is already registered!",t);const e={parentDebugContainer:new s.Container,bones:new s.Container,skeletonXY:new n.Graphics,regionAttachmentsShape:new n.Graphics,meshTrianglesLine:new n.Graphics,meshHullLine:new n.Graphics,clippingPolygon:new n.Graphics,boundingBoxesRect:new n.Graphics,boundingBoxesCircle:new n.Graphics,boundingBoxesPolygon:new n.Graphics,pathsCurve:new n.Graphics,pathsLine:new n.Graphics};e.parentDebugContainer.addChild(e.bones),e.parentDebugContainer.addChild(e.skeletonXY),e.parentDebugContainer.addChild(e.regionAttachmentsShape),e.parentDebugContainer.addChild(e.meshTrianglesLine),e.parentDebugContainer.addChild(e.meshHullLine),e.parentDebugContainer.addChild(e.clippingPolygon),e.parentDebugContainer.addChild(e.boundingBoxesRect),e.parentDebugContainer.addChild(e.boundingBoxesCircle),e.parentDebugContainer.addChild(e.boundingBoxesPolygon),e.parentDebugContainer.addChild(e.pathsCurve),e.parentDebugContainer.addChild(e.pathsLine),t.addChild(e.parentDebugContainer),this.registeredSpines.set(t,e)}renderDebug(t){this.registeredSpines.has(t)||this.registerSpine(t);const e=this.registeredSpines.get(t);e.skeletonXY.clear(),e.regionAttachmentsShape.clear(),e.meshTrianglesLine.clear(),e.meshHullLine.clear(),e.clippingPolygon.clear(),e.boundingBoxesRect.clear(),e.boundingBoxesCircle.clear(),e.boundingBoxesPolygon.clear(),e.pathsCurve.clear(),e.pathsLine.clear();for(let t=e.bones.children.length;t>0;t--)e.bones.children[t-1].destroy({children:!0,texture:!0,baseTexture:!0});const i=t.scale.x||t.scale.y||1,s=this.lineWidth/i;this.drawBones&&this.drawBonesFunc(t,e,s,i),this.drawPaths&&this.drawPathsFunc(t,e,s),this.drawBoundingBoxes&&this.drawBoundingBoxesFunc(t,e,s),this.drawClipping&&this.drawClippingFunc(t,e,s),(this.drawMeshHull||this.drawMeshTriangles)&&this.drawMeshHullAndMeshTriangles(t,e,s),this.drawRegionAttachments&&this.drawRegionAttachmentsFunc(t,e,s)}drawBonesFunc(t,e,i,s){const r=t.skeleton,a=r.x,o=r.y,h=r.bones;e.skeletonXY.lineStyle(i,this.skeletonXYColor,1);for(let t=0,r=h.length;t<r;t++){const r=h[t],l=r.data.length,d=a+r.matrix.tx,u=o+r.matrix.ty,c=a+l*r.matrix.a+r.matrix.tx,p=o+l*r.matrix.b+r.matrix.ty;if("root"===r.data.name||null===r.data.parent)continue;const m=Math.abs(d-c),f=Math.abs(u-p),g=Math.pow(m,2),y=f,x=Math.pow(f,2),_=Math.sqrt(g+x),b=Math.pow(_,2),v=Math.PI/180,S=Math.acos((b+x-g)/(2*y*_))||0;if(0===_)continue;const T=new n.Graphics;e.bones.addChild(T);const w=_/50/s;T.beginFill(this.bonesColor,1),T.drawPolygon(0,0,0-w,_-3*w,0,_-w,0+w,_-3*w),T.endFill(),T.x=d,T.y=u,T.pivot.y=_;let E=0;d<c&&u<p?E=180*v-S:d>c&&u<p?E=180*v+S:d>c&&u>p?E=-S:d<c&&u>p?E=S:u===p&&d<c?E=90*v:u===p&&d>c?E=-90*v:d===c&&u<p?E=180*v:d===c&&u>p&&(E=0),T.rotation=E,T.lineStyle(i+w/2.4,this.bonesColor,1),T.beginFill(0,.6),T.drawCircle(0,_,1.2*w),T.endFill()}const l=3*i;e.skeletonXY.moveTo(a-l,o-l),e.skeletonXY.lineTo(a+l,o+l),e.skeletonXY.moveTo(a+l,o-l),e.skeletonXY.lineTo(a-l,o+l)}drawRegionAttachmentsFunc(t,e,i){const s=t.skeleton.slots;e.regionAttachmentsShape.lineStyle(i,this.regionAttachmentsColor,1);for(let t=0,i=s.length;t<i;t++){const i=s[t],n=i.getAttachment();if(null==n||n.type!==r.AttachmentType.Region)continue;const a=n,o=new Float32Array(8);a.updateOffset&&a.updateOffset(),a.computeWorldVertices(i,o,0,2),e.regionAttachmentsShape.drawPolygon(Array.from(o.slice(0,8)))}}drawMeshHullAndMeshTriangles(t,e,i){const s=t.skeleton.slots;e.meshHullLine.lineStyle(i,this.meshHullColor,1),e.meshTrianglesLine.lineStyle(i,this.meshTrianglesColor,1);for(let t=0,i=s.length;t<i;t++){const i=s[t];if(!i.bone.active)continue;const n=i.getAttachment();if(null==n||n.type!==r.AttachmentType.Mesh)continue;const a=n,o=new Float32Array(a.worldVerticesLength),h=a.triangles;let l=a.hullLength;if(a.computeWorldVertices(i,0,a.worldVerticesLength,o,0,2),this.drawMeshTriangles)for(let t=0,i=h.length;t<i;t+=3){const i=2*h[t],s=2*h[t+1],n=2*h[t+2];e.meshTrianglesLine.moveTo(o[i],o[i+1]),e.meshTrianglesLine.lineTo(o[s],o[s+1]),e.meshTrianglesLine.lineTo(o[n],o[n+1])}if(this.drawMeshHull&&l>0){l=2*(l>>1);let t=o[l-2],i=o[l-1];for(let s=0,n=l;s<n;s+=2){const n=o[s],r=o[s+1];e.meshHullLine.moveTo(n,r),e.meshHullLine.lineTo(t,i),t=n,i=r}}}}drawClippingFunc(t,e,i){const s=t.skeleton.slots;e.clippingPolygon.lineStyle(i,this.clippingPolygonColor,1);for(let t=0,i=s.length;t<i;t++){const i=s[t];if(!i.bone.active)continue;const n=i.getAttachment();if(null==n||n.type!==r.AttachmentType.Clipping)continue;const a=n,o=a.worldVerticesLength,h=new Float32Array(o);a.computeWorldVertices(i,0,o,h,0,2),e.clippingPolygon.drawPolygon(Array.from(h))}}drawBoundingBoxesFunc(t,e,i){e.boundingBoxesRect.lineStyle(i,this.boundingBoxesRectColor,5);const s=new a.SkeletonBoundsBase;s.update(t.skeleton,!0),e.boundingBoxesRect.drawRect(s.minX,s.minY,s.getWidth(),s.getHeight());const n=s.polygons,r=(t,s,n)=>{if(e.boundingBoxesPolygon.lineStyle(i,this.boundingBoxesPolygonColor,1),e.boundingBoxesPolygon.beginFill(this.boundingBoxesPolygonColor,.1),n<3)throw new Error("Polygon must contain at least 3 vertices");const r=[],a=2*i;for(let i=0,s=t.length;i<s;i+=2){const s=t[i],n=t[i+1];e.boundingBoxesCircle.lineStyle(0),e.boundingBoxesCircle.beginFill(this.boundingBoxesCircleColor),e.boundingBoxesCircle.drawCircle(s,n,a),e.boundingBoxesCircle.endFill(),r.push(s,n)}e.boundingBoxesPolygon.drawPolygon(r),e.boundingBoxesPolygon.endFill()};for(let t=0,e=n.length;t<e;t++){const e=n[t];r(e,0,e.length)}}drawPathsFunc(t,e,i){const s=t.skeleton.slots;e.pathsCurve.lineStyle(i,this.pathsCurveColor,1),e.pathsLine.lineStyle(i,this.pathsLineColor,1);for(let t=0,i=s.length;t<i;t++){const i=s[t];if(!i.bone.active)continue;const n=i.getAttachment();if(null==n||n.type!==r.AttachmentType.Path)continue;const a=n;let o=a.worldVerticesLength;const h=new Float32Array(o);a.computeWorldVertices(i,0,o,h,0,2);let l=h[2],d=h[3],u=0,c=0;if(a.closed){const t=h[0],i=h[1],s=h[o-2],n=h[o-1];u=h[o-4],c=h[o-3],e.pathsCurve.moveTo(l,d),e.pathsCurve.bezierCurveTo(t,i,s,n,u,c),e.pathsLine.moveTo(l,d),e.pathsLine.lineTo(t,i),e.pathsLine.moveTo(u,c),e.pathsLine.lineTo(s,n)}o-=4;for(let t=4;t<o;t+=6){const i=h[t],s=h[t+1],n=h[t+2],r=h[t+3];u=h[t+4],c=h[t+5],e.pathsCurve.moveTo(l,d),e.pathsCurve.bezierCurveTo(i,s,n,r,u,c),e.pathsLine.moveTo(l,d),e.pathsLine.lineTo(i,s),e.pathsLine.moveTo(u,c),e.pathsLine.lineTo(n,r),l=u,d=c}}}unregisterSpine(t){this.registeredSpines.has(t)||console.warn("SpineDebugRenderer.unregisterSpine() - spine is not registered, can't unregister!",t);this.registeredSpines.get(t).parentDebugContainer.destroy({baseTexture:!0,children:!0,texture:!0}),this.registeredSpines.delete(t)}}},67745:(t,e)=>{"use strict";var i=(t=>(t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping",t))(i||{});e.AttachmentType=i},47230:(t,e)=>{"use strict";e.BinaryInput=class{constructor(t,e=new Array,i=0,s=new DataView(t.buffer)){this.strings=e,this.index=i,this.buffer=s}readByte(){return this.buffer.getInt8(this.index++)}readUnsignedByte(){return this.buffer.getUint8(this.index++)}readShort(){const t=this.buffer.getInt16(this.index);return this.index+=2,t}readInt32(){const t=this.buffer.getInt32(this.index);return this.index+=4,t}readInt(t){let e=this.readByte(),i=127&e;return 0!=(128&e)&&(e=this.readByte(),i|=(127&e)<<7,0!=(128&e)&&(e=this.readByte(),i|=(127&e)<<14,0!=(128&e)&&(e=this.readByte(),i|=(127&e)<<21,0!=(128&e)&&(e=this.readByte(),i|=(127&e)<<28)))),t?i:i>>>1^-(1&i)}readStringRef(){const t=this.readInt(!0);return 0==t?null:this.strings[t-1]}readString(){let t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;let e="";for(let i=0;i<t;){const t=this.readUnsignedByte();switch(t>>4){case 12:case 13:e+=String.fromCharCode((31&t)<<6|63&this.readByte()),i+=2;break;case 14:e+=String.fromCharCode((15&t)<<12|(63&this.readByte())<<6|63&this.readByte()),i+=3;break;default:e+=String.fromCharCode(t),i++}}return e}readFloat(){const t=this.buffer.getFloat32(this.index);return this.index+=4,t}readBoolean(){return 0!=this.readByte()}}},82197:(t,e)=>{"use strict";var i=(t=>(t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add",t))(i||{}),s=(t=>(t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut",t))(s||{});e.MixBlend=i,e.MixDirection=s},70258:(t,e)=>{"use strict";var i=(t=>(t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent",t))(i||{}),s=(t=>(t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale",t))(s||{});e.PositionMode=i,e.RotateMode=s},79083:(t,e)=>{"use strict";var i=(t=>(t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection",t))(i||{});e.TransformMode=i},62722:(t,e,i)=>{"use strict";var s=i(67745),n=i(30696);e.SkeletonBoundsBase=class{constructor(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new n.Pool((()=>n.Utils.newFloatArray(16)))}update(t,e){if(!t)throw new Error("skeleton cannot be null.");const i=this.boundingBoxes,r=this.polygons,a=this.polygonPool,o=t.slots,h=o.length;i.length=0,a.freeAll(r),r.length=0;for(let t=0;t<h;t++){const e=o[t];if(!e.bone.active)continue;const h=e.getAttachment();if(null!=h&&h.type===s.AttachmentType.BoundingBox){const t=h;i.push(t);let s=a.obtain();s.length!=t.worldVerticesLength&&(s=n.Utils.newFloatArray(t.worldVerticesLength)),r.push(s),t.computeWorldVertices(e,0,t.worldVerticesLength,s,0,2)}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}aabbCompute(){let t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY;const n=this.polygons;for(let r=0,a=n.length;r<a;r++){const a=n[r],o=a;for(let n=0,r=a.length;n<r;n+=2){const r=o[n],a=o[n+1];t=Math.min(t,r),e=Math.min(e,a),i=Math.max(i,r),s=Math.max(s,a)}}this.minX=t,this.minY=e,this.maxX=i,this.maxY=s}aabbContainsPoint(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY}aabbIntersectsSegment(t,e,i,s){const n=this.minX,r=this.minY,a=this.maxX,o=this.maxY;if(t<=n&&i<=n||e<=r&&s<=r||t>=a&&i>=a||e>=o&&s>=o)return!1;const h=(s-e)/(i-t);let l=h*(n-t)+e;if(l>r&&l<o)return!0;if(l=h*(a-t)+e,l>r&&l<o)return!0;let d=(r-e)/h+t;return d>n&&d<a||(d=(o-e)/h+t,d>n&&d<a)}aabbIntersectsSkeleton(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY}containsPoint(t,e){const i=this.polygons;for(let s=0,n=i.length;s<n;s++)if(this.containsPointPolygon(i[s],t,e))return this.boundingBoxes[s];return null}containsPointPolygon(t,e,i){const s=t,n=t.length;let r=n-2,a=!1;for(let t=0;t<n;t+=2){const n=s[t+1],o=s[r+1];if(n<i&&o>=i||o<i&&n>=i){const h=s[t];h+(i-n)/(o-n)*(s[r]-h)<e&&(a=!a)}r=t}return a}intersectsSegment(t,e,i,s){const n=this.polygons;for(let r=0,a=n.length;r<a;r++)if(this.intersectsSegmentPolygon(n[r],t,e,i,s))return this.boundingBoxes[r];return null}intersectsSegmentPolygon(t,e,i,s,n){const r=t,a=t.length,o=e-s,h=i-n,l=e*n-i*s;let d=r[a-2],u=r[a-1];for(let t=0;t<a;t+=2){const a=r[t],c=r[t+1],p=d*c-u*a,m=d-a,f=u-c,g=o*f-h*m,y=(l*m-o*p)/g;if((y>=d&&y<=a||y>=a&&y<=d)&&(y>=e&&y<=s||y>=s&&y<=e)){const t=(l*f-h*p)/g;if((t>=u&&t<=c||t>=c&&t<=u)&&(t>=i&&t<=n||t>=n&&t<=i))return!0}d=a,u=c}return!1}getPolygon(t){if(!t)throw new Error("boundingBox cannot be null.");const e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]}getWidth(){return this.maxX-this.minX}getHeight(){return this.maxY-this.minY}}},61505:(t,e,i)=>{"use strict";var s=i(48742),n=i(60181);class r{constructor(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}}class a{constructor(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}readLine(){return this.index>=this.lines.length?null:this.lines[this.index++]}readEntry(t,e){if(null==e)return 0;if(0==(e=e.trim()).length)return 0;const i=e.indexOf(":");if(-1==i)return 0;t[0]=e.substr(0,i).trim();for(let s=1,n=i+1;;s++){const i=e.indexOf(",",n);if(-1==i)return t[s]=e.substr(n).trim(),s;if(t[s]=e.substr(n,i-n).trim(),n=i+1,4==s)return 4}}}class o{constructor(){this.minFilter=n.TextureFilter.Nearest,this.magFilter=n.TextureFilter.Nearest,this.uWrap=n.TextureWrap.ClampToEdge,this.vWrap=n.TextureWrap.ClampToEdge}setFilters(){const t=this.baseTexture,e=this.minFilter;e==n.TextureFilter.Linear?t.scaleMode=s.SCALE_MODES.LINEAR:this.minFilter==n.TextureFilter.Nearest?t.scaleMode=s.SCALE_MODES.NEAREST:(t.mipmap=s.MIPMAP_MODES.POW2,e==n.TextureFilter.MipMapNearestNearest?t.scaleMode=s.SCALE_MODES.NEAREST:t.scaleMode=s.SCALE_MODES.LINEAR)}}class h extends n.TextureRegion{}e.TextureAtlas=class{constructor(t,e,i){this.pages=new Array,this.regions=new Array,t&&this.addSpineAtlas(t,e,i)}addTexture(t,e){const i=this.pages;let s=null;for(let t=0;t<i.length;t++)if(i[t].baseTexture===e.baseTexture){s=i[t];break}if(null===s){s=new o,s.name="texturePage";const t=e.baseTexture;s.width=t.realWidth,s.height=t.realHeight,s.baseTexture=t,s.minFilter=s.magFilter=n.TextureFilter.Nearest,s.uWrap=n.TextureWrap.ClampToEdge,s.vWrap=n.TextureWrap.ClampToEdge,i.push(s)}const r=new h;return r.name=t,r.page=s,r.texture=e,r.index=-1,this.regions.push(r),r}addTextureHash(t,e){for(const i in t)t.hasOwnProperty(i)&&this.addTexture(e&&-1!==i.indexOf(".")?i.substr(0,i.lastIndexOf(".")):i,t[i])}addSpineAtlas(t,e,i){return this.load(t,e,i)}load(t,e,i){if(null==e)throw new Error("textureLoader cannot be null.");const l=new a(t),d=new Array(4);let u=null;const c={};let p=null;c.size=()=>{u.width=parseInt(d[1]),u.height=parseInt(d[2])},c.format=()=>{},c.filter=()=>{u.minFilter=n.filterFromString(d[1]),u.magFilter=n.filterFromString(d[2])},c.repeat=()=>{-1!=d[1].indexOf("x")&&(u.uWrap=n.TextureWrap.Repeat),-1!=d[1].indexOf("y")&&(u.vWrap=n.TextureWrap.Repeat)},c.pma=()=>{u.pma="true"==d[1]};const m={xy:()=>{p.x=parseInt(d[1]),p.y=parseInt(d[2])},size:()=>{p.width=parseInt(d[1]),p.height=parseInt(d[2])},bounds:()=>{p.x=parseInt(d[1]),p.y=parseInt(d[2]),p.width=parseInt(d[3]),p.height=parseInt(d[4])},offset:()=>{p.offsetX=parseInt(d[1]),p.offsetY=parseInt(d[2])},orig:()=>{p.originalWidth=parseInt(d[1]),p.originalHeight=parseInt(d[2])},offsets:()=>{p.offsetX=parseInt(d[1]),p.offsetY=parseInt(d[2]),p.originalWidth=parseInt(d[3]),p.originalHeight=parseInt(d[4])},rotate:()=>{const t=d[1];let e=0;e="true"==t.toLocaleLowerCase()?6:"false"==t.toLocaleLowerCase()?0:(720-parseFloat(t))%360/45,p.rotate=e},index:()=>{p.index=parseInt(d[1])}};let f=l.readLine();for(;null!=f&&0==f.trim().length;)f=l.readLine();for(;null!=f&&0!=f.trim().length&&0!=l.readEntry(d,f);)f=l.readLine();const g=()=>{for(;;){if(null==f)return i&&i(this);if(0==f.trim().length)u=null,f=l.readLine();else{if(null===u){for(u=new o,u.name=f.trim();0!=l.readEntry(d,f=l.readLine());){const t=c[d[0]];t&&t()}this.pages.push(u),e(u.name,(t=>{if(null===t)return this.pages.splice(this.pages.indexOf(u),1),i&&i(null);u.baseTexture=t,u.pma&&(t.alphaMode=s.ALPHA_MODES.PMA),t.valid||t.setSize(u.width,u.height),u.setFilters(),u.width&&u.height||(u.width=t.realWidth,u.height=t.realHeight,u.width&&u.height||console.log(`ERROR spine atlas page ${u.name}: meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)`)),g()}));break}{p=new r;const t=new h;t.name=f,t.page=u;let e=null,i=null;for(;;){const t=l.readEntry(d,f=l.readLine());if(0==t)break;const s=m[d[0]];if(s)s();else{null==e&&(e=[],i=[]),e.push(d[0]);const s=[];for(let e=0;e<t;e++)s.push(parseInt(d[e+1]));i.push(s)}}0==p.originalWidth&&0==p.originalHeight&&(p.originalWidth=p.width,p.originalHeight=p.height);const n=u.baseTexture.resolution;p.x/=n,p.y/=n,p.width/=n,p.height/=n,p.originalWidth/=n,p.originalHeight/=n,p.offsetX/=n,p.offsetY/=n;const a=p.rotate%4!=0,o=new s.Rectangle(p.x,p.y,a?p.height:p.width,a?p.width:p.height),c=new s.Rectangle(0,0,p.originalWidth,p.originalHeight),g=new s.Rectangle(p.offsetX,p.originalHeight-p.height-p.offsetY,p.width,p.height);t.texture=new s.Texture(t.page.baseTexture,o,c,g,p.rotate),t.index=p.index,t.texture.updateUvs(),this.regions.push(t)}}}};g()}findRegion(t){for(let e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null}dispose(){for(let t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()}},e.TextureAtlasPage=o,e.TextureAtlasRegion=h},60181:(t,e)=>{"use strict";var i=(t=>(t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear",t))(i||{}),s=(t=>(t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat",t))(s||{});e.TextureFilter=i,e.TextureRegion=class{constructor(){this.size=null,this.names=null,this.values=null,this.renderObject=null}get width(){const t=this.texture;return t.trim?t.trim.width:t.orig.width}get height(){const t=this.texture;return t.trim?t.trim.height:t.orig.height}get u(){return this.texture._uvs.x0}get v(){return this.texture._uvs.y0}get u2(){return this.texture._uvs.x2}get v2(){return this.texture._uvs.y2}get offsetX(){const t=this.texture;return t.trim?t.trim.x:0}get offsetY(){return this.spineOffsetY}get pixiOffsetY(){const t=this.texture;return t.trim?t.trim.y:0}get spineOffsetY(){const t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)}get originalWidth(){return this.texture.orig.width}get originalHeight(){return this.texture.orig.height}get x(){return this.texture.frame.x}get y(){return this.texture.frame.y}get rotate(){return 0!==this.texture.rotate}get degrees(){return(360-45*this.texture.rotate)%360}},e.TextureWrap=s,e.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return i.Nearest;case"linear":return i.Linear;case"mipmap":return i.MipMap;case"mipmapnearestnearest":return i.MipMapNearestNearest;case"mipmaplinearnearest":return i.MipMapLinearNearest;case"mipmapnearestlinear":return i.MipMapNearestLinear;case"mipmaplinearlinear":return i.MipMapLinearLinear;default:throw new Error(`Unknown texture filter ${t}`)}},e.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return s.MirroredRepeat;case"clamptoedge":return s.ClampToEdge;case"repeat":return s.Repeat;default:throw new Error(`Unknown texture wrap ${t}`)}}},30696:(t,e)=>{"use strict";const i=class{constructor(t=0,e=0,i=0,s=0){this.r=t,this.g=e,this.b=i,this.a=s}set(t,e,i,s){return this.r=t,this.g=e,this.b=i,this.a=s,this.clamp()}setFromColor(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}setFromString(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=8!=t.length?1:parseInt(t.substr(6,2),16)/255,this}add(t,e,i,s){return this.r+=t,this.g+=e,this.b+=i,this.a+=s,this.clamp()}clamp(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}static rgba8888ToColor(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255}static rgb888ToColor(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255}static fromString(t){return(new i).setFromString(t)}};let s=i;s.WHITE=new i(1,1,1,1),s.RED=new i(1,0,0,1),s.GREEN=new i(0,1,0,1),s.BLUE=new i(0,0,1,1),s.MAGENTA=new i(1,0,1,1);const n=class{static clamp(t,e,i){return t<e?e:t>i?i:t}static cosDeg(t){return Math.cos(t*n.degRad)}static sinDeg(t){return Math.sin(t*n.degRad)}static signum(t){return Math.sign(t)}static toInt(t){return t>0?Math.floor(t):Math.ceil(t)}static cbrt(t){const e=Math.pow(Math.abs(t),1/3);return t<0?-e:e}static randomTriangular(t,e){return n.randomTriangularWith(t,e,.5*(t+e))}static randomTriangularWith(t,e,i){const s=Math.random(),n=e-t;return s<=(i-t)/n?t+Math.sqrt(s*n*(i-t)):e-Math.sqrt((1-s)*n*(e-i))}static isPowerOfTwo(t){return t&&0==(t&t-1)}};let r=n;r.PI=3.1415927,r.PI2=2*n.PI,r.radiansToDegrees=180/n.PI,r.radDeg=n.radiansToDegrees,r.degreesToRadians=n.PI/180,r.degRad=n.degreesToRadians;class a{apply(t,e,i){return t+(e-t)*this.applyInternal(i)}}class o extends a{constructor(t){super(),this.power=2,this.power=t}applyInternal(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1}}const h=class{static arrayCopy(t,e,i,s,n){for(let r=e,a=s;r<e+n;r++,a++)i[a]=t[r]}static arrayFill(t,e,i,s){for(let n=e;n<i;n++)t[n]=s}static setArraySize(t,e,i=0){const s=t.length;if(s==e)return t;if(t.length=e,s<e)for(let n=s;n<e;n++)t[n]=i;return t}static ensureArrayCapacity(t,e,i=0){return t.length>=e?t:h.setArraySize(t,e,i)}static newArray(t,e){const i=new Array(t);for(let s=0;s<t;s++)i[s]=e;return i}static newFloatArray(t){if(h.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);const e=new Array(t);for(let t=0;t<e.length;t++)e[t]=0;return e}static newShortArray(t){if(h.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);const e=new Array(t);for(let t=0;t<e.length;t++)e[t]=0;return e}static toFloatArray(t){return h.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t}static toSinglePrecision(t){return h.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t}static webkit602BugfixHelper(t,e){}static contains(t,e,i=!0){for(let i=0;i<t.length;i++)if(t[i]==e)return!0;return!1}static enumValue(t,e){return t[e[0].toUpperCase()+e.slice(1)]}};let l=h;l.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array;e.Color=s,e.DebugUtils=class{static logBones(t){for(let e=0;e<t.bones.length;e++){const i=t.bones[e],s=i.matrix;console.log(`${i.data.name}, ${s.a}, ${s.b}, ${s.c}, ${s.d}, ${s.tx}, ${s.ty}`)}}},e.IntSet=class{constructor(){this.array=new Array}add(t){const e=this.contains(t);return this.array[0|t]=0|t,!e}contains(t){return null!=this.array[0|t]}remove(t){this.array[0|t]=void 0}clear(){this.array.length=0}},e.Interpolation=a,e.MathUtils=r,e.Pool=class{constructor(t){this.items=new Array,this.instantiator=t}obtain(){return this.items.length>0?this.items.pop():this.instantiator()}free(t){t.reset&&t.reset(),this.items.push(t)}freeAll(t){for(let e=0;e<t.length;e++)this.free(t[e])}clear(){this.items.length=0}},e.Pow=o,e.PowOut=class extends o{applyInternal(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1}},e.StringSet=class{constructor(){this.entries={},this.size=0}add(t){const e=this.entries[t];return this.entries[t]=!0,!e&&(this.size++,!0)}addAll(t){const e=this.size;for(let e=0,i=t.length;e<i;e++)this.add(t[e]);return e!=this.size}contains(t){return this.entries[t]}clear(){this.entries={},this.size=0}},e.TimeKeeper=class{constructor(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}update(){const t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)}},e.Utils=l,e.Vector2=class{constructor(t=0,e=0){this.x=t,this.y=e}set(t,e){return this.x=t,this.y=e,this}length(){const t=this.x,e=this.y;return Math.sqrt(t*t+e*e)}normalize(){const t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this}},e.WindowedMean=class{constructor(t=32){this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}hasEnoughData(){return this.addedValues>=this.values.length}addValue(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0}getMean(){if(this.hasEnoughData()){if(this.dirty){let t=0;for(let e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0}}},59663:(t,e,i)=>{"use strict";var s=i(67745),n=i(47230),r=i(82197),a=i(70258),o=i(79083),h=i(61505),l=i(60181),d=i(30696),u=i(62722),c=i(52634),p=i(66486),m=i(74504);e.AttachmentType=s.AttachmentType,e.BinaryInput=n.BinaryInput,e.MixBlend=r.MixBlend,e.MixDirection=r.MixDirection,e.PositionMode=a.PositionMode,e.RotateMode=a.RotateMode,e.TransformMode=o.TransformMode,e.TextureAtlas=h.TextureAtlas,e.TextureAtlasPage=h.TextureAtlasPage,e.TextureAtlasRegion=h.TextureAtlasRegion,e.TextureFilter=l.TextureFilter,e.TextureRegion=l.TextureRegion,e.TextureWrap=l.TextureWrap,e.filterFromString=l.filterFromString,e.wrapFromString=l.wrapFromString,e.Color=d.Color,e.DebugUtils=d.DebugUtils,e.IntSet=d.IntSet,e.Interpolation=d.Interpolation,e.MathUtils=d.MathUtils,e.Pool=d.Pool,e.Pow=d.Pow,e.PowOut=d.PowOut,e.StringSet=d.StringSet,e.TimeKeeper=d.TimeKeeper,e.Utils=d.Utils,e.Vector2=d.Vector2,e.WindowedMean=d.WindowedMean,e.SkeletonBoundsBase=u.SkeletonBoundsBase,e.settings=c.settings,e.SpineBase=p.SpineBase,e.SpineMesh=p.SpineMesh,e.SpineSprite=p.SpineSprite,e.SpineDebugRenderer=m.SpineDebugRenderer},52634:(t,e)=>{"use strict";e.settings={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0}},90033:(t,e,i)=>{"use strict";var s=i(59663),n=i(8415),r=i(48742),a=i(48334);function o(t){return t.hasOwnProperty("bones")}e.SpineLoaderAbstract=class{constructor(){}installLoader(){const t=this,e={extension:r.ExtensionType.Asset,loader:{extension:{type:r.ExtensionType.LoadParser,priority:n.LoaderParserPriority.Normal},test:t=>n.checkExtension(t,".skel"),async load(t){const e=await r.settings.ADAPTER.fetch(t);return await e.arrayBuffer()},testParse(t,e){const i=n.checkExtension(e.src,".json")&&o(t),s=n.checkExtension(e.src,".skel")&&t instanceof ArrayBuffer;const r=!1===e.data?.spineAtlas;return Promise.resolve(i&&!r||s)},async parse(e,i,h){const l=r.utils.path.extname(i.src).toLowerCase(),d=r.utils.path.basename(i.src,l);let u=r.utils.path.dirname(i.src);u&&u.lastIndexOf("/")!==u.length-1&&(u+="/");let c=null,p=e;n.checkExtension(i.src,".json")&&o(e)?c=t.createJsonParser():(c=t.createBinaryParser(),p=new Uint8Array(e));const m=i.data||{},f=m?.spineSkeletonScale??null;f&&(c.scale=f);const g=m.spineAtlas;if(g&&g.pages)return t.parseData(c,g,p);const y=m.atlasRawData;if(y){let e=null,i=null;const n=new Promise(((t,s)=>{e=t,i=s})),r=new s.TextureAtlas(y,a.makeSpineTextureAtlasLoaderFunctionFromPixiLoaderObject(h,u,m.imageMetadata),(t=>{t||i("Something went terribly wrong loading a spine .atlas file\nMost likely your texture failed to load."),e(r)})),o=await n;return t.parseData(c,o,p)}let x=m.spineAtlasFile;x||(x=`${u+d}.atlas`);const _=await h.load({src:x,data:m,alias:m.spineAtlasAlias});return t.parseData(c,_,p)}}};return r.extensions.add(e),e}}},48334:(t,e,i)=>{"use strict";var s=i(59663),n=i(8415),r=i(48742);const a={extension:r.ExtensionType.Asset,loader:{extension:{type:r.ExtensionType.LoadParser,priority:n.LoaderParserPriority.Normal},test:t=>n.checkExtension(t,".atlas"),async load(t){const e=await r.settings.ADAPTER.fetch(t);return await e.text()},testParse(t,e){const i=n.checkExtension(e.src,".atlas"),s="string"==typeof t;return Promise.resolve(i&&s)},async parse(t,e,i){const n=e.data;let a=r.utils.path.dirname(e.src);a&&a.lastIndexOf("/")!==a.length-1&&(a+="/");let h=null,l=null;const d=new Promise(((t,e)=>{h=t,l=e}));let u;const c=t=>{t||l("Something went terribly wrong loading a spine .atlas file\nMost likely your texture failed to load."),h(u)};if(n.image||n.images){const e=Object.assign(n.image?{default:n.image}:{},n.images);u=new s.TextureAtlas(t,((t,i)=>{const s=e[t]||e.default;s&&s.baseTexture?i(s.baseTexture):i(s)}),c)}else u=new s.TextureAtlas(t,o(i,a,n.imageMetadata),c);return await d},unload(t){t.dispose()}}},o=(t,e,i)=>async(s,n)=>{const a=r.utils.path.join(...e.split(r.utils.path.sep),s);n((await t.load({src:a,data:i})).baseTexture)};r.extensions.add(a),e.makeSpineTextureAtlasLoaderFunctionFromPixiLoaderObject=o},24801:(t,e,i)=>{"use strict";var s=i(48334),n=i(90033);e.makeSpineTextureAtlasLoaderFunctionFromPixiLoaderObject=s.makeSpineTextureAtlasLoaderFunctionFromPixiLoaderObject,e.SpineLoaderAbstract=n.SpineLoaderAbstract},27796:(t,e,i)=>{"use strict";var s=i(59663),n=i(78776),r=i(47605),a=i(3531),o=i(88343);function h(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(i){if("default"!==i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}})),e.default=t,Object.freeze(e)}var l=h(n),d=h(r),u=h(a);class c extends s.SpineBase{createSkeleton(t){const e=o.detectSpineVersion(t.version);let i=null;if(e===o.SPINE_VERSION.VER37&&(i=d),e===o.SPINE_VERSION.VER38&&(i=l),e!==o.SPINE_VERSION.VER40&&e!==o.SPINE_VERSION.VER41||(i=u),!i){const e=`Cant detect version of spine model ${t.version}`;console.error(e)}this.skeleton=new i.Skeleton(t),this.skeleton.updateWorldTransform(),this.stateData=new i.AnimationStateData(t),this.state=new i.AnimationState(this.stateData)}}e.Spine=c},95493:(t,e,i)=>{"use strict";var s=i(24801),n=i(59663),r=i(78776),a=i(47605),o=i(3531),h=i(88343);function l(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(i){if("default"!==i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}})),e.default=t,Object.freeze(e)}var d=l(r),u=l(a),c=l(o);class p{constructor(){this.scale=1}readSkeletonData(t,e){let i=null,s=this.readVersionOldFormat(e),n=h.detectSpineVersion(s);if(n===h.SPINE_VERSION.VER38&&(i=new d.SkeletonBinary(new d.AtlasAttachmentLoader(t))),s=this.readVersionNewFormat(e),n=h.detectSpineVersion(s),n!==h.SPINE_VERSION.VER40&&n!==h.SPINE_VERSION.VER41||(i=new c.SkeletonBinary(new c.AtlasAttachmentLoader(t))),!i){const t=`Unsupported version of spine model ${s}, please update pixi-spine`;console.error(t)}return i.scale=this.scale,i.readSkeletonData(e)}readVersionOldFormat(t){const e=new n.BinaryInput(t);let i;try{e.readString(),i=e.readString()}catch(t){i=""}return i||""}readVersionNewFormat(t){const e=new n.BinaryInput(t);let i;e.readInt32(),e.readInt32();try{i=e.readString()}catch(t){i=""}return i||""}}class m{constructor(){this.scale=1}readSkeletonData(t,e){const i=e.skeleton.spine,s=h.detectSpineVersion(i);let n=null;if(s===h.SPINE_VERSION.VER37&&(n=new u.SkeletonJson(new u.AtlasAttachmentLoader(t))),s===h.SPINE_VERSION.VER38&&(n=new d.SkeletonJson(new d.AtlasAttachmentLoader(t))),s!==h.SPINE_VERSION.VER40&&s!==h.SPINE_VERSION.VER41||(n=new c.SkeletonJson(new c.AtlasAttachmentLoader(t))),!n){const t=`Unsupported version of spine model ${i}, please update pixi-spine`;console.error(t)}return n.scale=this.scale,n.readSkeletonData(e)}}class f extends s.SpineLoaderAbstract{createBinaryParser(){return new p}createJsonParser(){return new m}parseData(t,e,i){return{spineData:t.readSkeletonData(e,i),spineAtlas:e}}}e.SpineLoader=f},82845:(t,e,i)=>{"use strict";i(24801);var s=i(95493),n=i(27796),r=i(88343);(new s.SpineLoader).installLoader(),e.Spine=n.Spine,e.SPINE_VERSION=r.SPINE_VERSION,e.detectSpineVersion=r.detectSpineVersion},88343:(t,e)=>{"use strict";var i=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.VER37=37]="VER37",t[t.VER38=38]="VER38",t[t.VER40=40]="VER40",t[t.VER41=41]="VER41",t))(i||{});e.SPINE_VERSION=i,e.detectSpineVersion=function(t){const e=t.substr(0,3),i=Math.floor(10*Number(e)+.001);return"3.7"===e?37:"3.8"===e?38:"4.0"===e?40:"4.1"===e?41:i<37?37:0}},35104:(t,e,i)=>{"use strict";var s=i(59663),n=i(66775),r=i(1975),a=i(31766);class o extends s.SpineBase{createSkeleton(t){this.skeleton=new n.Skeleton(t),this.skeleton.updateWorldTransform(),this.stateData=new a.AnimationStateData(t),this.state=new r.AnimationState(this.stateData)}}e.Spine=o},26680:(t,e,i)=>{"use strict";var s=i(85564),n=i(59663);i(32548);class r{constructor(t,e,i){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.duration=i}apply(t,e,i,s,n,r,a,o){if(null==t)throw new Error("skeleton cannot be null.");s&&0!=this.duration&&(i%=this.duration,e>0&&(e%=this.duration));const h=this.timelines;for(let s=0,l=h.length;s<l;s++)h[s].apply(t,e,i,n,r,a,o)}static binarySearch(t,e,i=1){let s=0,n=t.length/i-2;if(0==n)return i;let r=n>>>1;for(;;){if(t[(r+1)*i]<=e?s=r+1:n=r,s==n)return(s+1)*i;r=s+n>>>1}}static linearSearch(t,e,i){for(let s=0,n=t.length-i;s<=n;s+=i)if(t[s]>e)return s;return-1}}var a=(t=>(t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor",t))(a||{});const o=class{constructor(t){if(t<=0)throw new Error(`frameCount must be > 0: ${t}`);this.curves=n.Utils.newFloatArray((t-1)*o.BEZIER_SIZE)}getFrameCount(){return this.curves.length/o.BEZIER_SIZE+1}setLinear(t){this.curves[t*o.BEZIER_SIZE]=o.LINEAR}setStepped(t){this.curves[t*o.BEZIER_SIZE]=o.STEPPED}getCurveType(t){const e=t*o.BEZIER_SIZE;if(e==this.curves.length)return o.LINEAR;const i=this.curves[e];return i==o.LINEAR?o.LINEAR:i==o.STEPPED?o.STEPPED:o.BEZIER}setCurve(t,e,i,s,n){const r=.03*(2*-e+s),a=.03*(2*-i+n),h=.006*(3*(e-s)+1),l=.006*(3*(i-n)+1);let d=2*r+h,u=2*a+l,c=.3*e+r+.16666667*h,p=.3*i+a+.16666667*l,m=t*o.BEZIER_SIZE;const f=this.curves;f[m++]=o.BEZIER;let g=c,y=p;for(let t=m+o.BEZIER_SIZE-1;m<t;m+=2)f[m]=g,f[m+1]=y,c+=d,p+=u,d+=h,u+=l,g+=c,y+=p}getCurvePercent(t,e){e=n.MathUtils.clamp(e,0,1);const i=this.curves;let s=t*o.BEZIER_SIZE;const r=i[s];if(r==o.LINEAR)return e;if(r==o.STEPPED)return 0;s++;let a=0;for(let t=s,n=s+o.BEZIER_SIZE-1;s<n;s+=2)if(a=i[s],a>=e){let n,r;return s==t?(n=0,r=0):(n=i[s-2],r=i[s-1]),r+(i[s+1]-r)*(e-n)/(a-n)}const h=i[s-1];return h+(1-h)*(e-a)/(1-a)}};let h=o;h.LINEAR=0,h.STEPPED=1,h.BEZIER=2,h.BEZIER_SIZE=19;const l=class extends h{constructor(t){super(t),this.frames=n.Utils.newFloatArray(t<<1)}getPropertyId(){return 0+this.boneIndex}setFrame(t,e,i){t<<=1,this.frames[t]=e,this.frames[t+l.ROTATION]=i}apply(t,e,i,s,a,o,h){const d=this.frames,u=t.bones[this.boneIndex];if(i<d[0]){switch(o){case n.MixBlend.setup:return void(u.rotation=u.data.rotation);case n.MixBlend.first:const t=u.data.rotation-u.rotation;u.rotation+=(t-360*(16384-(16384.499999999996-t/360|0)))*a}return}if(i>=d[d.length-l.ENTRIES]){let t=d[d.length+l.PREV_ROTATION];switch(o){case n.MixBlend.setup:u.rotation=u.data.rotation+t*a;break;case n.MixBlend.first:case n.MixBlend.replace:t+=u.data.rotation-u.rotation,t-=360*(16384-(16384.499999999996-t/360|0));case n.MixBlend.add:u.rotation+=t*a}return}const c=r.binarySearch(d,i,l.ENTRIES),p=d[c+l.PREV_ROTATION],m=d[c],f=this.getCurvePercent((c>>1)-1,1-(i-m)/(d[c+l.PREV_TIME]-m));let g=d[c+l.ROTATION]-p;switch(g=p+(g-360*(16384-(16384.499999999996-g/360|0)))*f,o){case n.MixBlend.setup:u.rotation=u.data.rotation+(g-360*(16384-(16384.499999999996-g/360|0)))*a;break;case n.MixBlend.first:case n.MixBlend.replace:g+=u.data.rotation-u.rotation;case n.MixBlend.add:u.rotation+=(g-360*(16384-(16384.499999999996-g/360|0)))*a}}};let d=l;d.ENTRIES=2,d.PREV_TIME=-2,d.PREV_ROTATION=-1,d.ROTATION=1;const u=class extends h{constructor(t){super(t),this.frames=n.Utils.newFloatArray(t*u.ENTRIES)}getPropertyId(){return(1<<24)+this.boneIndex}setFrame(t,e,i,s){t*=u.ENTRIES,this.frames[t]=e,this.frames[t+u.X]=i,this.frames[t+u.Y]=s}apply(t,e,i,s,a,o,h){const l=this.frames,d=t.bones[this.boneIndex];if(i<l[0]){switch(o){case n.MixBlend.setup:return d.x=d.data.x,void(d.y=d.data.y);case n.MixBlend.first:d.x+=(d.data.x-d.x)*a,d.y+=(d.data.y-d.y)*a}return}let c=0,p=0;if(i>=l[l.length-u.ENTRIES])c=l[l.length+u.PREV_X],p=l[l.length+u.PREV_Y];else{const t=r.binarySearch(l,i,u.ENTRIES);c=l[t+u.PREV_X],p=l[t+u.PREV_Y];const e=l[t],s=this.getCurvePercent(t/u.ENTRIES-1,1-(i-e)/(l[t+u.PREV_TIME]-e));c+=(l[t+u.X]-c)*s,p+=(l[t+u.Y]-p)*s}switch(o){case n.MixBlend.setup:d.x=d.data.x+c*a,d.y=d.data.y+p*a;break;case n.MixBlend.first:case n.MixBlend.replace:d.x+=(d.data.x+c-d.x)*a,d.y+=(d.data.y+p-d.y)*a;break;case n.MixBlend.add:d.x+=c*a,d.y+=p*a}}};let c=u;c.ENTRIES=3,c.PREV_TIME=-3,c.PREV_X=-2,c.PREV_Y=-1,c.X=1,c.Y=2;class p extends c{constructor(t){super(t)}getPropertyId(){return(2<<24)+this.boneIndex}apply(t,e,i,s,a,o,h){const l=this.frames,d=t.bones[this.boneIndex];if(i<l[0]){switch(o){case n.MixBlend.setup:return d.scaleX=d.data.scaleX,void(d.scaleY=d.data.scaleY);case n.MixBlend.first:d.scaleX+=(d.data.scaleX-d.scaleX)*a,d.scaleY+=(d.data.scaleY-d.scaleY)*a}return}let u=0,c=0;if(i>=l[l.length-p.ENTRIES])u=l[l.length+p.PREV_X]*d.data.scaleX,c=l[l.length+p.PREV_Y]*d.data.scaleY;else{const t=r.binarySearch(l,i,p.ENTRIES);u=l[t+p.PREV_X],c=l[t+p.PREV_Y];const e=l[t],s=this.getCurvePercent(t/p.ENTRIES-1,1-(i-e)/(l[t+p.PREV_TIME]-e));u=(u+(l[t+p.X]-u)*s)*d.data.scaleX,c=(c+(l[t+p.Y]-c)*s)*d.data.scaleY}if(1==a)o==n.MixBlend.add?(d.scaleX+=u-d.data.scaleX,d.scaleY+=c-d.data.scaleY):(d.scaleX=u,d.scaleY=c);else{let t=0,e=0;if(h==n.MixDirection.mixOut)switch(o){case n.MixBlend.setup:t=d.data.scaleX,e=d.data.scaleY,d.scaleX=t+(Math.abs(u)*n.MathUtils.signum(t)-t)*a,d.scaleY=e+(Math.abs(c)*n.MathUtils.signum(e)-e)*a;break;case n.MixBlend.first:case n.MixBlend.replace:t=d.scaleX,e=d.scaleY,d.scaleX=t+(Math.abs(u)*n.MathUtils.signum(t)-t)*a,d.scaleY=e+(Math.abs(c)*n.MathUtils.signum(e)-e)*a;break;case n.MixBlend.add:t=d.scaleX,e=d.scaleY,d.scaleX=t+(Math.abs(u)*n.MathUtils.signum(t)-d.data.scaleX)*a,d.scaleY=e+(Math.abs(c)*n.MathUtils.signum(e)-d.data.scaleY)*a}else switch(o){case n.MixBlend.setup:t=Math.abs(d.data.scaleX)*n.MathUtils.signum(u),e=Math.abs(d.data.scaleY)*n.MathUtils.signum(c),d.scaleX=t+(u-t)*a,d.scaleY=e+(c-e)*a;break;case n.MixBlend.first:case n.MixBlend.replace:t=Math.abs(d.scaleX)*n.MathUtils.signum(u),e=Math.abs(d.scaleY)*n.MathUtils.signum(c),d.scaleX=t+(u-t)*a,d.scaleY=e+(c-e)*a;break;case n.MixBlend.add:t=n.MathUtils.signum(u),e=n.MathUtils.signum(c),d.scaleX=Math.abs(d.scaleX)*t+(u-Math.abs(d.data.scaleX)*t)*a,d.scaleY=Math.abs(d.scaleY)*e+(c-Math.abs(d.data.scaleY)*e)*a}}}}class m extends c{constructor(t){super(t)}getPropertyId(){return(3<<24)+this.boneIndex}apply(t,e,i,s,a,o,h){const l=this.frames,d=t.bones[this.boneIndex];if(i<l[0]){switch(o){case n.MixBlend.setup:return d.shearX=d.data.shearX,void(d.shearY=d.data.shearY);case n.MixBlend.first:d.shearX+=(d.data.shearX-d.shearX)*a,d.shearY+=(d.data.shearY-d.shearY)*a}return}let u=0,c=0;if(i>=l[l.length-m.ENTRIES])u=l[l.length+m.PREV_X],c=l[l.length+m.PREV_Y];else{const t=r.binarySearch(l,i,m.ENTRIES);u=l[t+m.PREV_X],c=l[t+m.PREV_Y];const e=l[t],s=this.getCurvePercent(t/m.ENTRIES-1,1-(i-e)/(l[t+m.PREV_TIME]-e));u+=(l[t+m.X]-u)*s,c+=(l[t+m.Y]-c)*s}switch(o){case n.MixBlend.setup:d.shearX=d.data.shearX+u*a,d.shearY=d.data.shearY+c*a;break;case n.MixBlend.first:case n.MixBlend.replace:d.shearX+=(d.data.shearX+u-d.shearX)*a,d.shearY+=(d.data.shearY+c-d.shearY)*a;break;case n.MixBlend.add:d.shearX+=u*a,d.shearY+=c*a}}}const f=class extends h{constructor(t){super(t),this.frames=n.Utils.newFloatArray(t*f.ENTRIES)}getPropertyId(){return(5<<24)+this.slotIndex}setFrame(t,e,i,s,n,r){t*=f.ENTRIES,this.frames[t]=e,this.frames[t+f.R]=i,this.frames[t+f.G]=s,this.frames[t+f.B]=n,this.frames[t+f.A]=r}apply(t,e,i,s,a,o,h){const l=t.slots[this.slotIndex],d=this.frames;if(i<d[0]){switch(o){case n.MixBlend.setup:return void l.color.setFromColor(l.data.color);case n.MixBlend.first:const t=l.color,e=l.data.color;t.add((e.r-t.r)*a,(e.g-t.g)*a,(e.b-t.b)*a,(e.a-t.a)*a)}return}let u=0,c=0,p=0,m=0;if(i>=d[d.length-f.ENTRIES]){const t=d.length;u=d[t+f.PREV_R],c=d[t+f.PREV_G],p=d[t+f.PREV_B],m=d[t+f.PREV_A]}else{const t=r.binarySearch(d,i,f.ENTRIES);u=d[t+f.PREV_R],c=d[t+f.PREV_G],p=d[t+f.PREV_B],m=d[t+f.PREV_A];const e=d[t],s=this.getCurvePercent(t/f.ENTRIES-1,1-(i-e)/(d[t+f.PREV_TIME]-e));u+=(d[t+f.R]-u)*s,c+=(d[t+f.G]-c)*s,p+=(d[t+f.B]-p)*s,m+=(d[t+f.A]-m)*s}if(1==a)l.color.set(u,c,p,m);else{const t=l.color;o==n.MixBlend.setup&&t.setFromColor(l.data.color),t.add((u-t.r)*a,(c-t.g)*a,(p-t.b)*a,(m-t.a)*a)}}};let g=f;g.ENTRIES=5,g.PREV_TIME=-5,g.PREV_R=-4,g.PREV_G=-3,g.PREV_B=-2,g.PREV_A=-1,g.R=1,g.G=2,g.B=3,g.A=4;const y=class extends h{constructor(t){super(t),this.frames=n.Utils.newFloatArray(t*y.ENTRIES)}getPropertyId(){return(14<<24)+this.slotIndex}setFrame(t,e,i,s,n,r,a,o,h){t*=y.ENTRIES,this.frames[t]=e,this.frames[t+y.R]=i,this.frames[t+y.G]=s,this.frames[t+y.B]=n,this.frames[t+y.A]=r,this.frames[t+y.R2]=a,this.frames[t+y.G2]=o,this.frames[t+y.B2]=h}apply(t,e,i,s,a,o,h){const l=t.slots[this.slotIndex],d=this.frames;if(i<d[0]){switch(o){case n.MixBlend.setup:return l.color.setFromColor(l.data.color),void l.darkColor.setFromColor(l.data.darkColor);case n.MixBlend.first:const t=l.color,e=l.darkColor,i=l.data.color,s=l.data.darkColor;t.add((i.r-t.r)*a,(i.g-t.g)*a,(i.b-t.b)*a,(i.a-t.a)*a),e.add((s.r-e.r)*a,(s.g-e.g)*a,(s.b-e.b)*a,0)}return}let u=0,c=0,p=0,m=0,f=0,g=0,x=0;if(i>=d[d.length-y.ENTRIES]){const t=d.length;u=d[t+y.PREV_R],c=d[t+y.PREV_G],p=d[t+y.PREV_B],m=d[t+y.PREV_A],f=d[t+y.PREV_R2],g=d[t+y.PREV_G2],x=d[t+y.PREV_B2]}else{const t=r.binarySearch(d,i,y.ENTRIES);u=d[t+y.PREV_R],c=d[t+y.PREV_G],p=d[t+y.PREV_B],m=d[t+y.PREV_A],f=d[t+y.PREV_R2],g=d[t+y.PREV_G2],x=d[t+y.PREV_B2];const e=d[t],s=this.getCurvePercent(t/y.ENTRIES-1,1-(i-e)/(d[t+y.PREV_TIME]-e));u+=(d[t+y.R]-u)*s,c+=(d[t+y.G]-c)*s,p+=(d[t+y.B]-p)*s,m+=(d[t+y.A]-m)*s,f+=(d[t+y.R2]-f)*s,g+=(d[t+y.G2]-g)*s,x+=(d[t+y.B2]-x)*s}if(1==a)l.color.set(u,c,p,m),l.darkColor.set(f,g,x,1);else{const t=l.color,e=l.darkColor;o==n.MixBlend.setup&&(t.setFromColor(l.data.color),e.setFromColor(l.data.darkColor)),t.add((u-t.r)*a,(c-t.g)*a,(p-t.b)*a,(m-t.a)*a),e.add((f-e.r)*a,(g-e.g)*a,(x-e.b)*a,0)}}};let x=y;x.ENTRIES=8,x.PREV_TIME=-8,x.PREV_R=-7,x.PREV_G=-6,x.PREV_B=-5,x.PREV_A=-4,x.PREV_R2=-3,x.PREV_G2=-2,x.PREV_B2=-1,x.R=1,x.G=2,x.B=3,x.A=4,x.R2=5,x.G2=6,x.B2=7;let _=null;const b=class extends h{constructor(t){super(t),this.frames=n.Utils.newFloatArray(t*b.ENTRIES)}getPropertyId(){return(9<<24)+this.ikConstraintIndex}setFrame(t,e,i,s,n,r){t*=b.ENTRIES,this.frames[t]=e,this.frames[t+b.MIX]=i,this.frames[t+b.BEND_DIRECTION]=s,this.frames[t+b.COMPRESS]=n?1:0,this.frames[t+b.STRETCH]=r?1:0}apply(t,e,i,s,a,o,h){const l=this.frames,d=t.ikConstraints[this.ikConstraintIndex];if(i<l[0]){switch(o){case n.MixBlend.setup:return d.mix=d.data.mix,d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,void(d.stretch=d.data.stretch);case n.MixBlend.first:d.mix+=(d.data.mix-d.mix)*a,d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch}return}if(i>=l[l.length-b.ENTRIES])return void(o==n.MixBlend.setup?(d.mix=d.data.mix+(l[l.length+b.PREV_MIX]-d.data.mix)*a,h==n.MixDirection.mixOut?(d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch):(d.bendDirection=l[l.length+b.PREV_BEND_DIRECTION],d.compress=0!=l[l.length+b.PREV_COMPRESS],d.stretch=0!=l[l.length+b.PREV_STRETCH])):(d.mix+=(l[l.length+b.PREV_MIX]-d.mix)*a,h==n.MixDirection.mixIn&&(d.bendDirection=l[l.length+b.PREV_BEND_DIRECTION],d.compress=0!=l[l.length+b.PREV_COMPRESS],d.stretch=0!=l[l.length+b.PREV_STRETCH])));const u=r.binarySearch(l,i,b.ENTRIES),c=l[u+b.PREV_MIX],p=l[u],m=this.getCurvePercent(u/b.ENTRIES-1,1-(i-p)/(l[u+b.PREV_TIME]-p));o==n.MixBlend.setup?(d.mix=d.data.mix+(c+(l[u+b.MIX]-c)*m-d.data.mix)*a,h==n.MixDirection.mixOut?(d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch):(d.bendDirection=l[u+b.PREV_BEND_DIRECTION],d.compress=0!=l[u+b.PREV_COMPRESS],d.stretch=0!=l[u+b.PREV_STRETCH])):(d.mix+=(c+(l[u+b.MIX]-c)*m-d.mix)*a,h==n.MixDirection.mixIn&&(d.bendDirection=l[u+b.PREV_BEND_DIRECTION],d.compress=0!=l[u+b.PREV_COMPRESS],d.stretch=0!=l[u+b.PREV_STRETCH]))}};let v=b;v.ENTRIES=5,v.PREV_TIME=-5,v.PREV_MIX=-4,v.PREV_BEND_DIRECTION=-3,v.PREV_COMPRESS=-2,v.PREV_STRETCH=-1,v.MIX=1,v.BEND_DIRECTION=2,v.COMPRESS=3,v.STRETCH=4;const S=class extends h{constructor(t){super(t),this.frames=n.Utils.newFloatArray(t*S.ENTRIES)}getPropertyId(){return(10<<24)+this.transformConstraintIndex}setFrame(t,e,i,s,n,r){t*=S.ENTRIES,this.frames[t]=e,this.frames[t+S.ROTATE]=i,this.frames[t+S.TRANSLATE]=s,this.frames[t+S.SCALE]=n,this.frames[t+S.SHEAR]=r}apply(t,e,i,s,a,o,h){const l=this.frames,d=t.transformConstraints[this.transformConstraintIndex];if(i<l[0]){const t=d.data;switch(o){case n.MixBlend.setup:return d.rotateMix=t.rotateMix,d.translateMix=t.translateMix,d.scaleMix=t.scaleMix,void(d.shearMix=t.shearMix);case n.MixBlend.first:d.rotateMix+=(t.rotateMix-d.rotateMix)*a,d.translateMix+=(t.translateMix-d.translateMix)*a,d.scaleMix+=(t.scaleMix-d.scaleMix)*a,d.shearMix+=(t.shearMix-d.shearMix)*a}return}let u=0,c=0,p=0,m=0;if(i>=l[l.length-S.ENTRIES]){const t=l.length;u=l[t+S.PREV_ROTATE],c=l[t+S.PREV_TRANSLATE],p=l[t+S.PREV_SCALE],m=l[t+S.PREV_SHEAR]}else{const t=r.binarySearch(l,i,S.ENTRIES);u=l[t+S.PREV_ROTATE],c=l[t+S.PREV_TRANSLATE],p=l[t+S.PREV_SCALE],m=l[t+S.PREV_SHEAR];const e=l[t],s=this.getCurvePercent(t/S.ENTRIES-1,1-(i-e)/(l[t+S.PREV_TIME]-e));u+=(l[t+S.ROTATE]-u)*s,c+=(l[t+S.TRANSLATE]-c)*s,p+=(l[t+S.SCALE]-p)*s,m+=(l[t+S.SHEAR]-m)*s}if(o==n.MixBlend.setup){const t=d.data;d.rotateMix=t.rotateMix+(u-t.rotateMix)*a,d.translateMix=t.translateMix+(c-t.translateMix)*a,d.scaleMix=t.scaleMix+(p-t.scaleMix)*a,d.shearMix=t.shearMix+(m-t.shearMix)*a}else d.rotateMix+=(u-d.rotateMix)*a,d.translateMix+=(c-d.translateMix)*a,d.scaleMix+=(p-d.scaleMix)*a,d.shearMix+=(m-d.shearMix)*a}};let T=S;T.ENTRIES=5,T.PREV_TIME=-5,T.PREV_ROTATE=-4,T.PREV_TRANSLATE=-3,T.PREV_SCALE=-2,T.PREV_SHEAR=-1,T.ROTATE=1,T.TRANSLATE=2,T.SCALE=3,T.SHEAR=4;const w=class extends h{constructor(t){super(t),this.frames=n.Utils.newFloatArray(t*w.ENTRIES)}getPropertyId(){return(11<<24)+this.pathConstraintIndex}setFrame(t,e,i){t*=w.ENTRIES,this.frames[t]=e,this.frames[t+w.VALUE]=i}apply(t,e,i,s,a,o,h){const l=this.frames,d=t.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(o){case n.MixBlend.setup:return void(d.position=d.data.position);case n.MixBlend.first:d.position+=(d.data.position-d.position)*a}return}let u=0;if(i>=l[l.length-w.ENTRIES])u=l[l.length+w.PREV_VALUE];else{const t=r.binarySearch(l,i,w.ENTRIES);u=l[t+w.PREV_VALUE];const e=l[t],s=this.getCurvePercent(t/w.ENTRIES-1,1-(i-e)/(l[t+w.PREV_TIME]-e));u+=(l[t+w.VALUE]-u)*s}o==n.MixBlend.setup?d.position=d.data.position+(u-d.data.position)*a:d.position+=(u-d.position)*a}};let E=w;E.ENTRIES=2,E.PREV_TIME=-2,E.PREV_VALUE=-1,E.VALUE=1;class C extends E{constructor(t){super(t)}getPropertyId(){return(12<<24)+this.pathConstraintIndex}apply(t,e,i,s,a,o,h){const l=this.frames,d=t.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(o){case n.MixBlend.setup:return void(d.spacing=d.data.spacing);case n.MixBlend.first:d.spacing+=(d.data.spacing-d.spacing)*a}return}let u=0;if(i>=l[l.length-C.ENTRIES])u=l[l.length+C.PREV_VALUE];else{const t=r.binarySearch(l,i,C.ENTRIES);u=l[t+C.PREV_VALUE];const e=l[t],s=this.getCurvePercent(t/C.ENTRIES-1,1-(i-e)/(l[t+C.PREV_TIME]-e));u+=(l[t+C.VALUE]-u)*s}o==n.MixBlend.setup?d.spacing=d.data.spacing+(u-d.data.spacing)*a:d.spacing+=(u-d.spacing)*a}}const A=class extends h{constructor(t){super(t),this.frames=n.Utils.newFloatArray(t*A.ENTRIES)}getPropertyId(){return(13<<24)+this.pathConstraintIndex}setFrame(t,e,i,s){t*=A.ENTRIES,this.frames[t]=e,this.frames[t+A.ROTATE]=i,this.frames[t+A.TRANSLATE]=s}apply(t,e,i,s,a,o,h){const l=this.frames,d=t.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(o){case n.MixBlend.setup:return d.rotateMix=d.data.rotateMix,void(d.translateMix=d.data.translateMix);case n.MixBlend.first:d.rotateMix+=(d.data.rotateMix-d.rotateMix)*a,d.translateMix+=(d.data.translateMix-d.translateMix)*a}return}let u=0,c=0;if(i>=l[l.length-A.ENTRIES])u=l[l.length+A.PREV_ROTATE],c=l[l.length+A.PREV_TRANSLATE];else{const t=r.binarySearch(l,i,A.ENTRIES);u=l[t+A.PREV_ROTATE],c=l[t+A.PREV_TRANSLATE];const e=l[t],s=this.getCurvePercent(t/A.ENTRIES-1,1-(i-e)/(l[t+A.PREV_TIME]-e));u+=(l[t+A.ROTATE]-u)*s,c+=(l[t+A.TRANSLATE]-c)*s}o==n.MixBlend.setup?(d.rotateMix=d.data.rotateMix+(u-d.data.rotateMix)*a,d.translateMix=d.data.translateMix+(c-d.data.translateMix)*a):(d.rotateMix+=(u-d.rotateMix)*a,d.translateMix+=(c-d.translateMix)*a)}};let M=A;M.ENTRIES=3,M.PREV_TIME=-3,M.PREV_ROTATE=-2,M.PREV_TRANSLATE=-1,M.ROTATE=1,M.TRANSLATE=2,e.Animation=r,e.AttachmentTimeline=class{constructor(t){this.frames=n.Utils.newFloatArray(t),this.attachmentNames=new Array(t)}getPropertyId(){return(4<<24)+this.slotIndex}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.attachmentNames[t]=i}apply(t,e,i,s,a,o,h){const l=t.slots[this.slotIndex];if(h==n.MixDirection.mixOut&&o==n.MixBlend.setup){const e=l.data.attachmentName;return void l.setAttachment(null==e?null:t.getAttachment(this.slotIndex,e))}const d=this.frames;if(i<d[0]){if(o==n.MixBlend.setup||o==n.MixBlend.first){const e=l.data.attachmentName;l.setAttachment(null==e?null:t.getAttachment(this.slotIndex,e))}return}let u=0;u=i>=d[d.length-1]?d.length-1:r.binarySearch(d,i,1)-1;const c=this.attachmentNames[u];t.slots[this.slotIndex].setAttachment(null==c?null:t.getAttachment(this.slotIndex,c))}},e.ColorTimeline=g,e.CurveTimeline=h,e.DeformTimeline=class extends h{constructor(t){super(t),this.frames=n.Utils.newFloatArray(t),this.frameVertices=new Array(t),null==_&&(_=n.Utils.newFloatArray(64))}getPropertyId(){return(6<<27)+Number(this.attachment.id)+this.slotIndex}setFrame(t,e,i){this.frames[t]=e,this.frameVertices[t]=i}apply(t,e,i,a,o,h,l){const d=t.slots[this.slotIndex],u=d.getAttachment();if(!(u instanceof s.VertexAttachment&&u.applyDeform(this.attachment)))return;const c=d.attachmentVertices;0==c.length&&(h=n.MixBlend.setup);const p=this.frameVertices,m=p[0].length,f=this.frames;if(i<f[0]){const t=u;switch(h){case n.MixBlend.setup:return void(c.length=0);case n.MixBlend.first:if(1==o){c.length=0;break}const e=n.Utils.setArraySize(c,m);if(null==t.bones){const i=t.vertices;for(let t=0;t<m;t++)e[t]+=(i[t]-e[t])*o}else{o=1-o;for(let t=0;t<m;t++)e[t]*=o}}return}const g=n.Utils.setArraySize(c,m);if(i>=f[f.length-1]){const t=p[f.length-1];if(1==o)if(h==n.MixBlend.add){const e=u;if(null==e.bones){const i=e.vertices;for(let e=0;e<m;e++)g[e]+=t[e]-i[e]}else for(let e=0;e<m;e++)g[e]+=t[e]}else n.Utils.arrayCopy(t,0,g,0,m);else switch(h){case n.MixBlend.setup:{const e=u;if(null==e.bones){const i=e.vertices;for(let e=0;e<m;e++){const s=i[e];g[e]=s+(t[e]-s)*o}}else for(let e=0;e<m;e++)g[e]=t[e]*o;break}case n.MixBlend.first:case n.MixBlend.replace:for(let e=0;e<m;e++)g[e]+=(t[e]-g[e])*o;case n.MixBlend.add:const e=u;if(null==e.bones){const i=e.vertices;for(let e=0;e<m;e++)g[e]+=(t[e]-i[e])*o}else for(let e=0;e<m;e++)g[e]+=t[e]*o}return}const y=r.binarySearch(f,i),x=p[y-1],_=p[y],b=f[y],v=this.getCurvePercent(y-1,1-(i-b)/(f[y-1]-b));if(1==o)if(h==n.MixBlend.add){const t=u;if(null==t.bones){const e=t.vertices;for(let t=0;t<m;t++){const i=x[t];g[t]+=i+(_[t]-i)*v-e[t]}}else for(let t=0;t<m;t++){const e=x[t];g[t]+=e+(_[t]-e)*v}}else for(let t=0;t<m;t++){const e=x[t];g[t]=e+(_[t]-e)*v}else switch(h){case n.MixBlend.setup:{const t=u;if(null==t.bones){const e=t.vertices;for(let t=0;t<m;t++){const i=x[t],s=e[t];g[t]=s+(i+(_[t]-i)*v-s)*o}}else for(let t=0;t<m;t++){const e=x[t];g[t]=(e+(_[t]-e)*v)*o}break}case n.MixBlend.first:case n.MixBlend.replace:for(let t=0;t<m;t++){const e=x[t];g[t]+=(e+(_[t]-e)*v-g[t])*o}break;case n.MixBlend.add:const t=u;if(null==t.bones){const e=t.vertices;for(let t=0;t<m;t++){const i=x[t];g[t]+=(i+(_[t]-i)*v-e[t])*o}}else for(let t=0;t<m;t++){const e=x[t];g[t]+=(e+(_[t]-e)*v)*o}}}},e.DrawOrderTimeline=class{constructor(t){this.frames=n.Utils.newFloatArray(t),this.drawOrders=new Array(t)}getPropertyId(){return 8<<24}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.drawOrders[t]=i}apply(t,e,i,s,a,o,h){const l=t.drawOrder,d=t.slots;if(h==n.MixDirection.mixOut&&o==n.MixBlend.setup)return void n.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);const u=this.frames;if(i<u[0])return void(o!=n.MixBlend.setup&&o!=n.MixBlend.first||n.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length));let c=0;c=i>=u[u.length-1]?u.length-1:r.binarySearch(u,i)-1;const p=this.drawOrders[c];if(null==p)n.Utils.arrayCopy(d,0,l,0,d.length);else for(let t=0,e=p.length;t<e;t++)l[t]=d[p[t]]}},e.EventTimeline=class{constructor(t){this.frames=n.Utils.newFloatArray(t),this.events=new Array(t)}getPropertyId(){return 7<<24}getFrameCount(){return this.frames.length}setFrame(t,e){this.frames[t]=e.time,this.events[t]=e}apply(t,e,i,s,n,a,o){if(null==s)return;const h=this.frames,l=this.frames.length;if(e>i)this.apply(t,e,Number.MAX_VALUE,s,n,a,o),e=-1;else if(e>=h[l-1])return;if(i<h[0])return;let d=0;if(e<h[0])d=0;else{d=r.binarySearch(h,e);const t=h[d];for(;d>0&&h[d-1]==t;)d--}for(;d<l&&i>=h[d];d++)s.push(this.events[d])}},e.IkConstraintTimeline=v,e.PathConstraintMixTimeline=M,e.PathConstraintPositionTimeline=E,e.PathConstraintSpacingTimeline=C,e.RotateTimeline=d,e.ScaleTimeline=p,e.ShearTimeline=m,e.TimelineType=a,e.TransformConstraintTimeline=T,e.TranslateTimeline=c,e.TwoColorTimeline=x},1975:(t,e,i)=>{"use strict";var s=i(59663),n=i(26680);const r=class{constructor(t){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new d(this),this.propertyIDs=new s.IntSet,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new s.Pool((()=>new h)),this.data=t}update(t){t*=this.timeScale;const e=this.tracks;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(null==s)continue;s.animationLast=s.nextAnimationLast,s.trackLast=s.nextTrackLast;let n=t*s.timeScale;if(s.delay>0){if(s.delay-=n,s.delay>0)continue;n=-s.delay,s.delay=0}let r=s.next;if(null!=r){const e=s.trackLast-r.delay;if(e>=0){for(r.delay=0,r.trackTime=0==s.timeScale?0:(e/s.timeScale+t)*r.timeScale,s.trackTime+=n,this.setCurrent(i,r,!0);null!=r.mixingFrom;)r.mixTime+=t,r=r.mixingFrom;continue}}else if(s.trackLast>=s.trackEnd&&null==s.mixingFrom){e[i]=null,this.queue.end(s),this.disposeNext(s);continue}if(null!=s.mixingFrom&&this.updateMixingFrom(s,t)){let t=s.mixingFrom;for(s.mixingFrom=null,null!=t&&(t.mixingTo=null);null!=t;)this.queue.end(t),t=t.mixingFrom}s.trackTime+=n}this.queue.drain()}updateMixingFrom(t,e){const i=t.mixingFrom;if(null==i)return!0;const s=this.updateMixingFrom(i,e);return i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=i.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=i.mixingFrom,null!=i.mixingFrom&&(i.mixingFrom.mixingTo=t),t.interruptAlpha=i.interruptAlpha,this.queue.end(i)),s):(i.trackTime+=e*i.timeScale,t.mixTime+=e,!1)}apply(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();const e=this.events,i=this.tracks;let a=!1;for(let o=0,h=i.length;o<h;o++){const h=i[o];if(null==h||h.delay>0)continue;a=!0;const l=0==o?s.MixBlend.first:h.mixBlend;let d=h.alpha;null!=h.mixingFrom?d*=this.applyMixingFrom(h,t,l):h.trackTime>=h.trackEnd&&null==h.next&&(d=0);const u=h.animationLast,c=h.getAnimationTime(),p=h.animation.timelines.length,m=h.animation.timelines;if(0==o&&1==d||l==s.MixBlend.add)for(let i=0;i<p;i++)s.Utils.webkit602BugfixHelper(d,l),m[i].apply(t,u,c,e,d,l,s.MixDirection.mixIn);else{const i=h.timelineMode,a=0==h.timelinesRotation.length;a&&s.Utils.setArraySize(h.timelinesRotation,p<<1,null);const o=h.timelinesRotation;for(let h=0;h<p;h++){const p=m[h],f=i[h]==r.SUBSEQUENT?l:s.MixBlend.setup;p instanceof n.RotateTimeline?this.applyRotateTimeline(p,t,c,d,f,o,h<<1,a):(s.Utils.webkit602BugfixHelper(d,l),p.apply(t,u,c,e,d,f,s.MixDirection.mixIn))}}this.queueEvents(h,c),e.length=0,h.nextAnimationLast=c,h.nextTrackLast=h.trackTime}return this.queue.drain(),a}applyMixingFrom(t,e,i){const a=t.mixingFrom;null!=a.mixingFrom&&this.applyMixingFrom(a,e,i);let o=0;0==t.mixDuration?(o=1,i==s.MixBlend.first&&(i=s.MixBlend.setup)):(o=t.mixTime/t.mixDuration,o>1&&(o=1),i!=s.MixBlend.first&&(i=a.mixBlend));const h=o<a.eventThreshold?this.events:null,l=o<a.attachmentThreshold,d=o<a.drawOrderThreshold,u=a.animationLast,c=a.getAnimationTime(),p=a.animation.timelines.length,m=a.animation.timelines,f=a.alpha*t.interruptAlpha,g=f*(1-o);if(i==s.MixBlend.add)for(let t=0;t<p;t++)m[t].apply(e,u,c,h,g,i,s.MixDirection.mixOut);else{const t=a.timelineMode,o=a.timelineHoldMix,y=0==a.timelinesRotation.length;y&&s.Utils.setArraySize(a.timelinesRotation,p<<1,null);const x=a.timelinesRotation;a.totalAlpha=0;for(let _=0;_<p;_++){const p=m[_];let b,v=s.MixDirection.mixOut,S=0;switch(t[_]){case r.SUBSEQUENT:if(!l&&p instanceof n.AttachmentTimeline)continue;if(!d&&p instanceof n.DrawOrderTimeline)continue;b=i,S=g;break;case r.FIRST:b=s.MixBlend.setup,S=g;break;case r.HOLD:b=s.MixBlend.setup,S=f;break;default:b=s.MixBlend.setup;const t=o[_];S=f*Math.max(0,1-t.mixTime/t.mixDuration)}a.totalAlpha+=S,p instanceof n.RotateTimeline?this.applyRotateTimeline(p,e,c,S,b,x,_<<1,y):(s.Utils.webkit602BugfixHelper(S,i),b==s.MixBlend.setup&&(p instanceof n.AttachmentTimeline?l&&(v=s.MixDirection.mixOut):p instanceof n.DrawOrderTimeline&&d&&(v=s.MixDirection.mixOut)),p.apply(e,u,c,h,S,b,v))}}return t.mixDuration>0&&this.queueEvents(a,c),this.events.length=0,a.nextAnimationLast=c,a.nextTrackLast=a.trackTime,o}applyRotateTimeline(t,e,i,r,a,o,h,l){if(l&&(o[h]=0),1==r)return void t.apply(e,0,i,null,1,a,s.MixDirection.mixIn);const d=t,u=d.frames,c=e.bones[d.boneIndex];let p=0,m=0;if(i<u[0])switch(a){case s.MixBlend.setup:c.rotation=c.data.rotation;default:return;case s.MixBlend.first:p=c.rotation,m=c.data.rotation}else if(p=a==s.MixBlend.setup?c.data.rotation:c.rotation,i>=u[u.length-n.RotateTimeline.ENTRIES])m=c.data.rotation+u[u.length+n.RotateTimeline.PREV_ROTATION];else{const t=n.Animation.binarySearch(u,i,n.RotateTimeline.ENTRIES),e=u[t+n.RotateTimeline.PREV_ROTATION],s=u[t],r=d.getCurvePercent((t>>1)-1,1-(i-s)/(u[t+n.RotateTimeline.PREV_TIME]-s));m=u[t+n.RotateTimeline.ROTATION]-e,m-=360*(16384-(16384.499999999996-m/360|0)),m=e+m*r+c.data.rotation,m-=360*(16384-(16384.499999999996-m/360|0))}let f=0,g=m-p;if(g-=360*(16384-(16384.499999999996-g/360|0)),0==g)f=o[h];else{let t=0,e=0;l?(t=0,e=g):(t=o[h],e=o[h+1]);const i=g>0;let n=t>=0;s.MathUtils.signum(e)!=s.MathUtils.signum(g)&&Math.abs(e)<=90&&(Math.abs(t)>180&&(t+=360*s.MathUtils.signum(t)),n=i),f=g+t-t%360,n!=i&&(f+=360*s.MathUtils.signum(t)),o[h]=f}o[h+1]=g,p+=f*r,c.rotation=p-360*(16384-(16384.499999999996-p/360|0))}queueEvents(t,e){const i=t.animationStart,s=t.animationEnd,n=s-i,r=t.trackLast%n,a=this.events;let o=0;const h=a.length;for(;o<h;o++){const e=a[o];if(e.time<r)break;e.time>s||this.queue.event(t,e)}let l=!1;for(l=t.loop?0==n||r>t.trackTime%n:e>=s&&t.animationLast<s,l&&this.queue.complete(t);o<h;o++){a[o].time<i||this.queue.event(t,a[o])}}clearTracks(){const t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let t=0,e=this.tracks.length;t<e;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()}clearTrack(t){if(t>=this.tracks.length)return;const e=this.tracks[t];if(null==e)return;this.queue.end(e),this.disposeNext(e);let i=e;for(;;){const t=i.mixingFrom;if(null==t)break;this.queue.end(t),i.mixingFrom=null,i.mixingTo=null,i=t}this.tracks[e.trackIndex]=null,this.queue.drain()}setCurrent(t,e,i){const s=this.expandToIndex(t);this.tracks[t]=e,null!=s&&(i&&this.queue.interrupt(s),e.mixingFrom=s,s.mixingTo=e,e.mixTime=0,null!=s.mixingFrom&&s.mixDuration>0&&(e.interruptAlpha*=Math.min(1,s.mixTime/s.mixDuration)),s.timelinesRotation.length=0),this.queue.start(e)}setAnimation(t,e,i){const s=this.data.skeletonData.findAnimation(e);if(null==s)throw new Error(`Animation not found: ${e}`);return this.setAnimationWith(t,s,i)}setAnimationWith(t,e,i){if(null==e)throw new Error("animation cannot be null.");let s=!0,n=this.expandToIndex(t);null!=n&&(-1==n.nextTrackLast?(this.tracks[t]=n.mixingFrom,this.queue.interrupt(n),this.queue.end(n),this.disposeNext(n),n=n.mixingFrom,s=!1):this.disposeNext(n));const r=this.trackEntry(t,e,i,n);return this.setCurrent(t,r,s),this.queue.drain(),r}addAnimation(t,e,i,s){const n=this.data.skeletonData.findAnimation(e);if(null==n)throw new Error(`Animation not found: ${e}`);return this.addAnimationWith(t,n,i,s)}addAnimationWith(t,e,i,s){if(null==e)throw new Error("animation cannot be null.");let n=this.expandToIndex(t);if(null!=n)for(;null!=n.next;)n=n.next;const r=this.trackEntry(t,e,i,n);if(null==n)this.setCurrent(t,r,!0),this.queue.drain();else if(n.next=r,s<=0){const t=n.animationEnd-n.animationStart;0!=t?(n.loop?s+=t*(1+(n.trackTime/t|0)):s+=Math.max(t,n.trackTime),s-=this.data.getMix(n.animation,e)):s=n.trackTime}return r.delay=s,r}setEmptyAnimation(t,e){const i=this.setAnimationWith(t,r.emptyAnimation,!1);return i.mixDuration=e,i.trackEnd=e,i}addEmptyAnimation(t,e,i){i<=0&&(i-=e);const s=this.addAnimationWith(t,r.emptyAnimation,!1,i);return s.mixDuration=e,s.trackEnd=e,s}setEmptyAnimations(t){const e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let e=0,i=this.tracks.length;e<i;e++){const i=this.tracks[e];null!=i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()}expandToIndex(t){return t<this.tracks.length?this.tracks[t]:(s.Utils.ensureArrayCapacity(this.tracks,t-this.tracks.length+1,null),this.tracks.length=t+1,null)}trackEntry(t,e,i,s){const n=this.trackEntryPool.obtain();return n.trackIndex=t,n.animation=e,n.loop=i,n.holdPrevious=!1,n.eventThreshold=0,n.attachmentThreshold=0,n.drawOrderThreshold=0,n.animationStart=0,n.animationEnd=e.duration,n.animationLast=-1,n.nextAnimationLast=-1,n.delay=0,n.trackTime=0,n.trackLast=-1,n.nextTrackLast=-1,n.trackEnd=Number.MAX_VALUE,n.timeScale=1,n.alpha=1,n.interruptAlpha=1,n.mixTime=0,n.mixDuration=null==s?0:this.data.getMix(s.animation,e),n}disposeNext(t){let e=t.next;for(;null!=e;)this.queue.dispose(e),e=e.next;t.next=null}_animationsChanged(){this.animationsChanged=!1,this.propertyIDs.clear();for(let t=0,e=this.tracks.length;t<e;t++){let e=this.tracks[t];if(null!=e){for(;null!=e.mixingFrom;)e=e.mixingFrom;do{null!=e.mixingFrom&&e.mixBlend==s.MixBlend.add||this.setTimelineModes(e),e=e.mixingTo}while(null!=e)}}}setTimelineModes(t){const e=t.mixingTo,i=t.animation.timelines,n=t.animation.timelines.length,a=s.Utils.setArraySize(t.timelineMode,n);t.timelineHoldMix.length=0;const o=s.Utils.setArraySize(t.timelineHoldMix,n),h=this.propertyIDs;if(null!=e&&e.holdPrevious)for(let t=0;t<n;t++)h.add(i[t].getPropertyId()),a[t]=r.HOLD;else t:for(let s=0;s<n;s++){const n=i[s].getPropertyId();if(h.add(n))if(null!=e&&this.hasTimeline(e,n)){for(let i=e.mixingTo;null!=i;i=i.mixingTo)if(!this.hasTimeline(i,n)){if(t.mixDuration>0){a[s]=r.HOLD_MIX,o[s]=i;continue t}break}a[s]=r.HOLD}else a[s]=r.FIRST;else a[s]=r.SUBSEQUENT}}hasTimeline(t,e){const i=t.animation.timelines;for(let t=0,s=i.length;t<s;t++)if(i[t].getPropertyId()==e)return!0;return!1}getCurrent(t){return t>=this.tracks.length?null:this.tracks[t]}addListener(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)}removeListener(t){const e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}clearListeners(){this.listeners.length=0}clearListenerNotifications(){this.queue.clear()}setAnimationByName(t,e,i){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,e,i)}addAnimationByName(t,e,i,s){r.deprecatedWarning2||(r.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,e,i,s)}hasAnimation(t){return null!==this.data.skeletonData.findAnimation(t)}hasAnimationByName(t){return r.deprecatedWarning3||(r.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)}};let a=r;a.emptyAnimation=new n.Animation("<empty>",[],0),a.SUBSEQUENT=0,a.FIRST=1,a.HOLD=2,a.HOLD_MIX=3,a.deprecatedWarning1=!1,a.deprecatedWarning2=!1,a.deprecatedWarning3=!1;const o=class{constructor(){this.mixBlend=s.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}reset(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}getAnimationTime(){if(this.loop){const t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}setAnimationLast(t){this.animationLast=t,this.nextAnimationLast=t}isComplete(){return this.trackTime>=this.animationEnd-this.animationStart}resetRotationDirections(){this.timelinesRotation.length=0}get time(){return o.deprecatedWarning1||(o.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime}set time(t){o.deprecatedWarning1||(o.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t}get endTime(){return o.deprecatedWarning2||(o.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime}set endTime(t){o.deprecatedWarning2||(o.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t}loopsCount(){return Math.floor(this.trackTime/this.trackEnd)}};let h=o;h.deprecatedWarning1=!1,h.deprecatedWarning2=!1;const l=class{constructor(t){this.objects=[],this.drainDisabled=!1,this.animState=t}start(t){this.objects.push(u.start),this.objects.push(t),this.animState.animationsChanged=!0}interrupt(t){this.objects.push(u.interrupt),this.objects.push(t)}end(t){this.objects.push(u.end),this.objects.push(t),this.animState.animationsChanged=!0}dispose(t){this.objects.push(u.dispose),this.objects.push(t)}complete(t){this.objects.push(u.complete),this.objects.push(t)}event(t,e){this.objects.push(u.event),this.objects.push(t),this.objects.push(e)}deprecateStuff(){return l.deprecatedWarning1||(l.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0}drain(){if(this.drainDisabled)return;this.drainDisabled=!0;const t=this.objects,e=this.animState.listeners;for(let i=0;i<t.length;i+=2){const n=t[i],r=t[i+1];switch(n){case u.start:null!=r.listener&&r.listener.start&&r.listener.start(r);for(let t=0;t<e.length;t++)e[t].start&&e[t].start(r);r.onStart&&this.deprecateStuff()&&r.onStart(r.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(r.trackIndex);break;case u.interrupt:null!=r.listener&&r.listener.interrupt&&r.listener.interrupt(r);for(let t=0;t<e.length;t++)e[t].interrupt&&e[t].interrupt(r);break;case u.end:null!=r.listener&&r.listener.end&&r.listener.end(r);for(let t=0;t<e.length;t++)e[t].end&&e[t].end(r);r.onEnd&&this.deprecateStuff()&&r.onEnd(r.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(r.trackIndex);case u.dispose:null!=r.listener&&r.listener.dispose&&r.listener.dispose(r);for(let t=0;t<e.length;t++)e[t].dispose&&e[t].dispose(r);this.animState.trackEntryPool.free(r);break;case u.complete:null!=r.listener&&r.listener.complete&&r.listener.complete(r);for(let t=0;t<e.length;t++)e[t].complete&&e[t].complete(r);const n=s.MathUtils.toInt(r.loopsCount());r.onComplete&&this.deprecateStuff()&&r.onComplete(r.trackIndex,n),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(r.trackIndex,n);break;case u.event:const a=t[2+i++];null!=r.listener&&r.listener.event&&r.listener.event(r,a);for(let t=0;t<e.length;t++)e[t].event&&e[t].event(r,a);r.onEvent&&this.deprecateStuff()&&r.onEvent(r.trackIndex,a),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(r.trackIndex,a)}}this.clear(),this.drainDisabled=!1}clear(){this.objects.length=0}};let d=l;d.deprecatedWarning1=!1;var u=(t=>(t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event",t))(u||{});e.AnimationState=a,e.AnimationStateAdapter2=class{start(t){}interrupt(t){}end(t){}dispose(t){}complete(t){}event(t,e){}},e.EventQueue=d,e.EventType=u,e.TrackEntry=h},31766:(t,e)=>{"use strict";const i=class{constructor(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}setMix(t,e,i){const s=this.skeletonData.findAnimation(t);if(null==s)throw new Error(`Animation not found: ${t}`);const n=this.skeletonData.findAnimation(e);if(null==n)throw new Error(`Animation not found: ${e}`);this.setMixWith(s,n,i)}setMixByName(t,e,s){i.deprecatedWarning1||(i.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(t,e,s)}setMixWith(t,e,i){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");const s=`${t.name}.${e.name}`;this.animationToMixTime[s]=i}getMix(t,e){const i=`${t.name}.${e.name}`,s=this.animationToMixTime[i];return void 0===s?this.defaultMix:s}};let s=i;s.deprecatedWarning1=!1,e.AnimationStateData=s},73504:(t,e,i)=>{"use strict";i(85564);var s=i(33532),n=i(35663),r=i(9282),a=i(82322),o=i(22474),h=i(32548);e.AtlasAttachmentLoader=class{constructor(t){this.atlas=t}newRegionAttachment(t,e,i){const s=this.atlas.findRegion(i);if(null==s)throw new Error(`Region not found in atlas: ${i} (region attachment: ${e})`);const n=new h.RegionAttachment(e);return n.region=s,n}newMeshAttachment(t,e,i){const s=this.atlas.findRegion(i);if(null==s)throw new Error(`Region not found in atlas: ${i} (mesh attachment: ${e})`);const n=new r.MeshAttachment(e);return n.region=s,n}newBoundingBoxAttachment(t,e){return new s.BoundingBoxAttachment(e)}newPathAttachment(t,e){return new a.PathAttachment(e)}newPointAttachment(t,e){return new o.PointAttachment(e)}newClippingAttachment(t,e){return new n.ClippingAttachment(e)}}},88862:(t,e,i)=>{"use strict";var s=i(48742),n=i(59663);e.Bone=class{constructor(t,e,i){if(this.matrix=new s.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!0,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=i,this.setToSetupPose()}get worldX(){return this.matrix.tx}get worldY(){return this.matrix.ty}update(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransform(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransformWith(t,e,i,s,r,a,o){this.ax=t,this.ay=e,this.arotation=i,this.ascaleX=s,this.ascaleY=r,this.ashearX=a,this.ashearY=o,this.appliedValid=!0;const h=this.parent,l=this.matrix,d=this.skeleton.scaleX,u=n.settings.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==h){const h=this.skeleton,c=i+90+o;return l.a=n.MathUtils.cosDeg(i+a)*s*d,l.c=n.MathUtils.cosDeg(c)*r*d,l.b=n.MathUtils.sinDeg(i+a)*s*u,l.d=n.MathUtils.sinDeg(c)*r*u,l.tx=t*d+h.x,void(l.ty=e*u+h.y)}let c=h.matrix.a,p=h.matrix.c,m=h.matrix.b,f=h.matrix.d;switch(l.tx=c*t+p*e+h.matrix.tx,l.ty=m*t+f*e+h.matrix.ty,this.data.transformMode){case n.TransformMode.Normal:{const t=i+90+o,e=n.MathUtils.cosDeg(i+a)*s,h=n.MathUtils.cosDeg(t)*r,d=n.MathUtils.sinDeg(i+a)*s,u=n.MathUtils.sinDeg(t)*r;return l.a=c*e+p*d,l.c=c*h+p*u,l.b=m*e+f*d,void(l.d=m*h+f*u)}case n.TransformMode.OnlyTranslation:{const t=i+90+o;l.a=n.MathUtils.cosDeg(i+a)*s,l.c=n.MathUtils.cosDeg(t)*r,l.b=n.MathUtils.sinDeg(i+a)*s,l.d=n.MathUtils.sinDeg(t)*r;break}case n.TransformMode.NoRotationOrReflection:{let t=c*c+m*m,e=0;t>1e-4?(t=Math.abs(c*f-p*m)/t,p=m*t,f=c*t,e=Math.atan2(m,c)*n.MathUtils.radDeg):(c=0,m=0,e=90-Math.atan2(f,p)*n.MathUtils.radDeg);const h=i+a-e,d=i+o-e+90,u=n.MathUtils.cosDeg(h)*s,g=n.MathUtils.cosDeg(d)*r,y=n.MathUtils.sinDeg(h)*s,x=n.MathUtils.sinDeg(d)*r;l.a=c*u-p*y,l.c=c*g-p*x,l.b=m*u+f*y,l.d=m*g+f*x;break}case n.TransformMode.NoScale:case n.TransformMode.NoScaleOrReflection:{const t=n.MathUtils.cosDeg(i),e=n.MathUtils.sinDeg(i);let h=(c*t+p*e)/d,g=(m*t+f*e)/u,y=Math.sqrt(h*h+g*g);y>1e-5&&(y=1/y),h*=y,g*=y,y=Math.sqrt(h*h+g*g),this.data.transformMode==n.TransformMode.NoScale&&c*f-p*m<0!=(n.settings.yDown?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(y=-y);const x=Math.PI/2+Math.atan2(g,h),_=Math.cos(x)*y,b=Math.sin(x)*y,v=n.MathUtils.cosDeg(a)*s,S=n.MathUtils.cosDeg(90+o)*r,T=n.MathUtils.sinDeg(a)*s,w=n.MathUtils.sinDeg(90+o)*r;l.a=h*v+_*T,l.c=h*S+_*w,l.b=g*v+b*T,l.d=g*S+b*w;break}}l.a*=d,l.c*=d,l.b*=u,l.d*=u}setToSetupPose(){const t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY}getWorldRotationX(){return Math.atan2(this.matrix.b,this.matrix.a)*n.MathUtils.radDeg}getWorldRotationY(){return Math.atan2(this.matrix.d,this.matrix.c)*n.MathUtils.radDeg}getWorldScaleX(){const t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)}getWorldScaleY(){const t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)}updateAppliedTransform(){this.appliedValid=!0;const t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*n.MathUtils.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*n.MathUtils.radDeg);const i=t.matrix,s=1/(i.a*i.d-i.b*i.c),r=e.tx-i.tx,a=e.ty-i.ty;this.ax=r*i.d*s-a*i.c*s,this.ay=a*i.a*s-r*i.b*s;const o=s*i.d,h=s*i.a,l=s*i.c,d=s*i.b,u=o*e.a-l*e.b,c=o*e.c-l*e.d,p=h*e.b-d*e.a,m=h*e.d-d*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(u*u+p*p),this.ascaleX>1e-4){const t=u*m-c*p;this.ascaleY=t/this.ascaleX,this.ashearY=Math.atan2(u*c+p*m,t)*n.MathUtils.radDeg,this.arotation=Math.atan2(p,u)*n.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(c*c+m*m),this.ashearY=0,this.arotation=90-Math.atan2(m,c)*n.MathUtils.radDeg}worldToLocal(t){const e=this.matrix,i=e.a,s=e.c,n=e.b,r=e.d,a=1/(i*r-s*n),o=t.x-e.tx,h=t.y-e.ty;return t.x=o*r*a-h*s*a,t.y=h*i*a-o*n*a,t}localToWorld(t){const e=this.matrix,i=t.x,s=t.y;return t.x=i*e.a+s*e.c+e.tx,t.y=i*e.b+s*e.d+e.ty,t}worldToLocalRotation(t){const e=n.MathUtils.sinDeg(t),i=n.MathUtils.cosDeg(t),s=this.matrix;return Math.atan2(s.a*e-s.b*i,s.d*i-s.c*e)*n.MathUtils.radDeg}localToWorldRotation(t){const e=n.MathUtils.sinDeg(t),i=n.MathUtils.cosDeg(t),s=this.matrix;return Math.atan2(i*s.b+e*s.d,i*s.a+e*s.c)*n.MathUtils.radDeg}rotateWorld(t){const e=this.matrix,i=e.a,s=e.c,r=e.b,a=e.d,o=n.MathUtils.cosDeg(t),h=n.MathUtils.sinDeg(t);e.a=o*i-h*r,e.c=o*s-h*a,e.b=h*i+o*r,e.d=h*s+o*a,this.appliedValid=!1}}},19484:(t,e,i)=>{"use strict";var s=i(59663);e.BoneData=class{constructor(t,e,i){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=s.TransformMode.Normal,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=i}}},48220:(t,e)=>{"use strict";e.Event=class{constructor(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e}}},84663:(t,e)=>{"use strict";e.EventData=class{constructor(t){this.name=t}}},43423:(t,e,i)=>{"use strict";var s=i(59663);e.IkConstraint=class{constructor(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(let i=0;i<t.bones.length;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findBone(t.target.name)}getOrder(){return this.data.order}apply(){this.update()}update(){const t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.mix)}}apply1(t,e,i,n,r,a,o){t.appliedValid||t.updateAppliedTransform();const h=t.parent.matrix,l=1/(h.a*h.d-h.b*h.c),d=e-h.tx,u=i-h.ty,c=(d*h.d-u*h.c)*l-t.ax,p=(u*h.a-d*h.b)*l-t.ay;let m=Math.atan2(p,c)*s.MathUtils.radDeg-t.ashearX-t.arotation;t.ascaleX<0&&(m+=180),m>180?m-=360:m<-180&&(m+=360);let f=t.ascaleX,g=t.ascaleY;if(n||r){const e=t.data.length*f,i=Math.sqrt(c*c+p*p);if(n&&i<e||r&&i>e&&e>1e-4){const t=(i/e-1)*o+1;f*=t,a&&(g*=t)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+m*o,f,g,t.ashearX,t.ashearY)}apply2(t,e,i,n,r,a,o){if(0==o)return void e.updateWorldTransform();t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();const h=t.ax,l=t.ay;let d=t.ascaleX,u=d,c=t.ascaleY,p=e.ascaleX;const m=t.matrix;let f=0,g=0,y=0;d<0?(d=-d,f=180,y=-1):(f=0,y=1),c<0&&(c=-c,y=-y),p<0?(p=-p,g=180):g=0;const x=e.ax;let _=0,b=0,v=0,S=m.a,T=m.c,w=m.b,E=m.d;const C=Math.abs(d-c)<=1e-4;C?(_=e.ay,b=S*x+T*_+m.tx,v=w*x+E*_+m.ty):(_=0,b=S*x+m.tx,v=w*x+m.ty);const A=t.parent.matrix;S=A.a,T=A.c,w=A.b,E=A.d;const M=1/(S*E-T*w);let P=i-A.tx,B=n-A.ty;const R=(P*E-B*T)*M-h,I=(B*S-P*w)*M-l,k=R*R+I*I;P=b-A.tx,B=v-A.ty;const O=(P*E-B*T)*M-h,D=(B*S-P*w)*M-l,F=Math.sqrt(O*O+D*D);let L=e.data.length*p,N=0,U=0;t:if(C){L*=d;let t=(k-F*F-L*L)/(2*F*L);t<-1?t=-1:t>1&&(t=1,a&&F+L>1e-4&&(u*=(Math.sqrt(k)/(F+L)-1)*o+1)),U=Math.acos(t)*r,S=F+L*t,T=L*Math.sin(U),N=Math.atan2(I*S-R*T,R*S+I*T)}else{S=d*L,T=c*L;const t=S*S,e=T*T,i=Math.atan2(I,R);w=e*F*F+t*k-t*e;const n=-2*e*F,a=e-t;if(E=n*n-4*a*w,E>=0){let t=Math.sqrt(E);n<0&&(t=-t),t=-(n+t)/2;const e=t/a,s=w/t,o=Math.abs(e)<Math.abs(s)?e:s;if(o*o<=k){B=Math.sqrt(k-o*o)*r,N=i-Math.atan2(B,o),U=Math.atan2(B/c,(o-F)/d);break t}}let o=s.MathUtils.PI,h=F-S,l=h*h,u=0,p=0,m=F+S,f=m*m,g=0;w=-S*F/(t-e),w>=-1&&w<=1&&(w=Math.acos(w),P=S*Math.cos(w)+F,B=T*Math.sin(w),E=P*P+B*B,E<l&&(o=w,l=E,h=P,u=B),E>f&&(p=w,f=E,m=P,g=B)),k<=(l+f)/2?(N=i-Math.atan2(u*r,h),U=o*r):(N=i-Math.atan2(g*r,m),U=p*r)}const G=Math.atan2(_,x)*y;let V=t.arotation;N=(N-G)*s.MathUtils.radDeg+f-V,N>180?N-=360:N<-180&&(N+=360),t.updateWorldTransformWith(h,l,V+N*o,u,t.ascaleY,0,0),V=e.arotation,U=((U+G)*s.MathUtils.radDeg-e.ashearX)*y+g-V,U>180?U-=360:U<-180&&(U+=360),e.updateWorldTransformWith(x,_,V+U*o,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}}},28277:(t,e)=>{"use strict";e.IkConstraintData=class{constructor(t){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=t}}},38889:(t,e,i)=>{"use strict";i(85564);var s=i(59663),n=i(82322);i(32548);var r=i(60401);const a=class{constructor(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(let i=0,s=t.bones.length;i<s;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}apply(){this.update()}update(){const t=this.target.getAttachment();if(!(t instanceof n.PathAttachment))return;const e=this.rotateMix,i=this.translateMix,o=e>0;if(!(i>0)&&!o)return;const h=this.data,l=h.spacingMode,d=l==r.SpacingMode.Length,u=h.rotateMode,c=u==s.RotateMode.Tangent,p=u==s.RotateMode.ChainScale,m=this.bones.length,f=c?m:m+1,g=this.bones,y=s.Utils.setArraySize(this.spaces,f);let x=null;const _=this.spacing;if(p||d){p&&(x=s.Utils.setArraySize(this.lengths,m));for(let t=0,e=f-1;t<e;){const e=g[t],i=e.data.length;if(i<a.epsilon)p&&(x[t]=0),y[++t]=0;else{const s=i*e.matrix.a,n=i*e.matrix.b,r=Math.sqrt(s*s+n*n);p&&(x[t]=r),y[++t]=(d?i+_:_)*r/i}}}else for(let t=1;t<f;t++)y[t]=_;const b=this.computeWorldPositions(t,f,c,h.positionMode==s.PositionMode.Percent,l==r.SpacingMode.Percent);let v=b[0],S=b[1],T=h.offsetRotation,w=!1;if(0==T)w=u==s.RotateMode.Chain;else{w=!1;const t=this.target.bone.matrix;T*=t.a*t.d-t.b*t.c>0?s.MathUtils.degRad:-s.MathUtils.degRad}for(let t=0,n=3;t<m;t++,n+=3){const r=g[t],a=r.matrix;a.tx+=(v-a.tx)*i,a.ty+=(S-a.ty)*i;const h=b[n],l=b[n+1],d=h-v,u=l-S;if(p){const i=x[t];if(0!=i){const t=(Math.sqrt(d*d+u*u)/i-1)*e+1;a.a*=t,a.b*=t}}if(v=h,S=l,o){const i=a.a,o=a.c,h=a.b,l=a.d;let p=0,m=0,f=0;if(c&&(p=c?b[n-1]:0==y[t+1]?b[n+2]:Math.atan2(u,d)),p-=Math.atan2(h,i),w){m=Math.cos(p),f=Math.sin(p);const t=r.data.length;v+=(t*(m*i-f*h)-d)*e,S+=(t*(f*i+m*h)-u)*e}else p+=T;p>s.MathUtils.PI?p-=s.MathUtils.PI2:p<-s.MathUtils.PI&&(p+=s.MathUtils.PI2),p*=e,m=Math.cos(p),f=Math.sin(p),a.a=m*i-f*h,a.c=m*o-f*l,a.b=f*i+m*h,a.d=f*o+m*l}r.appliedValid=!1}}computeWorldPositions(t,e,i,n,r){const o=this.target;let h=this.position;const l=this.spaces,d=s.Utils.setArraySize(this.positions,3*e+2);let u=null;const c=t.closed;let p=t.worldVerticesLength,m=p/6,f=a.NONE;if(!t.constantSpeed){const g=t.lengths;m-=c?1:2;const y=g[m];if(n&&(h*=y),r)for(let t=0;t<e;t++)l[t]*=y;u=s.Utils.setArraySize(this.world,8);for(let s=0,n=0,r=0;s<e;s++,n+=3){const e=l[s];h+=e;let x=h;if(c)x%=y,x<0&&(x+=y),r=0;else{if(x<0){f!=a.BEFORE&&(f=a.BEFORE,t.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(x,u,0,d,n);continue}if(x>y){f!=a.AFTER&&(f=a.AFTER,t.computeWorldVertices(o,p-6,4,u,0,2)),this.addAfterPosition(x-y,u,0,d,n);continue}}for(;;r++){const t=g[r];if(!(x>t)){if(0==r)x/=t;else{const e=g[r-1];x=(x-e)/(t-e)}break}}r!=f&&(f=r,c&&r==m?(t.computeWorldVertices(o,p-4,4,u,0,2),t.computeWorldVertices(o,0,4,u,4,2)):t.computeWorldVertices(o,6*r+2,8,u,0,2)),this.addCurvePosition(x,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],d,n,i||s>0&&0==e)}return d}c?(p+=2,u=s.Utils.setArraySize(this.world,p),t.computeWorldVertices(o,2,p-4,u,0,2),t.computeWorldVertices(o,0,2,u,p-4,2),u[p-2]=u[0],u[p-1]=u[1]):(m--,p-=4,u=s.Utils.setArraySize(this.world,p),t.computeWorldVertices(o,2,p,u,0,2));const g=s.Utils.setArraySize(this.curves,m);let y=0,x=u[0],_=u[1],b=0,v=0,S=0,T=0,w=0,E=0,C=0,A=0,M=0,P=0,B=0,R=0,I=0,k=0;for(let t=0,e=2;t<m;t++,e+=6)b=u[e],v=u[e+1],S=u[e+2],T=u[e+3],w=u[e+4],E=u[e+5],C=.1875*(x-2*b+S),A=.1875*(_-2*v+T),M=.09375*(3*(b-S)-x+w),P=.09375*(3*(v-T)-_+E),B=2*C+M,R=2*A+P,I=.75*(b-x)+C+.16666667*M,k=.75*(v-_)+A+.16666667*P,y+=Math.sqrt(I*I+k*k),I+=B,k+=R,B+=M,R+=P,y+=Math.sqrt(I*I+k*k),I+=B,k+=R,y+=Math.sqrt(I*I+k*k),I+=B+M,k+=R+P,y+=Math.sqrt(I*I+k*k),g[t]=y,x=w,_=E;if(n&&(h*=y),r)for(let t=0;t<e;t++)l[t]*=y;const O=this.segments;let D=0;for(let t=0,s=0,n=0,r=0;t<e;t++,s+=3){const e=l[t];h+=e;let a=h;if(c)a%=y,a<0&&(a+=y),n=0;else{if(a<0){this.addBeforePosition(a,u,0,d,s);continue}if(a>y){this.addAfterPosition(a-y,u,p-4,d,s);continue}}for(;;n++){const t=g[n];if(!(a>t)){if(0==n)a/=t;else{const e=g[n-1];a=(a-e)/(t-e)}break}}if(n!=f){f=n;let t=6*n;for(x=u[t],_=u[t+1],b=u[t+2],v=u[t+3],S=u[t+4],T=u[t+5],w=u[t+6],E=u[t+7],C=.03*(x-2*b+S),A=.03*(_-2*v+T),M=.006*(3*(b-S)-x+w),P=.006*(3*(v-T)-_+E),B=2*C+M,R=2*A+P,I=.3*(b-x)+C+.16666667*M,k=.3*(v-_)+A+.16666667*P,D=Math.sqrt(I*I+k*k),O[0]=D,t=1;t<8;t++)I+=B,k+=R,B+=M,R+=P,D+=Math.sqrt(I*I+k*k),O[t]=D;I+=B,k+=R,D+=Math.sqrt(I*I+k*k),O[8]=D,I+=B+M,k+=R+P,D+=Math.sqrt(I*I+k*k),O[9]=D,r=0}for(a*=D;;r++){const t=O[r];if(!(a>t)){if(0==r)a/=t;else{const e=O[r-1];a=r+(a-e)/(t-e)}break}}this.addCurvePosition(.1*a,x,_,b,v,S,T,w,E,d,s,i||t>0&&0==e)}return d}addBeforePosition(t,e,i,s,n){const r=e[i],a=e[i+1],o=e[i+2]-r,h=e[i+3]-a,l=Math.atan2(h,o);s[n]=r+t*Math.cos(l),s[n+1]=a+t*Math.sin(l),s[n+2]=l}addAfterPosition(t,e,i,s,n){const r=e[i+2],a=e[i+3],o=r-e[i],h=a-e[i+1],l=Math.atan2(h,o);s[n]=r+t*Math.cos(l),s[n+1]=a+t*Math.sin(l),s[n+2]=l}addCurvePosition(t,e,i,s,n,r,a,o,h,l,d,u){(0==t||isNaN(t))&&(t=1e-4);const c=t*t,p=c*t,m=1-t,f=m*m,g=f*m,y=m*t,x=3*y,_=m*x,b=x*t,v=e*g+s*_+r*b+o*p,S=i*g+n*_+a*b+h*p;l[d]=v,l[d+1]=S,u&&(l[d+2]=Math.atan2(S-(i*f+n*y*2+a*c),v-(e*f+s*y*2+r*c)))}getOrder(){return this.data.order}};let o=a;o.NONE=-1,o.BEFORE=-2,o.AFTER=-3,o.epsilon=1e-5,e.PathConstraint=o},60401:(t,e)=>{"use strict";var i=(t=>(t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t))(i||{});e.PathConstraintData=class{constructor(t){this.order=0,this.bones=new Array,this.name=t}},e.SpacingMode=i},66775:(t,e,i)=>{"use strict";i(85564);var s=i(59663),n=i(9282),r=i(82322),a=i(32548),o=i(88862),h=i(35456),l=i(43423),d=i(23737),u=i(38889);const c=class{constructor(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(let e=0;e<t.bones.length;e++){const i=t.bones[e];let s;if(null==i.parent)s=new o.Bone(i,this,null);else{const t=this.bones[i.parent.index];s=new o.Bone(i,this,t),t.children.push(s)}this.bones.push(s)}this.slots=new Array,this.drawOrder=new Array;for(let e=0;e<t.slots.length;e++){const i=t.slots[e],s=this.bones[i.boneData.index],n=new h.Slot(i,s);this.slots.push(n),this.drawOrder.push(n)}this.ikConstraints=new Array;for(let e=0;e<t.ikConstraints.length;e++){const i=t.ikConstraints[e];this.ikConstraints.push(new l.IkConstraint(i,this))}this.transformConstraints=new Array;for(let e=0;e<t.transformConstraints.length;e++){const i=t.transformConstraints[e];this.transformConstraints.push(new d.TransformConstraint(i,this))}this.pathConstraints=new Array;for(let e=0;e<t.pathConstraints.length;e++){const i=t.pathConstraints[e];this.pathConstraints.push(new u.PathConstraint(i,this))}this.color=new s.Color(1,1,1,1),this.updateCache()}updateCache(){this._updateCache.length=0,this.updateCacheReset.length=0;const t=this.bones;for(let e=0,i=t.length;e<i;e++)t[e].sorted=!1;const e=this.ikConstraints,i=this.transformConstraints,s=this.pathConstraints,n=e.length,r=i.length,a=s.length,o=n+r+a;t:for(let t=0;t<o;t++){for(let i=0;i<n;i++){const s=e[i];if(s.data.order==t){this.sortIkConstraint(s);continue t}}for(let e=0;e<r;e++){const s=i[e];if(s.data.order==t){this.sortTransformConstraint(s);continue t}}for(let e=0;e<a;e++){const i=s[e];if(i.data.order==t){this.sortPathConstraint(i);continue t}}}for(let e=0,i=t.length;e<i;e++)this.sortBone(t[e])}sortIkConstraint(t){const e=t.target;this.sortBone(e);const i=t.bones,s=i[0];if(this.sortBone(s),i.length>1){const t=i[i.length-1];this._updateCache.indexOf(t)>-1||this.updateCacheReset.push(t)}this._updateCache.push(t),this.sortReset(s.children),i[i.length-1].sorted=!0}sortPathConstraint(t){const e=t.target,i=e.data.index,s=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,i,s),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,i,s);for(let t=0,e=this.data.skins.length;t<e;t++)this.sortPathConstraintAttachment(this.data.skins[t],i,s);const n=e.getAttachment();n instanceof r.PathAttachment&&this.sortPathConstraintAttachmentWith(n,s);const a=t.bones,o=a.length;for(let t=0;t<o;t++)this.sortBone(a[t]);this._updateCache.push(t);for(let t=0;t<o;t++)this.sortReset(a[t].children);for(let t=0;t<o;t++)a[t].sorted=!0}sortTransformConstraint(t){this.sortBone(t.target);const e=t.bones,i=e.length;if(t.data.local)for(let t=0;t<i;t++){const i=e[t];this.sortBone(i.parent),this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}else for(let t=0;t<i;t++)this.sortBone(e[t]);this._updateCache.push(t);for(let t=0;t<i;t++)this.sortReset(e[t].children);for(let t=0;t<i;t++)e[t].sorted=!0}sortPathConstraintAttachment(t,e,i){const s=t.attachments[e];if(s)for(const t in s)this.sortPathConstraintAttachmentWith(s[t],i)}sortPathConstraintAttachmentWith(t,e){if(!(t instanceof r.PathAttachment))return;const i=t.bones;if(null==i)this.sortBone(e);else{const t=this.bones;let e=0;for(;e<i.length;){const s=i[e++];for(let n=e+s;e<n;e++){const s=i[e];this.sortBone(t[s])}}}}sortBone(t){if(t.sorted)return;const e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}sortReset(t){for(let e=0,i=t.length;e<i;e++){const i=t[e];i.sorted&&this.sortReset(i.children),i.sorted=!1}}updateWorldTransform(){const t=this.updateCacheReset;for(let e=0,i=t.length;e<i;e++){const i=t[e];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}const e=this._updateCache;for(let t=0,i=e.length;t<i;t++)e[t].update()}setToSetupPose(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}setBonesToSetupPose(){const t=this.bones;for(let e=0,i=t.length;e<i;e++)t[e].setToSetupPose();const e=this.ikConstraints;for(let t=0,i=e.length;t<i;t++){const i=e[t];i.bendDirection=i.data.bendDirection,i.mix=i.data.mix}const i=this.transformConstraints;for(let t=0,e=i.length;t<e;t++){const e=i[t],s=e.data;e.rotateMix=s.rotateMix,e.translateMix=s.translateMix,e.scaleMix=s.scaleMix,e.shearMix=s.shearMix}const s=this.pathConstraints;for(let t=0,e=s.length;t<e;t++){const e=s[t],i=e.data;e.position=i.position,e.spacing=i.spacing,e.rotateMix=i.rotateMix,e.translateMix=i.translateMix}}setSlotsToSetupPose(){const t=this.slots;s.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(let e=0,i=t.length;e<i;e++)t[e].setToSetupPose()}getRootBone(){return 0==this.bones.length?null:this.bones[0]}findBone(t){if(null==t)throw new Error("boneName cannot be null.");const e=this.bones;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.data.name==t)return s}return null}findBoneIndex(t){if(null==t)throw new Error("boneName cannot be null.");const e=this.bones;for(let i=0,s=e.length;i<s;i++)if(e[i].data.name==t)return i;return-1}findSlot(t){if(null==t)throw new Error("slotName cannot be null.");const e=this.slots;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.data.name==t)return s}return null}findSlotIndex(t){if(null==t)throw new Error("slotName cannot be null.");const e=this.slots;for(let i=0,s=e.length;i<s;i++)if(e[i].data.name==t)return i;return-1}setSkinByName(t){const e=this.data.findSkin(t);if(null==e)throw new Error(`Skin not found: ${t}`);this.setSkin(e)}setSkin(t){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else{const e=this.slots;for(let i=0,s=e.length;i<s;i++){const s=e[i],n=s.data.attachmentName;if(null!=n){const e=t.getAttachment(i,n);null!=e&&s.setAttachment(e)}}}this.skin=t}getAttachmentByName(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)}getAttachment(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){const i=this.skin.getAttachment(t,e);if(null!=i)return i}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null}setAttachment(t,e){if(null==t)throw new Error("slotName cannot be null.");const i=this.slots;for(let s=0,n=i.length;s<n;s++){const n=i[s];if(n.data.name==t){let i=null;if(null!=e&&(i=this.getAttachment(s,e),null==i))throw new Error(`Attachment not found: ${e}, for slot: ${t}`);return void n.setAttachment(i)}}throw new Error(`Slot not found: ${t}`)}findIkConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");const e=this.ikConstraints;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.data.name==t)return s}return null}findTransformConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");const e=this.transformConstraints;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.data.name==t)return s}return null}findPathConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");const e=this.pathConstraints;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.data.name==t)return s}return null}getBounds(t,e,i){if(null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");const r=this.drawOrder;let o=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,d=Number.NEGATIVE_INFINITY;for(let t=0,e=r.length;t<e;t++){const e=r[t];let u=0,c=null;const p=e.getAttachment();if(p instanceof a.RegionAttachment)u=8,c=s.Utils.setArraySize(i,u,0),p.computeWorldVertices(e.bone,c,0,2);else if(p instanceof n.MeshAttachment){const t=p;u=t.worldVerticesLength,c=s.Utils.setArraySize(i,u,0),t.computeWorldVertices(e,0,u,c,0,2)}if(null!=c)for(let t=0,e=c.length;t<e;t+=2){const e=c[t],i=c[t+1];o=Math.min(o,e),h=Math.min(h,i),l=Math.max(l,e),d=Math.max(d,i)}}t.set(o,h),e.set(l-o,d-h)}update(t){this.time+=t}get flipX(){return-1==this.scaleX}set flipX(t){c.deprecatedWarning1||(c.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=t?1:-1}get flipY(){return-1==this.scaleY}set flipY(t){c.deprecatedWarning1||(c.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=t?1:-1}};let p=c;p.deprecatedWarning1=!1,e.Skeleton=p},24203:(t,e,i)=>{"use strict";var s=i(59663);class n extends s.SkeletonBoundsBase{}e.SkeletonBounds=n},97584:(t,e)=>{"use strict";e.SkeletonData=class{constructor(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}findBone(t){if(null==t)throw new Error("boneName cannot be null.");const e=this.bones;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findBoneIndex(t){if(null==t)throw new Error("boneName cannot be null.");const e=this.bones;for(let i=0,s=e.length;i<s;i++)if(e[i].name==t)return i;return-1}findSlot(t){if(null==t)throw new Error("slotName cannot be null.");const e=this.slots;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findSlotIndex(t){if(null==t)throw new Error("slotName cannot be null.");const e=this.slots;for(let i=0,s=e.length;i<s;i++)if(e[i].name==t)return i;return-1}findSkin(t){if(null==t)throw new Error("skinName cannot be null.");const e=this.skins;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findEvent(t){if(null==t)throw new Error("eventDataName cannot be null.");const e=this.events;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findAnimation(t){if(null==t)throw new Error("animationName cannot be null.");const e=this.animations;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findIkConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");const e=this.ikConstraints;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findTransformConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");const e=this.transformConstraints;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findPathConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");const e=this.pathConstraints;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findPathConstraintIndex(t){if(null==t)throw new Error("pathConstraintName cannot be null.");const e=this.pathConstraints;for(let i=0,s=e.length;i<s;i++)if(e[i].name==t)return i;return-1}}},10119:(t,e,i)=>{"use strict";var s=i(48220),n=i(97584),r=i(36115),a=i(19484),o=i(28277),h=i(20195),l=i(60401),d=i(72778),u=i(84663),c=i(26680),p=i(59663),m=i(48742);class f{constructor(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}readSkeletonData(t){const e=this.scale,i=new n.SkeletonData,s="string"==typeof t?JSON.parse(t):t,c=s.skeleton;if(null!=c&&(i.hash=c.hash,i.version=c.spine,i.width=c.width,i.height=c.height,i.fps=c.fps,i.imagesPath=c.images),s.bones)for(let t=0;t<s.bones.length;t++){const n=s.bones[t];let r=null;const o=this.getValue(n,"parent",null);if(null!=o&&(r=i.findBone(o),null==r))throw new Error(`Parent bone not found: ${o}`);const h=new a.BoneData(i.bones.length,n.name,r);h.length=this.getValue(n,"length",0)*e,h.x=this.getValue(n,"x",0)*e,h.y=this.getValue(n,"y",0)*e,h.rotation=this.getValue(n,"rotation",0),h.scaleX=this.getValue(n,"scaleX",1),h.scaleY=this.getValue(n,"scaleY",1),h.shearX=this.getValue(n,"shearX",0),h.shearY=this.getValue(n,"shearY",0),h.transformMode=f.transformModeFromString(this.getValue(n,"transform","normal")),i.bones.push(h)}if(s.slots)for(let t=0;t<s.slots.length;t++){const e=s.slots[t],n=e.name,a=e.bone,o=i.findBone(a);if(null==o)throw new Error(`Slot bone not found: ${a}`);const h=new r.SlotData(i.slots.length,n,o),l=this.getValue(e,"color",null);null!=l&&h.color.setFromString(l);const d=this.getValue(e,"dark",null);null!=d&&(h.darkColor=new p.Color(1,1,1,1),h.darkColor.setFromString(d)),h.attachmentName=this.getValue(e,"attachment",null),h.blendMode=f.blendModeFromString(this.getValue(e,"blend","normal")),i.slots.push(h)}if(s.ik)for(let t=0;t<s.ik.length;t++){const e=s.ik[t],n=new o.IkConstraintData(e.name);n.order=this.getValue(e,"order",0);for(let t=0;t<e.bones.length;t++){const s=e.bones[t],r=i.findBone(s);if(null==r)throw new Error(`IK bone not found: ${s}`);n.bones.push(r)}const r=e.target;if(n.target=i.findBone(r),null==n.target)throw new Error(`IK target bone not found: ${r}`);n.bendDirection=this.getValue(e,"bendPositive",!0)?1:-1,n.mix=this.getValue(e,"mix",1),i.ikConstraints.push(n)}if(s.transform)for(let t=0;t<s.transform.length;t++){const n=s.transform[t],r=new h.TransformConstraintData(n.name);r.order=this.getValue(n,"order",0);for(let t=0;t<n.bones.length;t++){const e=n.bones[t],s=i.findBone(e);if(null==s)throw new Error(`Transform constraint bone not found: ${e}`);r.bones.push(s)}const a=n.target;if(r.target=i.findBone(a),null==r.target)throw new Error(`Transform constraint target bone not found: ${a}`);r.local=this.getValue(n,"local",!1),r.relative=this.getValue(n,"relative",!1),r.offsetRotation=this.getValue(n,"rotation",0),r.offsetX=this.getValue(n,"x",0)*e,r.offsetY=this.getValue(n,"y",0)*e,r.offsetScaleX=this.getValue(n,"scaleX",0),r.offsetScaleY=this.getValue(n,"scaleY",0),r.offsetShearY=this.getValue(n,"shearY",0),r.rotateMix=this.getValue(n,"rotateMix",1),r.translateMix=this.getValue(n,"translateMix",1),r.scaleMix=this.getValue(n,"scaleMix",1),r.shearMix=this.getValue(n,"shearMix",1),i.transformConstraints.push(r)}if(s.path)for(let t=0;t<s.path.length;t++){const n=s.path[t],r=new l.PathConstraintData(n.name);r.order=this.getValue(n,"order",0);for(let t=0;t<n.bones.length;t++){const e=n.bones[t],s=i.findBone(e);if(null==s)throw new Error(`Transform constraint bone not found: ${e}`);r.bones.push(s)}const a=n.target;if(r.target=i.findSlot(a),null==r.target)throw new Error(`Path target slot not found: ${a}`);r.positionMode=f.positionModeFromString(this.getValue(n,"positionMode","percent")),r.spacingMode=f.spacingModeFromString(this.getValue(n,"spacingMode","length")),r.rotateMode=f.rotateModeFromString(this.getValue(n,"rotateMode","tangent")),r.offsetRotation=this.getValue(n,"rotation",0),r.position=this.getValue(n,"position",0),r.positionMode==p.PositionMode.Fixed&&(r.position*=e),r.spacing=this.getValue(n,"spacing",0),r.spacingMode!=l.SpacingMode.Length&&r.spacingMode!=l.SpacingMode.Fixed||(r.spacing*=e),r.rotateMix=this.getValue(n,"rotateMix",1),r.translateMix=this.getValue(n,"translateMix",1),i.pathConstraints.push(r)}if(s.skins)for(const t in s.skins){const e=s.skins[t],n=new d.Skin(t);for(const t in e){const s=i.findSlotIndex(t);if(-1==s)throw new Error(`Slot not found: ${t}`);const r=e[t];for(const t in r){const e=this.readAttachment(r[t],n,s,t,i);null!=e&&n.addAttachment(s,t,e)}}i.skins.push(n),"default"==n.name&&(i.defaultSkin=n)}for(let t=0,e=this.linkedMeshes.length;t<e;t++){const e=this.linkedMeshes[t],s=null==e.skin?i.defaultSkin:i.findSkin(e.skin);if(null==s)throw new Error(`Skin not found: ${e.skin}`);const n=s.getAttachment(e.slotIndex,e.parent);if(null==n)throw new Error(`Parent mesh not found: ${e.parent}`);e.mesh.setParentMesh(n)}if(this.linkedMeshes.length=0,s.events)for(const t in s.events){const e=s.events[t],n=new u.EventData(t);n.intValue=this.getValue(e,"int",0),n.floatValue=this.getValue(e,"float",0),n.stringValue=this.getValue(e,"string",""),n.audioPath=this.getValue(e,"audio",null),null!=n.audioPath&&(n.volume=this.getValue(e,"volume",1),n.balance=this.getValue(e,"balance",0)),i.events.push(n)}if(s.animations)for(const t in s.animations){const e=s.animations[t];this.readAnimation(e,t,i)}return i}readAttachment(t,e,i,s,n){const r=this.scale;s=this.getValue(t,"name",s);switch(this.getValue(t,"type","region")){case"region":{const i=this.getValue(t,"path",s),n=this.attachmentLoader.newRegionAttachment(e,s,i);if(null==n)return null;n.path=i,n.x=this.getValue(t,"x",0)*r,n.y=this.getValue(t,"y",0)*r,n.scaleX=this.getValue(t,"scaleX",1),n.scaleY=this.getValue(t,"scaleY",1),n.rotation=this.getValue(t,"rotation",0),n.width=t.width*r,n.height=t.height*r;const a=this.getValue(t,"color",null);return null!=a&&n.color.setFromString(a),n}case"boundingbox":{const i=this.attachmentLoader.newBoundingBoxAttachment(e,s);if(null==i)return null;this.readVertices(t,i,t.vertexCount<<1);const n=this.getValue(t,"color",null);return null!=n&&i.color.setFromString(n),i}case"mesh":case"linkedmesh":{const n=this.getValue(t,"path",s),r=this.attachmentLoader.newMeshAttachment(e,s,n);if(null==r)return null;r.path=n;const a=this.getValue(t,"color",null);null!=a&&r.color.setFromString(a);const o=this.getValue(t,"parent",null);if(null!=o)return r.inheritDeform=this.getValue(t,"deform",!0),this.linkedMeshes.push(new g(r,this.getValue(t,"skin",null),i,o)),r;const h=t.uvs;return this.readVertices(t,r,h.length),r.triangles=t.triangles,r.regionUVs=new Float32Array(h),r.hullLength=2*this.getValue(t,"hull",0),r}case"path":{const i=this.attachmentLoader.newPathAttachment(e,s);if(null==i)return null;i.closed=this.getValue(t,"closed",!1),i.constantSpeed=this.getValue(t,"constantSpeed",!0);const n=t.vertexCount;this.readVertices(t,i,n<<1);const a=p.Utils.newArray(n/3,0);for(let e=0;e<t.lengths.length;e++)a[e]=t.lengths[e]*r;i.lengths=a;const o=this.getValue(t,"color",null);return null!=o&&i.color.setFromString(o),i}case"point":{const i=this.attachmentLoader.newPointAttachment(e,s);if(null==i)return null;i.x=this.getValue(t,"x",0)*r,i.y=this.getValue(t,"y",0)*r,i.rotation=this.getValue(t,"rotation",0);const n=this.getValue(t,"color",null);return null!=n&&i.color.setFromString(n),i}case"clipping":{const i=this.attachmentLoader.newClippingAttachment(e,s);if(null==i)return null;const r=this.getValue(t,"end",null);if(null!=r){const t=n.findSlot(r);if(null==t)throw new Error(`Clipping end slot not found: ${r}`);i.endSlot=t}const a=t.vertexCount;this.readVertices(t,i,a<<1);const o=this.getValue(t,"color",null);return null!=o&&i.color.setFromString(o),i}}return null}readVertices(t,e,i){const s=this.scale;e.worldVerticesLength=i;const n=t.vertices;if(i==n.length){const t=p.Utils.toFloatArray(n);if(1!=s)for(let e=0,i=n.length;e<i;e++)t[e]*=s;return void(e.vertices=t)}const r=new Array,a=new Array;for(let t=0,e=n.length;t<e;){const e=n[t++];a.push(e);for(let i=t+4*e;t<i;t+=4)a.push(n[t]),r.push(n[t+1]*s),r.push(n[t+2]*s),r.push(n[t+3])}e.bones=a,e.vertices=p.Utils.toFloatArray(r)}readAnimation(t,e,i){const n=this.scale,r=new Array;let a=0;if(t.slots)for(const e in t.slots){const s=t.slots[e],n=i.findSlotIndex(e);if(-1==n)throw new Error(`Slot not found: ${e}`);for(const t in s){const i=s[t];if("attachment"==t){const t=new c.AttachmentTimeline(i.length);t.slotIndex=n;let e=0;for(let s=0;s<i.length;s++){const n=i[s];t.setFrame(e++,n.time,n.name)}r.push(t),a=Math.max(a,t.frames[t.getFrameCount()-1])}else if("color"==t){const t=new c.ColorTimeline(i.length);t.slotIndex=n;let e=0;for(let s=0;s<i.length;s++){const n=i[s],r=new p.Color;r.setFromString(n.color||"ffffffff"),t.setFrame(e,n.time,r.r,r.g,r.b,r.a),this.readCurve(n,t,e),e++}r.push(t),a=Math.max(a,t.frames[(t.getFrameCount()-1)*c.ColorTimeline.ENTRIES])}else{if("twoColor"!=t)throw new Error(`Invalid timeline type for a slot: ${t} (${e})`);{const t=new c.TwoColorTimeline(i.length);t.slotIndex=n;let e=0;for(let s=0;s<i.length;s++){const n=i[s],r=new p.Color,a=new p.Color;r.setFromString(n.light),a.setFromString(n.dark),t.setFrame(e,n.time,r.r,r.g,r.b,r.a,a.r,a.g,a.b),this.readCurve(n,t,e),e++}r.push(t),a=Math.max(a,t.frames[(t.getFrameCount()-1)*c.TwoColorTimeline.ENTRIES])}}}}if(t.bones)for(const e in t.bones){const s=t.bones[e],o=i.findBoneIndex(e);if(-1==o)throw new Error(`Bone not found: ${e}`);for(const t in s){const i=s[t];if("rotate"===t){const t=new c.RotateTimeline(i.length);t.boneIndex=o;let e=0;for(let s=0;s<i.length;s++){const n=i[s];t.setFrame(e,n.time,n.angle),this.readCurve(n,t,e),e++}r.push(t),a=Math.max(a,t.frames[(t.getFrameCount()-1)*c.RotateTimeline.ENTRIES])}else{if("translate"!==t&&"scale"!==t&&"shear"!==t)throw new Error(`Invalid timeline type for a bone: ${t} (${e})`);{let e=null,s=1;"scale"===t?e=new c.ScaleTimeline(i.length):"shear"===t?e=new c.ShearTimeline(i.length):(e=new c.TranslateTimeline(i.length),s=n),e.boneIndex=o;let h=0;for(let t=0;t<i.length;t++){const n=i[t],r=this.getValue(n,"x",0),a=this.getValue(n,"y",0);e.setFrame(h,n.time,r*s,a*s),this.readCurve(n,e,h),h++}r.push(e),a=Math.max(a,e.frames[(e.getFrameCount()-1)*c.TranslateTimeline.ENTRIES])}}}}if(t.ik)for(const e in t.ik){const s=t.ik[e],n=i.findIkConstraint(e),o=new c.IkConstraintTimeline(s.length);o.ikConstraintIndex=i.ikConstraints.indexOf(n);let h=0;for(let t=0;t<s.length;t++){const e=s[t];o.setFrame(h,e.time,this.getValue(e,"mix",1),this.getValue(e,"bendPositive",!0)?1:-1,this.getValue(e,"compress",!1),this.getValue(e,"stretch",!1)),this.readCurve(e,o,h),h++}r.push(o),a=Math.max(a,o.frames[(o.getFrameCount()-1)*c.IkConstraintTimeline.ENTRIES])}if(t.transform)for(const e in t.transform){const s=t.transform[e],n=i.findTransformConstraint(e),o=new c.TransformConstraintTimeline(s.length);o.transformConstraintIndex=i.transformConstraints.indexOf(n);let h=0;for(let t=0;t<s.length;t++){const e=s[t];o.setFrame(h,e.time,this.getValue(e,"rotateMix",1),this.getValue(e,"translateMix",1),this.getValue(e,"scaleMix",1),this.getValue(e,"shearMix",1)),this.readCurve(e,o,h),h++}r.push(o),a=Math.max(a,o.frames[(o.getFrameCount()-1)*c.TransformConstraintTimeline.ENTRIES])}if(t.paths)for(const e in t.paths){const s=t.paths[e],o=i.findPathConstraintIndex(e);if(-1==o)throw new Error(`Path constraint not found: ${e}`);const h=i.pathConstraints[o];for(const t in s){const e=s[t];if("position"===t||"spacing"===t){let i=null,s=1;"spacing"===t?(i=new c.PathConstraintSpacingTimeline(e.length),h.spacingMode!=l.SpacingMode.Length&&h.spacingMode!=l.SpacingMode.Fixed||(s=n)):(i=new c.PathConstraintPositionTimeline(e.length),h.positionMode==p.PositionMode.Fixed&&(s=n)),i.pathConstraintIndex=o;let d=0;for(let n=0;n<e.length;n++){const r=e[n];i.setFrame(d,r.time,this.getValue(r,t,0)*s),this.readCurve(r,i,d),d++}r.push(i),a=Math.max(a,i.frames[(i.getFrameCount()-1)*c.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===t){const t=new c.PathConstraintMixTimeline(e.length);t.pathConstraintIndex=o;let i=0;for(let s=0;s<e.length;s++){const n=e[s];t.setFrame(i,n.time,this.getValue(n,"rotateMix",1),this.getValue(n,"translateMix",1)),this.readCurve(n,t,i),i++}r.push(t),a=Math.max(a,t.frames[(t.getFrameCount()-1)*c.PathConstraintMixTimeline.ENTRIES])}}}if(t.deform)for(const e in t.deform){const s=t.deform[e],o=i.findSkin(e);if(null!=o)for(const t in s){const e=s[t],h=i.findSlotIndex(t);if(-1==h)throw new Error(`Slot not found: ${e.name}`);for(const t in e){const i=e[t],s=o.getAttachment(h,t);if(null==s)throw new Error(`Deform attachment not found: ${i.name}`);const l=null!=s.bones,d=s.vertices,u=l?d.length/3*2:d.length,m=new c.DeformTimeline(i.length);m.slotIndex=h,m.attachment=s;let f=0;for(let t=0;t<i.length;t++){const e=i[t];let s;const r=this.getValue(e,"vertices",null);if(null==r)s=l?p.Utils.newFloatArray(u):d;else{s=p.Utils.newFloatArray(u);const t=this.getValue(e,"offset",0);if(p.Utils.arrayCopy(r,0,s,t,r.length),1!=n)for(let e=t,i=e+r.length;e<i;e++)s[e]*=n;if(!l)for(let t=0;t<u;t++)s[t]+=d[t]}m.setFrame(f,e.time,s),this.readCurve(e,m,f),f++}r.push(m),a=Math.max(a,m.frames[m.getFrameCount()-1])}}else if(p.settings.FAIL_ON_NON_EXISTING_SKIN)throw new Error(`Skin not found: ${e}`)}let o=t.drawOrder;if(null==o&&(o=t.draworder),null!=o){const t=new c.DrawOrderTimeline(o.length),e=i.slots.length;let s=0;for(let n=0;n<o.length;n++){const r=o[n];let a=null;const h=this.getValue(r,"offsets",null);if(null!=h){a=p.Utils.newArray(e,-1);const t=p.Utils.newArray(e-h.length,0);let s=0,n=0;for(let e=0;e<h.length;e++){const r=h[e],o=i.findSlotIndex(r.slot);if(-1==o)throw new Error(`Slot not found: ${r.slot}`);for(;s!=o;)t[n++]=s++;a[s+r.offset]=s++}for(;s<e;)t[n++]=s++;for(let i=e-1;i>=0;i--)-1==a[i]&&(a[i]=t[--n])}t.setFrame(s++,r.time,a)}r.push(t),a=Math.max(a,t.frames[t.getFrameCount()-1])}if(t.events){const e=new c.EventTimeline(t.events.length);let n=0;for(let r=0;r<t.events.length;r++){const a=t.events[r],o=i.findEvent(a.name);if(null==o)throw new Error(`Event not found: ${a.name}`);const h=new s.Event(p.Utils.toSinglePrecision(a.time),o);h.intValue=this.getValue(a,"int",o.intValue),h.floatValue=this.getValue(a,"float",o.floatValue),h.stringValue=this.getValue(a,"string",o.stringValue),null!=h.data.audioPath&&(h.volume=this.getValue(a,"volume",1),h.balance=this.getValue(a,"balance",0)),e.setFrame(n++,h)}r.push(e),a=Math.max(a,e.frames[e.getFrameCount()-1])}if(isNaN(a))throw new Error("Error while parsing animation, duration is NaN");i.animations.push(new c.Animation(e,r,a))}readCurve(t,e,i){if(t.curve)if("stepped"===t.curve)e.setStepped(i);else if("[object Array]"===Object.prototype.toString.call(t.curve)){const s=t.curve;e.setCurve(i,s[0],s[1],s[2],s[3])}}getValue(t,e,i){return void 0!==t[e]?t[e]:i}static blendModeFromString(t){if("normal"==(t=t.toLowerCase()))return m.BLEND_MODES.NORMAL;if("additive"==t)return m.BLEND_MODES.ADD;if("multiply"==t)return m.BLEND_MODES.MULTIPLY;if("screen"==t)return m.BLEND_MODES.SCREEN;throw new Error(`Unknown blend mode: ${t}`)}static positionModeFromString(t){if("fixed"==(t=t.toLowerCase()))return p.PositionMode.Fixed;if("percent"==t)return p.PositionMode.Percent;throw new Error(`Unknown position mode: ${t}`)}static spacingModeFromString(t){if("length"==(t=t.toLowerCase()))return l.SpacingMode.Length;if("fixed"==t)return l.SpacingMode.Fixed;if("percent"==t)return l.SpacingMode.Percent;throw new Error(`Unknown position mode: ${t}`)}static rotateModeFromString(t){if("tangent"==(t=t.toLowerCase()))return p.RotateMode.Tangent;if("chain"==t)return p.RotateMode.Chain;if("chainscale"==t)return p.RotateMode.ChainScale;throw new Error(`Unknown rotate mode: ${t}`)}static transformModeFromString(t){if("normal"==(t=t.toLowerCase()))return p.TransformMode.Normal;if("onlytranslation"==t)return p.TransformMode.OnlyTranslation;if("norotationorreflection"==t)return p.TransformMode.NoRotationOrReflection;if("noscale"==t)return p.TransformMode.NoScale;if("noscaleorreflection"==t)return p.TransformMode.NoScaleOrReflection;throw new Error(`Unknown transform mode: ${t}`)}}class g{constructor(t,e,i,s){this.mesh=t,this.skin=e,this.slotIndex=i,this.parent=s}}e.SkeletonJson=f},72778:(t,e)=>{"use strict";e.Skin=class{constructor(t){if(this.attachments=new Array,null==t)throw new Error("name cannot be null.");this.name=t}addAttachment(t,e,i){if(null==i)throw new Error("attachment cannot be null.");const s=this.attachments;t>=s.length&&(s.length=t+1),s[t]||(s[t]={}),s[t][e]=i}getAttachment(t,e){const i=this.attachments[t];return i?i[e]:null}attachAll(t,e){let i=0;for(let s=0;s<t.slots.length;s++){const n=t.slots[s],r=n.getAttachment();if(r&&i<e.attachments.length){const t=e.attachments[i];for(const e in t){if(r==t[e]){const t=this.getAttachment(i,e);null!=t&&n.setAttachment(t);break}}}i++}}}},35456:(t,e,i)=>{"use strict";var s=i(59663);e.Slot=class{constructor(t,e){if(this.attachmentVertices=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new s.Color,this.darkColor=null==t.darkColor?null:new s.Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}getAttachment(){return this.attachment}setAttachment(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)}setAttachmentTime(t){this.attachmentTime=this.bone.skeleton.time-t}getAttachmentTime(){return this.bone.skeleton.time-this.attachmentTime}setToSetupPose(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))}}},36115:(t,e,i)=>{"use strict";var s=i(59663);e.SlotData=class{constructor(t,e,i){if(this.color=new s.Color(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==i)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=i}}},23737:(t,e,i)=>{"use strict";var s=i(59663);e.TransformConstraint=class{constructor(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new s.Vector2,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(let i=0;i<t.bones.length;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findBone(t.target.name)}apply(){this.update()}update(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()}applyAbsoluteWorld(){const t=this.rotateMix,e=this.translateMix,i=this.scaleMix,n=this.shearMix,r=this.target,a=r.matrix,o=a.a,h=a.c,l=a.b,d=a.d,u=o*d-h*l>0?s.MathUtils.degRad:-s.MathUtils.degRad,c=this.data.offsetRotation*u,p=this.data.offsetShearY*u,m=this.bones;for(let a=0,u=m.length;a<u;a++){const u=m[a];let f=!1;const g=u.matrix;if(0!=t){const e=g.a,i=g.c,n=g.b,r=g.d;let a=Math.atan2(l,o)-Math.atan2(n,e)+c;a>s.MathUtils.PI?a-=s.MathUtils.PI2:a<-s.MathUtils.PI&&(a+=s.MathUtils.PI2),a*=t;const h=Math.cos(a),d=Math.sin(a);g.a=h*e-d*n,g.c=h*i-d*r,g.b=d*e+h*n,g.d=d*i+h*r,f=!0}if(0!=e){const t=this.temp;r.localToWorld(t.set(this.data.offsetX,this.data.offsetY)),g.tx+=(t.x-g.tx)*e,g.ty+=(t.y-g.ty)*e,f=!0}if(i>0){let t=Math.sqrt(g.a*g.a+g.b*g.b),e=Math.sqrt(o*o+l*l);t>1e-5&&(t=(t+(e-t+this.data.offsetScaleX)*i)/t),g.a*=t,g.b*=t,t=Math.sqrt(g.c*g.c+g.d*g.d),e=Math.sqrt(h*h+d*d),t>1e-5&&(t=(t+(e-t+this.data.offsetScaleY)*i)/t),g.c*=t,g.d*=t,f=!0}if(n>0){const t=g.c,e=g.d,i=Math.atan2(e,t);let r=Math.atan2(d,h)-Math.atan2(l,o)-(i-Math.atan2(g.b,g.a));r>s.MathUtils.PI?r-=s.MathUtils.PI2:r<-s.MathUtils.PI&&(r+=s.MathUtils.PI2),r=i+(r+p)*n;const a=Math.sqrt(t*t+e*e);g.c=Math.cos(r)*a,g.d=Math.sin(r)*a,f=!0}f&&(u.appliedValid=!1)}}applyRelativeWorld(){const t=this.rotateMix,e=this.translateMix,i=this.scaleMix,n=this.shearMix,r=this.target,a=r.matrix,o=a.a,h=a.c,l=a.b,d=a.d,u=o*d-h*l>0?s.MathUtils.degRad:-s.MathUtils.degRad,c=this.data.offsetRotation*u,p=this.data.offsetShearY*u,m=this.bones;for(let a=0,u=m.length;a<u;a++){const u=m[a];let f=!1;const g=u.matrix;if(0!=t){const e=g.a,i=g.c,n=g.b,r=g.d;let a=Math.atan2(l,o)+c;a>s.MathUtils.PI?a-=s.MathUtils.PI2:a<-s.MathUtils.PI&&(a+=s.MathUtils.PI2),a*=t;const h=Math.cos(a),d=Math.sin(a);g.a=h*e-d*n,g.c=h*i-d*r,g.b=d*e+h*n,g.d=d*i+h*r,f=!0}if(0!=e){const t=this.temp;r.localToWorld(t.set(this.data.offsetX,this.data.offsetY)),g.tx+=t.x*e,g.ty+=t.y*e,f=!0}if(i>0){let t=(Math.sqrt(o*o+l*l)-1+this.data.offsetScaleX)*i+1;g.a*=t,g.b*=t,t=(Math.sqrt(h*h+d*d)-1+this.data.offsetScaleY)*i+1,g.c*=t,g.d*=t,f=!0}if(n>0){let t=Math.atan2(d,h)-Math.atan2(l,o);t>s.MathUtils.PI?t-=s.MathUtils.PI2:t<-s.MathUtils.PI&&(t+=s.MathUtils.PI2);const e=g.c,i=g.d;t=Math.atan2(i,e)+(t-s.MathUtils.PI/2+p)*n;const r=Math.sqrt(e*e+i*i);g.c=Math.cos(t)*r,g.d=Math.sin(t)*r,f=!0}f&&(u.appliedValid=!1)}}applyAbsoluteLocal(){const t=this.rotateMix,e=this.translateMix,i=this.scaleMix,s=this.shearMix,n=this.target;n.appliedValid||n.updateAppliedTransform();const r=this.bones;for(let a=0,o=r.length;a<o;a++){const o=r[a];o.appliedValid||o.updateAppliedTransform();let h=o.arotation;if(0!=t){let e=n.arotation-h+this.data.offsetRotation;e-=360*(16384-(16384.499999999996-e/360|0)),h+=e*t}let l=o.ax,d=o.ay;0!=e&&(l+=(n.ax-l+this.data.offsetX)*e,d+=(n.ay-d+this.data.offsetY)*e);let u=o.ascaleX,c=o.ascaleY;i>0&&(u>1e-5&&(u=(u+(n.ascaleX-u+this.data.offsetScaleX)*i)/u),c>1e-5&&(c=(c+(n.ascaleY-c+this.data.offsetScaleY)*i)/c));const p=o.ashearY;if(s>0){let t=n.ashearY-p+this.data.offsetShearY;t-=360*(16384-(16384.499999999996-t/360|0)),o.shearY+=t*s}o.updateWorldTransformWith(l,d,h,u,c,o.ashearX,p)}}applyRelativeLocal(){const t=this.rotateMix,e=this.translateMix,i=this.scaleMix,s=this.shearMix,n=this.target;n.appliedValid||n.updateAppliedTransform();const r=this.bones;for(let a=0,o=r.length;a<o;a++){const o=r[a];o.appliedValid||o.updateAppliedTransform();let h=o.arotation;0!=t&&(h+=(n.arotation+this.data.offsetRotation)*t);let l=o.ax,d=o.ay;0!=e&&(l+=(n.ax+this.data.offsetX)*e,d+=(n.ay+this.data.offsetY)*e);let u=o.ascaleX,c=o.ascaleY;i>0&&(u>1e-5&&(u*=(n.ascaleX-1+this.data.offsetScaleX)*i+1),c>1e-5&&(c*=(n.ascaleY-1+this.data.offsetScaleY)*i+1));let p=o.ashearY;s>0&&(p+=(n.ashearY+this.data.offsetShearY)*s),o.updateWorldTransformWith(l,d,h,u,c,o.ashearX,p)}}getOrder(){return this.data.order}}},20195:(t,e)=>{"use strict";e.TransformConstraintData=class{constructor(t){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==t)throw new Error("name cannot be null.");this.name=t}}},85564:(t,e)=>{"use strict";class i{constructor(t){if(null==t)throw new Error("name cannot be null.");this.name=t}}const s=class extends i{constructor(t){super(t),this.id=(65535&s.nextID++)<<11,this.worldVerticesLength=0}computeWorldVerticesOld(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)}computeWorldVertices(t,e,i,s,n,r){i=n+(i>>1)*r;const a=t.bone.skeleton,o=t.attachmentVertices;let h=this.vertices;const l=this.bones;if(null==l){o.length>0&&(h=o);const a=t.bone.matrix,l=a.tx,d=a.ty,u=a.a,c=a.c,p=a.b,m=a.d;for(let t=e,a=n;a<i;t+=2,a+=r){const e=h[t],i=h[t+1];s[a]=e*u+i*c+l,s[a+1]=e*p+i*m+d}return}let d=0,u=0;for(let t=0;t<e;t+=2){const t=l[d];d+=t+1,u+=t}const c=a.bones;if(0==o.length)for(let t=n,e=3*u;t<i;t+=r){let i=0,n=0,r=l[d++];for(r+=d;d<r;d++,e+=3){const t=c[l[d]].matrix,s=h[e],r=h[e+1],a=h[e+2];i+=(s*t.a+r*t.c+t.tx)*a,n+=(s*t.b+r*t.d+t.ty)*a}s[t]=i,s[t+1]=n}else{const t=o;for(let e=n,a=3*u,o=u<<1;e<i;e+=r){let i=0,n=0,r=l[d++];for(r+=d;d<r;d++,a+=3,o+=2){const e=c[l[d]].matrix,s=h[a]+t[o],r=h[a+1]+t[o+1],u=h[a+2];i+=(s*e.a+r*e.c+e.tx)*u,n+=(s*e.b+r*e.d+e.ty)*u}s[e]=i,s[e+1]=n}}}applyDeform(t){return this==t}};let n=s;n.nextID=0,e.Attachment=i,e.VertexAttachment=n},33532:(t,e,i)=>{"use strict";var s=i(85564),n=i(59663);class r extends s.VertexAttachment{constructor(t){super(t),this.type=n.AttachmentType.BoundingBox,this.color=new n.Color(1,1,1,1)}}e.BoundingBoxAttachment=r},35663:(t,e,i)=>{"use strict";var s=i(85564),n=i(59663);class r extends s.VertexAttachment{constructor(t){super(t),this.type=n.AttachmentType.Clipping,this.color=new n.Color(.2275,.2275,.8078,1)}}e.ClippingAttachment=r},9282:(t,e,i)=>{"use strict";var s=i(85564),n=i(59663);class r extends s.VertexAttachment{constructor(t){super(t),this.type=n.AttachmentType.Mesh,this.color=new n.Color(1,1,1,1),this.inheritDeform=!1,this.tempColor=new n.Color(0,0,0,0)}applyDeform(t){return this==t||this.inheritDeform&&this.parentMesh==t}getParentMesh(){return this.parentMesh}setParentMesh(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}}e.MeshAttachment=r},82322:(t,e,i)=>{"use strict";var s=i(85564),n=i(59663);class r extends s.VertexAttachment{constructor(t){super(t),this.type=n.AttachmentType.Path,this.closed=!1,this.constantSpeed=!1,this.color=new n.Color(1,1,1,1)}}e.PathAttachment=r},22474:(t,e,i)=>{"use strict";var s=i(85564),n=i(59663);class r extends s.VertexAttachment{constructor(t){super(t),this.type=n.AttachmentType.Point,this.color=new n.Color(.38,.94,0,1)}computeWorldPosition(t,e){const i=t.matrix;return e.x=this.x*i.a+this.y*i.c+t.worldX,e.y=this.x*i.b+this.y*i.d+t.worldY,e}computeWorldRotation(t){const e=t.matrix,i=n.MathUtils.cosDeg(this.rotation),s=n.MathUtils.sinDeg(this.rotation),r=i*e.a+s*e.c,a=i*e.b+s*e.d;return Math.atan2(a,r)*n.MathUtils.radDeg}}e.PointAttachment=r},32548:(t,e,i)=>{"use strict";var s=i(85564),n=i(59663),r=i(35456);const a=class extends s.Attachment{constructor(t){super(t),this.type=n.AttachmentType.Region,this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.width=0,this.height=0,this.color=new n.Color(1,1,1,1),this.offset=n.Utils.newFloatArray(8),this.uvs=n.Utils.newFloatArray(8),this.tempColor=new n.Color(1,1,1,1)}updateOffset(){const t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*t,s=-this.height/2*this.scaleY+this.region.offsetY*e,n=i+this.region.width*t,r=s+this.region.height*e,o=this.rotation*Math.PI/180,h=Math.cos(o),l=Math.sin(o),d=i*h+this.x,u=i*l,c=s*h+this.y,p=s*l,m=n*h+this.x,f=n*l,g=r*h+this.y,y=r*l,x=this.offset;x[a.OX1]=d-p,x[a.OY1]=c+u,x[a.OX2]=d-y,x[a.OY2]=g+u,x[a.OX3]=m-y,x[a.OY3]=g+f,x[a.OX4]=m-p,x[a.OY4]=c+f}setRegion(t){this.region=t;const e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)}computeWorldVertices(t,e,i,s){const n=this.offset,o=t instanceof r.Slot?t.bone.matrix:t.matrix,h=o.tx,l=o.ty,d=o.a,u=o.c,c=o.b,p=o.d;let m=0,f=0;m=n[a.OX1],f=n[a.OY1],e[i]=m*d+f*u+h,e[i+1]=m*c+f*p+l,i+=s,m=n[a.OX2],f=n[a.OY2],e[i]=m*d+f*u+h,e[i+1]=m*c+f*p+l,i+=s,m=n[a.OX3],f=n[a.OY3],e[i]=m*d+f*u+h,e[i+1]=m*c+f*p+l,i+=s,m=n[a.OX4],f=n[a.OY4],e[i]=m*d+f*u+h,e[i+1]=m*c+f*p+l}};let o=a;o.OX1=0,o.OY1=1,o.OX2=2,o.OY2=3,o.OX3=4,o.OY3=5,o.OX4=6,o.OY4=7,o.X1=0,o.Y1=1,o.C1R=2,o.C1G=3,o.C1B=4,o.C1A=5,o.U1=6,o.V1=7,o.X2=8,o.Y2=9,o.C2R=10,o.C2G=11,o.C2B=12,o.C2A=13,o.U2=14,o.V2=15,o.X3=16,o.Y3=17,o.C3R=18,o.C3G=19,o.C3B=20,o.C3A=21,o.U3=22,o.V3=23,o.X4=24,o.Y4=25,o.C4R=26,o.C4G=27,o.C4B=28,o.C4A=29,o.U4=30,o.V4=31,e.RegionAttachment=o},41770:(t,e,i)=>{"use strict";var s=i(59663);e.JitterEffect=class{constructor(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}begin(t){}transform(t,e,i,n){t.x+=s.MathUtils.randomTriangular(-this.jitterX,this.jitterY),t.y+=s.MathUtils.randomTriangular(-this.jitterX,this.jitterY)}end(){}}},57982:(t,e,i)=>{"use strict";var s=i(59663);const n=class{constructor(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}begin(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY}transform(t,e,i,r){const a=this.angle*s.MathUtils.degreesToRadians,o=t.x-this.worldX,h=t.y-this.worldY,l=Math.sqrt(o*o+h*h);if(l<this.radius){const e=n.interpolation.apply(0,a,(this.radius-l)/this.radius),i=Math.cos(e),s=Math.sin(e);t.x=i*o-s*h+this.worldX,t.y=s*o+i*h+this.worldY}}end(){}};let r=n;r.interpolation=new s.PowOut(2),e.SwirlEffect=r},47605:(t,e,i)=>{"use strict";var s=i(85564),n=i(33532),r=i(35663),a=i(9282),o=i(82322),h=i(22474),l=i(32548),d=i(41770),u=i(57982),c=i(26680),p=i(1975),m=i(31766),f=i(73504),g=i(88862),y=i(19484),x=i(48220),_=i(84663),b=i(43423),v=i(28277),S=i(38889),T=i(60401),w=i(66775),E=i(24203),C=i(97584),A=i(10119),M=i(72778),P=i(35456),B=i(36115),R=i(23737),I=i(20195),k=i(35104);e.Attachment=s.Attachment,e.VertexAttachment=s.VertexAttachment,e.BoundingBoxAttachment=n.BoundingBoxAttachment,e.ClippingAttachment=r.ClippingAttachment,e.MeshAttachment=a.MeshAttachment,e.PathAttachment=o.PathAttachment,e.PointAttachment=h.PointAttachment,e.RegionAttachment=l.RegionAttachment,e.JitterEffect=d.JitterEffect,e.SwirlEffect=u.SwirlEffect,e.Animation=c.Animation,e.AttachmentTimeline=c.AttachmentTimeline,e.ColorTimeline=c.ColorTimeline,e.CurveTimeline=c.CurveTimeline,e.DeformTimeline=c.DeformTimeline,e.DrawOrderTimeline=c.DrawOrderTimeline,e.EventTimeline=c.EventTimeline,e.IkConstraintTimeline=c.IkConstraintTimeline,e.PathConstraintMixTimeline=c.PathConstraintMixTimeline,e.PathConstraintPositionTimeline=c.PathConstraintPositionTimeline,e.PathConstraintSpacingTimeline=c.PathConstraintSpacingTimeline,e.RotateTimeline=c.RotateTimeline,e.ScaleTimeline=c.ScaleTimeline,e.ShearTimeline=c.ShearTimeline,e.TimelineType=c.TimelineType,e.TransformConstraintTimeline=c.TransformConstraintTimeline,e.TranslateTimeline=c.TranslateTimeline,e.TwoColorTimeline=c.TwoColorTimeline,e.AnimationState=p.AnimationState,e.AnimationStateAdapter2=p.AnimationStateAdapter2,e.EventQueue=p.EventQueue,e.EventType=p.EventType,e.TrackEntry=p.TrackEntry,e.AnimationStateData=m.AnimationStateData,e.AtlasAttachmentLoader=f.AtlasAttachmentLoader,e.Bone=g.Bone,e.BoneData=y.BoneData,e.Event=x.Event,e.EventData=_.EventData,e.IkConstraint=b.IkConstraint,e.IkConstraintData=v.IkConstraintData,e.PathConstraint=S.PathConstraint,e.PathConstraintData=T.PathConstraintData,e.SpacingMode=T.SpacingMode,e.Skeleton=w.Skeleton,e.SkeletonBounds=E.SkeletonBounds,e.SkeletonData=C.SkeletonData,e.SkeletonJson=A.SkeletonJson,e.Skin=M.Skin,e.Slot=P.Slot,e.SlotData=B.SlotData,e.TransformConstraint=R.TransformConstraint,e.TransformConstraintData=I.TransformConstraintData,e.Spine=k.Spine},64019:(t,e,i)=>{"use strict";var s=i(59663),n=i(1856),r=i(73863),a=i(50116);class o extends s.SpineBase{createSkeleton(t){this.skeleton=new n.Skeleton(t),this.skeleton.updateWorldTransform(),this.stateData=new a.AnimationStateData(t),this.state=new r.AnimationState(this.stateData)}}e.Spine=o},70672:(t,e,i)=>{"use strict";var s=i(17807),n=i(59663);i(5488);class r{constructor(t,e,i){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.timelineIds=[];for(let t=0;t<e.length;t++)this.timelineIds[e[t].getPropertyId()]=!0;this.duration=i}hasTimeline(t){return 1==this.timelineIds[t]}apply(t,e,i,s,n,r,a,o){if(null==t)throw new Error("skeleton cannot be null.");s&&0!=this.duration&&(i%=this.duration,e>0&&(e%=this.duration));const h=this.timelines;for(let s=0,l=h.length;s<l;s++)h[s].apply(t,e,i,n,r,a,o)}static binarySearch(t,e,i=1){let s=0,n=t.length/i-2;if(0==n)return i;let r=n>>>1;for(;;){if(t[(r+1)*i]<=e?s=r+1:n=r,s==n)return(s+1)*i;r=s+n>>>1}}static linearSearch(t,e,i){for(let s=0,n=t.length-i;s<=n;s+=i)if(t[s]>e)return s;return-1}}var a=(t=>(t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor",t))(a||{});const o=class{constructor(t){if(t<=0)throw new Error(`frameCount must be > 0: ${t}`);this.curves=n.Utils.newFloatArray((t-1)*o.BEZIER_SIZE)}getFrameCount(){return this.curves.length/o.BEZIER_SIZE+1}setLinear(t){this.curves[t*o.BEZIER_SIZE]=o.LINEAR}setStepped(t){this.curves[t*o.BEZIER_SIZE]=o.STEPPED}getCurveType(t){const e=t*o.BEZIER_SIZE;if(e==this.curves.length)return o.LINEAR;const i=this.curves[e];return i==o.LINEAR?o.LINEAR:i==o.STEPPED?o.STEPPED:o.BEZIER}setCurve(t,e,i,s,n){const r=.03*(2*-e+s),a=.03*(2*-i+n),h=.006*(3*(e-s)+1),l=.006*(3*(i-n)+1);let d=2*r+h,u=2*a+l,c=.3*e+r+.16666667*h,p=.3*i+a+.16666667*l,m=t*o.BEZIER_SIZE;const f=this.curves;f[m++]=o.BEZIER;let g=c,y=p;for(let t=m+o.BEZIER_SIZE-1;m<t;m+=2)f[m]=g,f[m+1]=y,c+=d,p+=u,d+=h,u+=l,g+=c,y+=p}getCurvePercent(t,e){e=n.MathUtils.clamp(e,0,1);const i=this.curves;let s=t*o.BEZIER_SIZE;const r=i[s];if(r==o.LINEAR)return e;if(r==o.STEPPED)return 0;s++;let a=0;for(let t=s,n=s+o.BEZIER_SIZE-1;s<n;s+=2)if(a=i[s],a>=e){let n,r;return s==t?(n=0,r=0):(n=i[s-2],r=i[s-1]),r+(i[s+1]-r)*(e-n)/(a-n)}const h=i[s-1];return h+(1-h)*(e-a)/(1-a)}};let h=o;h.LINEAR=0,h.STEPPED=1,h.BEZIER=2,h.BEZIER_SIZE=19;const l=class extends h{constructor(t){super(t),this.frames=n.Utils.newFloatArray(t<<1)}getPropertyId(){return 0+this.boneIndex}setFrame(t,e,i){t<<=1,this.frames[t]=e,this.frames[t+l.ROTATION]=i}apply(t,e,i,s,a,o,h){const d=this.frames,u=t.bones[this.boneIndex];if(!u.active)return;if(i<d[0]){switch(o){case n.MixBlend.setup:return void(u.rotation=u.data.rotation);case n.MixBlend.first:const t=u.data.rotation-u.rotation;u.rotation+=(t-360*(16384-(16384.499999999996-t/360|0)))*a}return}if(i>=d[d.length-l.ENTRIES]){let t=d[d.length+l.PREV_ROTATION];switch(o){case n.MixBlend.setup:u.rotation=u.data.rotation+t*a;break;case n.MixBlend.first:case n.MixBlend.replace:t+=u.data.rotation-u.rotation,t-=360*(16384-(16384.499999999996-t/360|0));case n.MixBlend.add:u.rotation+=t*a}return}const c=r.binarySearch(d,i,l.ENTRIES),p=d[c+l.PREV_ROTATION],m=d[c],f=this.getCurvePercent((c>>1)-1,1-(i-m)/(d[c+l.PREV_TIME]-m));let g=d[c+l.ROTATION]-p;switch(g=p+(g-360*(16384-(16384.499999999996-g/360|0)))*f,o){case n.MixBlend.setup:u.rotation=u.data.rotation+(g-360*(16384-(16384.499999999996-g/360|0)))*a;break;case n.MixBlend.first:case n.MixBlend.replace:g+=u.data.rotation-u.rotation;case n.MixBlend.add:u.rotation+=(g-360*(16384-(16384.499999999996-g/360|0)))*a}}};let d=l;d.ENTRIES=2,d.PREV_TIME=-2,d.PREV_ROTATION=-1,d.ROTATION=1;const u=class extends h{constructor(t){super(t),this.frames=n.Utils.newFloatArray(t*u.ENTRIES)}getPropertyId(){return(1<<24)+this.boneIndex}setFrame(t,e,i,s){t*=u.ENTRIES,this.frames[t]=e,this.frames[t+u.X]=i,this.frames[t+u.Y]=s}apply(t,e,i,s,a,o,h){const l=this.frames,d=t.bones[this.boneIndex];if(!d.active)return;if(i<l[0]){switch(o){case n.MixBlend.setup:return d.x=d.data.x,void(d.y=d.data.y);case n.MixBlend.first:d.x+=(d.data.x-d.x)*a,d.y+=(d.data.y-d.y)*a}return}let c=0,p=0;if(i>=l[l.length-u.ENTRIES])c=l[l.length+u.PREV_X],p=l[l.length+u.PREV_Y];else{const t=r.binarySearch(l,i,u.ENTRIES);c=l[t+u.PREV_X],p=l[t+u.PREV_Y];const e=l[t],s=this.getCurvePercent(t/u.ENTRIES-1,1-(i-e)/(l[t+u.PREV_TIME]-e));c+=(l[t+u.X]-c)*s,p+=(l[t+u.Y]-p)*s}switch(o){case n.MixBlend.setup:d.x=d.data.x+c*a,d.y=d.data.y+p*a;break;case n.MixBlend.first:case n.MixBlend.replace:d.x+=(d.data.x+c-d.x)*a,d.y+=(d.data.y+p-d.y)*a;break;case n.MixBlend.add:d.x+=c*a,d.y+=p*a}}};let c=u;c.ENTRIES=3,c.PREV_TIME=-3,c.PREV_X=-2,c.PREV_Y=-1,c.X=1,c.Y=2;class p extends c{constructor(t){super(t)}getPropertyId(){return(2<<24)+this.boneIndex}apply(t,e,i,s,a,o,h){const l=this.frames,d=t.bones[this.boneIndex];if(!d.active)return;if(i<l[0]){switch(o){case n.MixBlend.setup:return d.scaleX=d.data.scaleX,void(d.scaleY=d.data.scaleY);case n.MixBlend.first:d.scaleX+=(d.data.scaleX-d.scaleX)*a,d.scaleY+=(d.data.scaleY-d.scaleY)*a}return}let u=0,c=0;if(i>=l[l.length-p.ENTRIES])u=l[l.length+p.PREV_X]*d.data.scaleX,c=l[l.length+p.PREV_Y]*d.data.scaleY;else{const t=r.binarySearch(l,i,p.ENTRIES);u=l[t+p.PREV_X],c=l[t+p.PREV_Y];const e=l[t],s=this.getCurvePercent(t/p.ENTRIES-1,1-(i-e)/(l[t+p.PREV_TIME]-e));u=(u+(l[t+p.X]-u)*s)*d.data.scaleX,c=(c+(l[t+p.Y]-c)*s)*d.data.scaleY}if(1==a)o==n.MixBlend.add?(d.scaleX+=u-d.data.scaleX,d.scaleY+=c-d.data.scaleY):(d.scaleX=u,d.scaleY=c);else{let t=0,e=0;if(h==n.MixDirection.mixOut)switch(o){case n.MixBlend.setup:t=d.data.scaleX,e=d.data.scaleY,d.scaleX=t+(Math.abs(u)*n.MathUtils.signum(t)-t)*a,d.scaleY=e+(Math.abs(c)*n.MathUtils.signum(e)-e)*a;break;case n.MixBlend.first:case n.MixBlend.replace:t=d.scaleX,e=d.scaleY,d.scaleX=t+(Math.abs(u)*n.MathUtils.signum(t)-t)*a,d.scaleY=e+(Math.abs(c)*n.MathUtils.signum(e)-e)*a;break;case n.MixBlend.add:t=d.scaleX,e=d.scaleY,d.scaleX=t+(Math.abs(u)*n.MathUtils.signum(t)-d.data.scaleX)*a,d.scaleY=e+(Math.abs(c)*n.MathUtils.signum(e)-d.data.scaleY)*a}else switch(o){case n.MixBlend.setup:t=Math.abs(d.data.scaleX)*n.MathUtils.signum(u),e=Math.abs(d.data.scaleY)*n.MathUtils.signum(c),d.scaleX=t+(u-t)*a,d.scaleY=e+(c-e)*a;break;case n.MixBlend.first:case n.MixBlend.replace:t=Math.abs(d.scaleX)*n.MathUtils.signum(u),e=Math.abs(d.scaleY)*n.MathUtils.signum(c),d.scaleX=t+(u-t)*a,d.scaleY=e+(c-e)*a;break;case n.MixBlend.add:t=n.MathUtils.signum(u),e=n.MathUtils.signum(c),d.scaleX=Math.abs(d.scaleX)*t+(u-Math.abs(d.data.scaleX)*t)*a,d.scaleY=Math.abs(d.scaleY)*e+(c-Math.abs(d.data.scaleY)*e)*a}}}}class m extends c{constructor(t){super(t)}getPropertyId(){return(3<<24)+this.boneIndex}apply(t,e,i,s,a,o,h){const l=this.frames,d=t.bones[this.boneIndex];if(!d.active)return;if(i<l[0]){switch(o){case n.MixBlend.setup:return d.shearX=d.data.shearX,void(d.shearY=d.data.shearY);case n.MixBlend.first:d.shearX+=(d.data.shearX-d.shearX)*a,d.shearY+=(d.data.shearY-d.shearY)*a}return}let u=0,c=0;if(i>=l[l.length-m.ENTRIES])u=l[l.length+m.PREV_X],c=l[l.length+m.PREV_Y];else{const t=r.binarySearch(l,i,m.ENTRIES);u=l[t+m.PREV_X],c=l[t+m.PREV_Y];const e=l[t],s=this.getCurvePercent(t/m.ENTRIES-1,1-(i-e)/(l[t+m.PREV_TIME]-e));u+=(l[t+m.X]-u)*s,c+=(l[t+m.Y]-c)*s}switch(o){case n.MixBlend.setup:d.shearX=d.data.shearX+u*a,d.shearY=d.data.shearY+c*a;break;case n.MixBlend.first:case n.MixBlend.replace:d.shearX+=(d.data.shearX+u-d.shearX)*a,d.shearY+=(d.data.shearY+c-d.shearY)*a;break;case n.MixBlend.add:d.shearX+=u*a,d.shearY+=c*a}}}const f=class extends h{constructor(t){super(t),this.frames=n.Utils.newFloatArray(t*f.ENTRIES)}getPropertyId(){return(5<<24)+this.slotIndex}setFrame(t,e,i,s,n,r){t*=f.ENTRIES,this.frames[t]=e,this.frames[t+f.R]=i,this.frames[t+f.G]=s,this.frames[t+f.B]=n,this.frames[t+f.A]=r}apply(t,e,i,s,a,o,h){const l=t.slots[this.slotIndex];if(!l.bone.active)return;const d=this.frames;if(i<d[0]){switch(o){case n.MixBlend.setup:return void l.color.setFromColor(l.data.color);case n.MixBlend.first:const t=l.color,e=l.data.color;t.add((e.r-t.r)*a,(e.g-t.g)*a,(e.b-t.b)*a,(e.a-t.a)*a)}return}let u=0,c=0,p=0,m=0;if(i>=d[d.length-f.ENTRIES]){const t=d.length;u=d[t+f.PREV_R],c=d[t+f.PREV_G],p=d[t+f.PREV_B],m=d[t+f.PREV_A]}else{const t=r.binarySearch(d,i,f.ENTRIES);u=d[t+f.PREV_R],c=d[t+f.PREV_G],p=d[t+f.PREV_B],m=d[t+f.PREV_A];const e=d[t],s=this.getCurvePercent(t/f.ENTRIES-1,1-(i-e)/(d[t+f.PREV_TIME]-e));u+=(d[t+f.R]-u)*s,c+=(d[t+f.G]-c)*s,p+=(d[t+f.B]-p)*s,m+=(d[t+f.A]-m)*s}if(1==a)l.color.set(u,c,p,m);else{const t=l.color;o==n.MixBlend.setup&&t.setFromColor(l.data.color),t.add((u-t.r)*a,(c-t.g)*a,(p-t.b)*a,(m-t.a)*a)}}};let g=f;g.ENTRIES=5,g.PREV_TIME=-5,g.PREV_R=-4,g.PREV_G=-3,g.PREV_B=-2,g.PREV_A=-1,g.R=1,g.G=2,g.B=3,g.A=4;const y=class extends h{constructor(t){super(t),this.frames=n.Utils.newFloatArray(t*y.ENTRIES)}getPropertyId(){return(14<<24)+this.slotIndex}setFrame(t,e,i,s,n,r,a,o,h){t*=y.ENTRIES,this.frames[t]=e,this.frames[t+y.R]=i,this.frames[t+y.G]=s,this.frames[t+y.B]=n,this.frames[t+y.A]=r,this.frames[t+y.R2]=a,this.frames[t+y.G2]=o,this.frames[t+y.B2]=h}apply(t,e,i,s,a,o,h){const l=t.slots[this.slotIndex];if(!l.bone.active)return;const d=this.frames;if(i<d[0]){switch(o){case n.MixBlend.setup:return l.color.setFromColor(l.data.color),void l.darkColor.setFromColor(l.data.darkColor);case n.MixBlend.first:const t=l.color,e=l.darkColor,i=l.data.color,s=l.data.darkColor;t.add((i.r-t.r)*a,(i.g-t.g)*a,(i.b-t.b)*a,(i.a-t.a)*a),e.add((s.r-e.r)*a,(s.g-e.g)*a,(s.b-e.b)*a,0)}return}let u=0,c=0,p=0,m=0,f=0,g=0,x=0;if(i>=d[d.length-y.ENTRIES]){const t=d.length;u=d[t+y.PREV_R],c=d[t+y.PREV_G],p=d[t+y.PREV_B],m=d[t+y.PREV_A],f=d[t+y.PREV_R2],g=d[t+y.PREV_G2],x=d[t+y.PREV_B2]}else{const t=r.binarySearch(d,i,y.ENTRIES);u=d[t+y.PREV_R],c=d[t+y.PREV_G],p=d[t+y.PREV_B],m=d[t+y.PREV_A],f=d[t+y.PREV_R2],g=d[t+y.PREV_G2],x=d[t+y.PREV_B2];const e=d[t],s=this.getCurvePercent(t/y.ENTRIES-1,1-(i-e)/(d[t+y.PREV_TIME]-e));u+=(d[t+y.R]-u)*s,c+=(d[t+y.G]-c)*s,p+=(d[t+y.B]-p)*s,m+=(d[t+y.A]-m)*s,f+=(d[t+y.R2]-f)*s,g+=(d[t+y.G2]-g)*s,x+=(d[t+y.B2]-x)*s}if(1==a)l.color.set(u,c,p,m),l.darkColor.set(f,g,x,1);else{const t=l.color,e=l.darkColor;o==n.MixBlend.setup&&(t.setFromColor(l.data.color),e.setFromColor(l.data.darkColor)),t.add((u-t.r)*a,(c-t.g)*a,(p-t.b)*a,(m-t.a)*a),e.add((f-e.r)*a,(g-e.g)*a,(x-e.b)*a,0)}}};let x=y;x.ENTRIES=8,x.PREV_TIME=-8,x.PREV_R=-7,x.PREV_G=-6,x.PREV_B=-5,x.PREV_A=-4,x.PREV_R2=-3,x.PREV_G2=-2,x.PREV_B2=-1,x.R=1,x.G=2,x.B=3,x.A=4,x.R2=5,x.G2=6,x.B2=7;let _=null;const b=class extends h{constructor(t){super(t),this.frames=n.Utils.newFloatArray(t*b.ENTRIES)}getPropertyId(){return(9<<24)+this.ikConstraintIndex}setFrame(t,e,i,s,n,r,a){t*=b.ENTRIES,this.frames[t]=e,this.frames[t+b.MIX]=i,this.frames[t+b.SOFTNESS]=s,this.frames[t+b.BEND_DIRECTION]=n,this.frames[t+b.COMPRESS]=r?1:0,this.frames[t+b.STRETCH]=a?1:0}apply(t,e,i,s,a,o,h){const l=this.frames,d=t.ikConstraints[this.ikConstraintIndex];if(!d.active)return;if(i<l[0]){switch(o){case n.MixBlend.setup:return d.mix=d.data.mix,d.softness=d.data.softness,d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,void(d.stretch=d.data.stretch);case n.MixBlend.first:d.mix+=(d.data.mix-d.mix)*a,d.softness+=(d.data.softness-d.softness)*a,d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch}return}if(i>=l[l.length-b.ENTRIES])return void(o==n.MixBlend.setup?(d.mix=d.data.mix+(l[l.length+b.PREV_MIX]-d.data.mix)*a,d.softness=d.data.softness+(l[l.length+b.PREV_SOFTNESS]-d.data.softness)*a,h==n.MixDirection.mixOut?(d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch):(d.bendDirection=l[l.length+b.PREV_BEND_DIRECTION],d.compress=0!=l[l.length+b.PREV_COMPRESS],d.stretch=0!=l[l.length+b.PREV_STRETCH])):(d.mix+=(l[l.length+b.PREV_MIX]-d.mix)*a,d.softness+=(l[l.length+b.PREV_SOFTNESS]-d.softness)*a,h==n.MixDirection.mixIn&&(d.bendDirection=l[l.length+b.PREV_BEND_DIRECTION],d.compress=0!=l[l.length+b.PREV_COMPRESS],d.stretch=0!=l[l.length+b.PREV_STRETCH])));const u=r.binarySearch(l,i,b.ENTRIES),c=l[u+b.PREV_MIX],p=l[u+b.PREV_SOFTNESS],m=l[u],f=this.getCurvePercent(u/b.ENTRIES-1,1-(i-m)/(l[u+b.PREV_TIME]-m));o==n.MixBlend.setup?(d.mix=d.data.mix+(c+(l[u+b.MIX]-c)*f-d.data.mix)*a,d.softness=d.data.softness+(p+(l[u+b.SOFTNESS]-p)*f-d.data.softness)*a,h==n.MixDirection.mixOut?(d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch):(d.bendDirection=l[u+b.PREV_BEND_DIRECTION],d.compress=0!=l[u+b.PREV_COMPRESS],d.stretch=0!=l[u+b.PREV_STRETCH])):(d.mix+=(c+(l[u+b.MIX]-c)*f-d.mix)*a,d.softness+=(p+(l[u+b.SOFTNESS]-p)*f-d.softness)*a,h==n.MixDirection.mixIn&&(d.bendDirection=l[u+b.PREV_BEND_DIRECTION],d.compress=0!=l[u+b.PREV_COMPRESS],d.stretch=0!=l[u+b.PREV_STRETCH]))}};let v=b;v.ENTRIES=6,v.PREV_TIME=-6,v.PREV_MIX=-5,v.PREV_SOFTNESS=-4,v.PREV_BEND_DIRECTION=-3,v.PREV_COMPRESS=-2,v.PREV_STRETCH=-1,v.MIX=1,v.SOFTNESS=2,v.BEND_DIRECTION=3,v.COMPRESS=4,v.STRETCH=5;const S=class extends h{constructor(t){super(t),this.frames=n.Utils.newFloatArray(t*S.ENTRIES)}getPropertyId(){return(10<<24)+this.transformConstraintIndex}setFrame(t,e,i,s,n,r){t*=S.ENTRIES,this.frames[t]=e,this.frames[t+S.ROTATE]=i,this.frames[t+S.TRANSLATE]=s,this.frames[t+S.SCALE]=n,this.frames[t+S.SHEAR]=r}apply(t,e,i,s,a,o,h){const l=this.frames,d=t.transformConstraints[this.transformConstraintIndex];if(!d.active)return;if(i<l[0]){const t=d.data;switch(o){case n.MixBlend.setup:return d.rotateMix=t.rotateMix,d.translateMix=t.translateMix,d.scaleMix=t.scaleMix,void(d.shearMix=t.shearMix);case n.MixBlend.first:d.rotateMix+=(t.rotateMix-d.rotateMix)*a,d.translateMix+=(t.translateMix-d.translateMix)*a,d.scaleMix+=(t.scaleMix-d.scaleMix)*a,d.shearMix+=(t.shearMix-d.shearMix)*a}return}let u=0,c=0,p=0,m=0;if(i>=l[l.length-S.ENTRIES]){const t=l.length;u=l[t+S.PREV_ROTATE],c=l[t+S.PREV_TRANSLATE],p=l[t+S.PREV_SCALE],m=l[t+S.PREV_SHEAR]}else{const t=r.binarySearch(l,i,S.ENTRIES);u=l[t+S.PREV_ROTATE],c=l[t+S.PREV_TRANSLATE],p=l[t+S.PREV_SCALE],m=l[t+S.PREV_SHEAR];const e=l[t],s=this.getCurvePercent(t/S.ENTRIES-1,1-(i-e)/(l[t+S.PREV_TIME]-e));u+=(l[t+S.ROTATE]-u)*s,c+=(l[t+S.TRANSLATE]-c)*s,p+=(l[t+S.SCALE]-p)*s,m+=(l[t+S.SHEAR]-m)*s}if(o==n.MixBlend.setup){const t=d.data;d.rotateMix=t.rotateMix+(u-t.rotateMix)*a,d.translateMix=t.translateMix+(c-t.translateMix)*a,d.scaleMix=t.scaleMix+(p-t.scaleMix)*a,d.shearMix=t.shearMix+(m-t.shearMix)*a}else d.rotateMix+=(u-d.rotateMix)*a,d.translateMix+=(c-d.translateMix)*a,d.scaleMix+=(p-d.scaleMix)*a,d.shearMix+=(m-d.shearMix)*a}};let T=S;T.ENTRIES=5,T.PREV_TIME=-5,T.PREV_ROTATE=-4,T.PREV_TRANSLATE=-3,T.PREV_SCALE=-2,T.PREV_SHEAR=-1,T.ROTATE=1,T.TRANSLATE=2,T.SCALE=3,T.SHEAR=4;const w=class extends h{constructor(t){super(t),this.frames=n.Utils.newFloatArray(t*w.ENTRIES)}getPropertyId(){return(11<<24)+this.pathConstraintIndex}setFrame(t,e,i){t*=w.ENTRIES,this.frames[t]=e,this.frames[t+w.VALUE]=i}apply(t,e,i,s,a,o,h){const l=this.frames,d=t.pathConstraints[this.pathConstraintIndex];if(!d.active)return;if(i<l[0]){switch(o){case n.MixBlend.setup:return void(d.position=d.data.position);case n.MixBlend.first:d.position+=(d.data.position-d.position)*a}return}let u=0;if(i>=l[l.length-w.ENTRIES])u=l[l.length+w.PREV_VALUE];else{const t=r.binarySearch(l,i,w.ENTRIES);u=l[t+w.PREV_VALUE];const e=l[t],s=this.getCurvePercent(t/w.ENTRIES-1,1-(i-e)/(l[t+w.PREV_TIME]-e));u+=(l[t+w.VALUE]-u)*s}o==n.MixBlend.setup?d.position=d.data.position+(u-d.data.position)*a:d.position+=(u-d.position)*a}};let E=w;E.ENTRIES=2,E.PREV_TIME=-2,E.PREV_VALUE=-1,E.VALUE=1;class C extends E{constructor(t){super(t)}getPropertyId(){return(12<<24)+this.pathConstraintIndex}apply(t,e,i,s,a,o,h){const l=this.frames,d=t.pathConstraints[this.pathConstraintIndex];if(!d.active)return;if(i<l[0]){switch(o){case n.MixBlend.setup:return void(d.spacing=d.data.spacing);case n.MixBlend.first:d.spacing+=(d.data.spacing-d.spacing)*a}return}let u=0;if(i>=l[l.length-C.ENTRIES])u=l[l.length+C.PREV_VALUE];else{const t=r.binarySearch(l,i,C.ENTRIES);u=l[t+C.PREV_VALUE];const e=l[t],s=this.getCurvePercent(t/C.ENTRIES-1,1-(i-e)/(l[t+C.PREV_TIME]-e));u+=(l[t+C.VALUE]-u)*s}o==n.MixBlend.setup?d.spacing=d.data.spacing+(u-d.data.spacing)*a:d.spacing+=(u-d.spacing)*a}}const A=class extends h{constructor(t){super(t),this.frames=n.Utils.newFloatArray(t*A.ENTRIES)}getPropertyId(){return(13<<24)+this.pathConstraintIndex}setFrame(t,e,i,s){t*=A.ENTRIES,this.frames[t]=e,this.frames[t+A.ROTATE]=i,this.frames[t+A.TRANSLATE]=s}apply(t,e,i,s,a,o,h){const l=this.frames,d=t.pathConstraints[this.pathConstraintIndex];if(!d.active)return;if(i<l[0]){switch(o){case n.MixBlend.setup:return d.rotateMix=d.data.rotateMix,void(d.translateMix=d.data.translateMix);case n.MixBlend.first:d.rotateMix+=(d.data.rotateMix-d.rotateMix)*a,d.translateMix+=(d.data.translateMix-d.translateMix)*a}return}let u=0,c=0;if(i>=l[l.length-A.ENTRIES])u=l[l.length+A.PREV_ROTATE],c=l[l.length+A.PREV_TRANSLATE];else{const t=r.binarySearch(l,i,A.ENTRIES);u=l[t+A.PREV_ROTATE],c=l[t+A.PREV_TRANSLATE];const e=l[t],s=this.getCurvePercent(t/A.ENTRIES-1,1-(i-e)/(l[t+A.PREV_TIME]-e));u+=(l[t+A.ROTATE]-u)*s,c+=(l[t+A.TRANSLATE]-c)*s}o==n.MixBlend.setup?(d.rotateMix=d.data.rotateMix+(u-d.data.rotateMix)*a,d.translateMix=d.data.translateMix+(c-d.data.translateMix)*a):(d.rotateMix+=(u-d.rotateMix)*a,d.translateMix+=(c-d.translateMix)*a)}};let M=A;M.ENTRIES=3,M.PREV_TIME=-3,M.PREV_ROTATE=-2,M.PREV_TRANSLATE=-1,M.ROTATE=1,M.TRANSLATE=2,e.Animation=r,e.AttachmentTimeline=class{constructor(t){this.frames=n.Utils.newFloatArray(t),this.attachmentNames=new Array(t)}getPropertyId(){return(4<<24)+this.slotIndex}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.attachmentNames[t]=i}apply(t,e,i,s,a,o,h){const l=t.slots[this.slotIndex];if(!l.bone.active)return;if(h==n.MixDirection.mixOut)return void(o==n.MixBlend.setup&&this.setAttachment(t,l,l.data.attachmentName));const d=this.frames;if(i<d[0])return void(o!=n.MixBlend.setup&&o!=n.MixBlend.first||this.setAttachment(t,l,l.data.attachmentName));let u=0;u=i>=d[d.length-1]?d.length-1:r.binarySearch(d,i,1)-1;const c=this.attachmentNames[u];t.slots[this.slotIndex].setAttachment(null==c?null:t.getAttachment(this.slotIndex,c))}setAttachment(t,e,i){e.setAttachment(null==i?null:t.getAttachment(this.slotIndex,i))}},e.ColorTimeline=g,e.CurveTimeline=h,e.DeformTimeline=class extends h{constructor(t){super(t),this.frames=n.Utils.newFloatArray(t),this.frameVertices=new Array(t),null==_&&(_=n.Utils.newFloatArray(64))}getPropertyId(){return(6<<27)+Number(this.attachment.id)+this.slotIndex}setFrame(t,e,i){this.frames[t]=e,this.frameVertices[t]=i}apply(t,e,i,a,o,h,l){const d=t.slots[this.slotIndex];if(!d.bone.active)return;const u=d.getAttachment();if(!(u instanceof s.VertexAttachment)||u.deformAttachment!=this.attachment)return;const c=d.deform;0==c.length&&(h=n.MixBlend.setup);const p=this.frameVertices,m=p[0].length,f=this.frames;if(i<f[0]){const t=u;switch(h){case n.MixBlend.setup:return void(c.length=0);case n.MixBlend.first:if(1==o){c.length=0;break}const e=n.Utils.setArraySize(c,m);if(null==t.bones){const i=t.vertices;for(let t=0;t<m;t++)e[t]+=(i[t]-e[t])*o}else{o=1-o;for(let t=0;t<m;t++)e[t]*=o}}return}const g=n.Utils.setArraySize(c,m);if(i>=f[f.length-1]){const t=p[f.length-1];if(1==o)if(h==n.MixBlend.add){const e=u;if(null==e.bones){const i=e.vertices;for(let e=0;e<m;e++)g[e]+=t[e]-i[e]}else for(let e=0;e<m;e++)g[e]+=t[e]}else n.Utils.arrayCopy(t,0,g,0,m);else switch(h){case n.MixBlend.setup:{const e=u;if(null==e.bones){const i=e.vertices;for(let e=0;e<m;e++){const s=i[e];g[e]=s+(t[e]-s)*o}}else for(let e=0;e<m;e++)g[e]=t[e]*o;break}case n.MixBlend.first:case n.MixBlend.replace:for(let e=0;e<m;e++)g[e]+=(t[e]-g[e])*o;break;case n.MixBlend.add:const e=u;if(null==e.bones){const i=e.vertices;for(let e=0;e<m;e++)g[e]+=(t[e]-i[e])*o}else for(let e=0;e<m;e++)g[e]+=t[e]*o}return}const y=r.binarySearch(f,i),x=p[y-1],_=p[y],b=f[y],v=this.getCurvePercent(y-1,1-(i-b)/(f[y-1]-b));if(1==o)if(h==n.MixBlend.add){const t=u;if(null==t.bones){const e=t.vertices;for(let t=0;t<m;t++){const i=x[t];g[t]+=i+(_[t]-i)*v-e[t]}}else for(let t=0;t<m;t++){const e=x[t];g[t]+=e+(_[t]-e)*v}}else for(let t=0;t<m;t++){const e=x[t];g[t]=e+(_[t]-e)*v}else switch(h){case n.MixBlend.setup:{const t=u;if(null==t.bones){const e=t.vertices;for(let t=0;t<m;t++){const i=x[t],s=e[t];g[t]=s+(i+(_[t]-i)*v-s)*o}}else for(let t=0;t<m;t++){const e=x[t];g[t]=(e+(_[t]-e)*v)*o}break}case n.MixBlend.first:case n.MixBlend.replace:for(let t=0;t<m;t++){const e=x[t];g[t]+=(e+(_[t]-e)*v-g[t])*o}break;case n.MixBlend.add:const t=u;if(null==t.bones){const e=t.vertices;for(let t=0;t<m;t++){const i=x[t];g[t]+=(i+(_[t]-i)*v-e[t])*o}}else for(let t=0;t<m;t++){const e=x[t];g[t]+=(e+(_[t]-e)*v)*o}}}},e.DrawOrderTimeline=class{constructor(t){this.frames=n.Utils.newFloatArray(t),this.drawOrders=new Array(t)}getPropertyId(){return 8<<24}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.drawOrders[t]=i}apply(t,e,i,s,a,o,h){const l=t.drawOrder,d=t.slots;if(h==n.MixDirection.mixOut&&o==n.MixBlend.setup)return void n.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);const u=this.frames;if(i<u[0])return void(o!=n.MixBlend.setup&&o!=n.MixBlend.first||n.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length));let c=0;c=i>=u[u.length-1]?u.length-1:r.binarySearch(u,i)-1;const p=this.drawOrders[c];if(null==p)n.Utils.arrayCopy(d,0,l,0,d.length);else for(let t=0,e=p.length;t<e;t++)l[t]=d[p[t]]}},e.EventTimeline=class{constructor(t){this.frames=n.Utils.newFloatArray(t),this.events=new Array(t)}getPropertyId(){return 7<<24}getFrameCount(){return this.frames.length}setFrame(t,e){this.frames[t]=e.time,this.events[t]=e}apply(t,e,i,s,n,a,o){if(null==s)return;const h=this.frames,l=this.frames.length;if(e>i)this.apply(t,e,Number.MAX_VALUE,s,n,a,o),e=-1;else if(e>=h[l-1])return;if(i<h[0])return;let d=0;if(e<h[0])d=0;else{d=r.binarySearch(h,e);const t=h[d];for(;d>0&&h[d-1]==t;)d--}for(;d<l&&i>=h[d];d++)s.push(this.events[d])}},e.IkConstraintTimeline=v,e.PathConstraintMixTimeline=M,e.PathConstraintPositionTimeline=E,e.PathConstraintSpacingTimeline=C,e.RotateTimeline=d,e.ScaleTimeline=p,e.ShearTimeline=m,e.TimelineType=a,e.TransformConstraintTimeline=T,e.TranslateTimeline=c,e.TwoColorTimeline=x},73863:(t,e,i)=>{"use strict";var s=i(59663),n=i(70672);const r=class{constructor(t){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new d(this),this.propertyIDs=new s.IntSet,this.animationsChanged=!1,this.trackEntryPool=new s.Pool((()=>new h)),this.data=t}update(t){t*=this.timeScale;const e=this.tracks;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(null==s)continue;s.animationLast=s.nextAnimationLast,s.trackLast=s.nextTrackLast;let n=t*s.timeScale;if(s.delay>0){if(s.delay-=n,s.delay>0)continue;n=-s.delay,s.delay=0}let r=s.next;if(null!=r){const e=s.trackLast-r.delay;if(e>=0){for(r.delay=0,r.trackTime+=0==s.timeScale?0:(e/s.timeScale+t)*r.timeScale,s.trackTime+=n,this.setCurrent(i,r,!0);null!=r.mixingFrom;)r.mixTime+=t,r=r.mixingFrom;continue}}else if(s.trackLast>=s.trackEnd&&null==s.mixingFrom){e[i]=null,this.queue.end(s),this.disposeNext(s);continue}if(null!=s.mixingFrom&&this.updateMixingFrom(s,t)){let t=s.mixingFrom;for(s.mixingFrom=null,null!=t&&(t.mixingTo=null);null!=t;)this.queue.end(t),t=t.mixingFrom}s.trackTime+=n}this.queue.drain()}updateMixingFrom(t,e){const i=t.mixingFrom;if(null==i)return!0;const s=this.updateMixingFrom(i,e);return i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=i.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=i.mixingFrom,null!=i.mixingFrom&&(i.mixingFrom.mixingTo=t),t.interruptAlpha=i.interruptAlpha,this.queue.end(i)),s):(i.trackTime+=e*i.timeScale,t.mixTime+=e,!1)}apply(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();const e=this.events,i=this.tracks;let a=!1;for(let o=0,h=i.length;o<h;o++){const h=i[o];if(null==h||h.delay>0)continue;a=!0;const l=0==o?s.MixBlend.first:h.mixBlend;let d=h.alpha;null!=h.mixingFrom?d*=this.applyMixingFrom(h,t,l):h.trackTime>=h.trackEnd&&null==h.next&&(d=0);const u=h.animationLast,c=h.getAnimationTime(),p=h.animation.timelines.length,m=h.animation.timelines;if(0==o&&1==d||l==s.MixBlend.add)for(let i=0;i<p;i++){s.Utils.webkit602BugfixHelper(d,l);const r=m[i];r instanceof n.AttachmentTimeline?this.applyAttachmentTimeline(r,t,c,l,!0):r.apply(t,u,c,e,d,l,s.MixDirection.mixIn)}else{const i=h.timelineMode,a=0==h.timelinesRotation.length;a&&s.Utils.setArraySize(h.timelinesRotation,p<<1,null);const o=h.timelinesRotation;for(let h=0;h<p;h++){const p=m[h],f=i[h]==r.SUBSEQUENT?l:s.MixBlend.setup;p instanceof n.RotateTimeline?this.applyRotateTimeline(p,t,c,d,f,o,h<<1,a):p instanceof n.AttachmentTimeline?this.applyAttachmentTimeline(p,t,c,l,!0):(s.Utils.webkit602BugfixHelper(d,l),p.apply(t,u,c,e,d,f,s.MixDirection.mixIn))}}this.queueEvents(h,c),e.length=0,h.nextAnimationLast=c,h.nextTrackLast=h.trackTime}const o=this.unkeyedState+r.SETUP,h=t.slots;for(let e=0,i=t.slots.length;e<i;e++){const i=h[e];if(i.attachmentState==o){const e=i.data.attachmentName;i.setAttachment(null==e?null:t.getAttachment(i.data.index,e))}}return this.unkeyedState+=2,this.queue.drain(),a}applyMixingFrom(t,e,i){const a=t.mixingFrom;null!=a.mixingFrom&&this.applyMixingFrom(a,e,i);let o=0;0==t.mixDuration?(o=1,i==s.MixBlend.first&&(i=s.MixBlend.setup)):(o=t.mixTime/t.mixDuration,o>1&&(o=1),i!=s.MixBlend.first&&(i=a.mixBlend));const h=o<a.eventThreshold?this.events:null,l=o<a.attachmentThreshold,d=o<a.drawOrderThreshold,u=a.animationLast,c=a.getAnimationTime(),p=a.animation.timelines.length,m=a.animation.timelines,f=a.alpha*t.interruptAlpha,g=f*(1-o);if(i==s.MixBlend.add)for(let t=0;t<p;t++)m[t].apply(e,u,c,h,g,i,s.MixDirection.mixOut);else{const t=a.timelineMode,o=a.timelineHoldMix,y=0==a.timelinesRotation.length;y&&s.Utils.setArraySize(a.timelinesRotation,p<<1,null);const x=a.timelinesRotation;a.totalAlpha=0;for(let _=0;_<p;_++){const p=m[_];let b,v=s.MixDirection.mixOut,S=0;switch(t[_]){case r.SUBSEQUENT:if(!d&&p instanceof n.DrawOrderTimeline)continue;b=i,S=g;break;case r.FIRST:b=s.MixBlend.setup,S=g;break;case r.HOLD_SUBSEQUENT:b=i,S=f;break;case r.HOLD_FIRST:b=s.MixBlend.setup,S=f;break;default:b=s.MixBlend.setup;const t=o[_];S=f*Math.max(0,1-t.mixTime/t.mixDuration)}a.totalAlpha+=S,p instanceof n.RotateTimeline?this.applyRotateTimeline(p,e,c,S,b,x,_<<1,y):p instanceof n.AttachmentTimeline?this.applyAttachmentTimeline(p,e,c,b,l):(s.Utils.webkit602BugfixHelper(S,i),d&&p instanceof n.DrawOrderTimeline&&b==s.MixBlend.setup&&(v=s.MixDirection.mixIn),p.apply(e,u,c,h,S,b,v))}}return t.mixDuration>0&&this.queueEvents(a,c),this.events.length=0,a.nextAnimationLast=c,a.nextTrackLast=a.trackTime,o}applyAttachmentTimeline(t,e,i,a,o){const h=e.slots[t.slotIndex];if(!h.bone.active)return;const l=t.frames;if(i<l[0])a!=s.MixBlend.setup&&a!=s.MixBlend.first||this.setAttachment(e,h,h.data.attachmentName,o);else{let s;s=i>=l[l.length-1]?l.length-1:n.Animation.binarySearch(l,i)-1,this.setAttachment(e,h,t.attachmentNames[s],o)}h.attachmentState<=this.unkeyedState&&(h.attachmentState=this.unkeyedState+r.SETUP)}setAttachment(t,e,i,s){e.setAttachment(null==i?null:t.getAttachment(e.data.index,i)),s&&(e.attachmentState=this.unkeyedState+r.CURRENT)}applyRotateTimeline(t,e,i,r,a,o,h,l){if(l&&(o[h]=0),1==r)return void t.apply(e,0,i,null,1,a,s.MixDirection.mixIn);const d=t,u=d.frames,c=e.bones[d.boneIndex];if(!c.active)return;let p=0,m=0;if(i<u[0])switch(a){case s.MixBlend.setup:c.rotation=c.data.rotation;default:return;case s.MixBlend.first:p=c.rotation,m=c.data.rotation}else if(p=a==s.MixBlend.setup?c.data.rotation:c.rotation,i>=u[u.length-n.RotateTimeline.ENTRIES])m=c.data.rotation+u[u.length+n.RotateTimeline.PREV_ROTATION];else{const t=n.Animation.binarySearch(u,i,n.RotateTimeline.ENTRIES),e=u[t+n.RotateTimeline.PREV_ROTATION],s=u[t],r=d.getCurvePercent((t>>1)-1,1-(i-s)/(u[t+n.RotateTimeline.PREV_TIME]-s));m=u[t+n.RotateTimeline.ROTATION]-e,m-=360*(16384-(16384.499999999996-m/360|0)),m=e+m*r+c.data.rotation,m-=360*(16384-(16384.499999999996-m/360|0))}let f=0,g=m-p;if(g-=360*(16384-(16384.499999999996-g/360|0)),0==g)f=o[h];else{let t=0,e=0;l?(t=0,e=g):(t=o[h],e=o[h+1]);const i=g>0;let n=t>=0;s.MathUtils.signum(e)!=s.MathUtils.signum(g)&&Math.abs(e)<=90&&(Math.abs(t)>180&&(t+=360*s.MathUtils.signum(t)),n=i),f=g+t-t%360,n!=i&&(f+=360*s.MathUtils.signum(t)),o[h]=f}o[h+1]=g,p+=f*r,c.rotation=p-360*(16384-(16384.499999999996-p/360|0))}queueEvents(t,e){const i=t.animationStart,s=t.animationEnd,n=s-i,r=t.trackLast%n,a=this.events;let o=0;const h=a.length;for(;o<h;o++){const e=a[o];if(e.time<r)break;e.time>s||this.queue.event(t,e)}let l=!1;for(l=t.loop?0==n||r>t.trackTime%n:e>=s&&t.animationLast<s,l&&this.queue.complete(t);o<h;o++){a[o].time<i||this.queue.event(t,a[o])}}clearTracks(){const t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let t=0,e=this.tracks.length;t<e;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()}clearTrack(t){if(t>=this.tracks.length)return;const e=this.tracks[t];if(null==e)return;this.queue.end(e),this.disposeNext(e);let i=e;for(;;){const t=i.mixingFrom;if(null==t)break;this.queue.end(t),i.mixingFrom=null,i.mixingTo=null,i=t}this.tracks[e.trackIndex]=null,this.queue.drain()}setCurrent(t,e,i){const s=this.expandToIndex(t);this.tracks[t]=e,null!=s&&(i&&this.queue.interrupt(s),e.mixingFrom=s,s.mixingTo=e,e.mixTime=0,null!=s.mixingFrom&&s.mixDuration>0&&(e.interruptAlpha*=Math.min(1,s.mixTime/s.mixDuration)),s.timelinesRotation.length=0),this.queue.start(e)}setAnimation(t,e,i){const s=this.data.skeletonData.findAnimation(e);if(null==s)throw new Error(`Animation not found: ${e}`);return this.setAnimationWith(t,s,i)}setAnimationWith(t,e,i){if(null==e)throw new Error("animation cannot be null.");let s=!0,n=this.expandToIndex(t);null!=n&&(-1==n.nextTrackLast?(this.tracks[t]=n.mixingFrom,this.queue.interrupt(n),this.queue.end(n),this.disposeNext(n),n=n.mixingFrom,s=!1):this.disposeNext(n));const r=this.trackEntry(t,e,i,n);return this.setCurrent(t,r,s),this.queue.drain(),r}addAnimation(t,e,i,s){const n=this.data.skeletonData.findAnimation(e);if(null==n)throw new Error(`Animation not found: ${e}`);return this.addAnimationWith(t,n,i,s)}addAnimationWith(t,e,i,s){if(null==e)throw new Error("animation cannot be null.");let n=this.expandToIndex(t);if(null!=n)for(;null!=n.next;)n=n.next;const r=this.trackEntry(t,e,i,n);if(null==n)this.setCurrent(t,r,!0),this.queue.drain();else if(n.next=r,s<=0){const t=n.animationEnd-n.animationStart;0!=t?(n.loop?s+=t*(1+(n.trackTime/t|0)):s+=Math.max(t,n.trackTime),s-=this.data.getMix(n.animation,e)):s=n.trackTime}return r.delay=s,r}setEmptyAnimation(t,e){const i=this.setAnimationWith(t,r.emptyAnimation,!1);return i.mixDuration=e,i.trackEnd=e,i}addEmptyAnimation(t,e,i){i<=0&&(i-=e);const s=this.addAnimationWith(t,r.emptyAnimation,!1,i);return s.mixDuration=e,s.trackEnd=e,s}setEmptyAnimations(t){const e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let e=0,i=this.tracks.length;e<i;e++){const i=this.tracks[e];null!=i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()}expandToIndex(t){return t<this.tracks.length?this.tracks[t]:(s.Utils.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)}trackEntry(t,e,i,n){const r=this.trackEntryPool.obtain();return r.trackIndex=t,r.animation=e,r.loop=i,r.holdPrevious=!1,r.eventThreshold=0,r.attachmentThreshold=0,r.drawOrderThreshold=0,r.animationStart=0,r.animationEnd=e.duration,r.animationLast=-1,r.nextAnimationLast=-1,r.delay=0,r.trackTime=0,r.trackLast=-1,r.nextTrackLast=-1,r.trackEnd=Number.MAX_VALUE,r.timeScale=1,r.alpha=1,r.interruptAlpha=1,r.mixTime=0,r.mixDuration=null==n?0:this.data.getMix(n.animation,e),r.mixBlend=s.MixBlend.replace,r}disposeNext(t){let e=t.next;for(;null!=e;)this.queue.dispose(e),e=e.next;t.next=null}_animationsChanged(){this.animationsChanged=!1,this.propertyIDs.clear();for(let t=0,e=this.tracks.length;t<e;t++){let e=this.tracks[t];if(null!=e){for(;null!=e.mixingFrom;)e=e.mixingFrom;do{null!=e.mixingFrom&&e.mixBlend==s.MixBlend.add||this.computeHold(e),e=e.mixingTo}while(null!=e)}}}computeHold(t){const e=t.mixingTo,i=t.animation.timelines,a=t.animation.timelines.length,o=s.Utils.setArraySize(t.timelineMode,a);t.timelineHoldMix.length=0;const h=s.Utils.setArraySize(t.timelineHoldMix,a),l=this.propertyIDs;if(null!=e&&e.holdPrevious)for(let t=0;t<a;t++)o[t]=l.add(i[t].getPropertyId())?r.HOLD_FIRST:r.HOLD_SUBSEQUENT;else t:for(let s=0;s<a;s++){const a=i[s],d=a.getPropertyId();if(l.add(d))if(null==e||a instanceof n.AttachmentTimeline||a instanceof n.DrawOrderTimeline||a instanceof n.EventTimeline||!e.animation.hasTimeline(d))o[s]=r.FIRST;else{for(let i=e.mixingTo;null!=i;i=i.mixingTo)if(!i.animation.hasTimeline(d)){if(t.mixDuration>0){o[s]=r.HOLD_MIX,h[s]=i;continue t}break}o[s]=r.HOLD_FIRST}else o[s]=r.SUBSEQUENT}}getCurrent(t){return t>=this.tracks.length?null:this.tracks[t]}addListener(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)}removeListener(t){const e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}clearListeners(){this.listeners.length=0}clearListenerNotifications(){this.queue.clear()}setAnimationByName(t,e,i){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,e,i)}addAnimationByName(t,e,i,s){r.deprecatedWarning2||(r.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,e,i,s)}hasAnimation(t){return null!==this.data.skeletonData.findAnimation(t)}hasAnimationByName(t){return r.deprecatedWarning3||(r.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)}};let a=r;a.emptyAnimation=new n.Animation("<empty>",[],0),a.SUBSEQUENT=0,a.FIRST=1,a.HOLD_SUBSEQUENT=2,a.HOLD_FIRST=3,a.HOLD_MIX=4,a.SETUP=1,a.CURRENT=2,a.deprecatedWarning1=!1,a.deprecatedWarning2=!1,a.deprecatedWarning3=!1;const o=class{constructor(){this.mixBlend=s.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}reset(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}getAnimationTime(){if(this.loop){const t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}setAnimationLast(t){this.animationLast=t,this.nextAnimationLast=t}isComplete(){return this.trackTime>=this.animationEnd-this.animationStart}resetRotationDirections(){this.timelinesRotation.length=0}get time(){return o.deprecatedWarning1||(o.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime}set time(t){o.deprecatedWarning1||(o.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t}get endTime(){return o.deprecatedWarning2||(o.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime}set endTime(t){o.deprecatedWarning2||(o.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t}loopsCount(){return Math.floor(this.trackTime/this.trackEnd)}};let h=o;h.deprecatedWarning1=!1,h.deprecatedWarning2=!1;const l=class{constructor(t){this.objects=[],this.drainDisabled=!1,this.animState=t}start(t){this.objects.push(u.start),this.objects.push(t),this.animState.animationsChanged=!0}interrupt(t){this.objects.push(u.interrupt),this.objects.push(t)}end(t){this.objects.push(u.end),this.objects.push(t),this.animState.animationsChanged=!0}dispose(t){this.objects.push(u.dispose),this.objects.push(t)}complete(t){this.objects.push(u.complete),this.objects.push(t)}event(t,e){this.objects.push(u.event),this.objects.push(t),this.objects.push(e)}deprecateStuff(){return l.deprecatedWarning1||(l.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0}drain(){if(this.drainDisabled)return;this.drainDisabled=!0;const t=this.objects,e=this.animState.listeners;for(let i=0;i<t.length;i+=2){const n=t[i],r=t[i+1];switch(n){case u.start:null!=r.listener&&r.listener.start&&r.listener.start(r);for(let t=0;t<e.length;t++)e[t].start&&e[t].start(r);r.onStart&&this.deprecateStuff()&&r.onStart(r.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(r.trackIndex);break;case u.interrupt:null!=r.listener&&r.listener.interrupt&&r.listener.interrupt(r);for(let t=0;t<e.length;t++)e[t].interrupt&&e[t].interrupt(r);break;case u.end:null!=r.listener&&r.listener.end&&r.listener.end(r);for(let t=0;t<e.length;t++)e[t].end&&e[t].end(r);r.onEnd&&this.deprecateStuff()&&r.onEnd(r.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(r.trackIndex);case u.dispose:null!=r.listener&&r.listener.dispose&&r.listener.dispose(r);for(let t=0;t<e.length;t++)e[t].dispose&&e[t].dispose(r);this.animState.trackEntryPool.free(r);break;case u.complete:null!=r.listener&&r.listener.complete&&r.listener.complete(r);for(let t=0;t<e.length;t++)e[t].complete&&e[t].complete(r);const n=s.MathUtils.toInt(r.loopsCount());r.onComplete&&this.deprecateStuff()&&r.onComplete(r.trackIndex,n),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(r.trackIndex,n);break;case u.event:const a=t[2+i++];null!=r.listener&&r.listener.event&&r.listener.event(r,a);for(let t=0;t<e.length;t++)e[t].event&&e[t].event(r,a);r.onEvent&&this.deprecateStuff()&&r.onEvent(r.trackIndex,a),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(r.trackIndex,a)}}this.clear(),this.drainDisabled=!1}clear(){this.objects.length=0}};let d=l;d.deprecatedWarning1=!1;var u=(t=>(t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event",t))(u||{});e.AnimationState=a,e.AnimationStateAdapter=class{start(t){}interrupt(t){}end(t){}dispose(t){}complete(t){}event(t,e){}},e.EventQueue=d,e.EventType=u,e.TrackEntry=h},50116:(t,e)=>{"use strict";const i=class{constructor(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}setMix(t,e,i){const s=this.skeletonData.findAnimation(t);if(null==s)throw new Error(`Animation not found: ${t}`);const n=this.skeletonData.findAnimation(e);if(null==n)throw new Error(`Animation not found: ${e}`);this.setMixWith(s,n,i)}setMixByName(t,e,s){i.deprecatedWarning1||(i.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(t,e,s)}setMixWith(t,e,i){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");const s=`${t.name}.${e.name}`;this.animationToMixTime[s]=i}getMix(t,e){const i=`${t.name}.${e.name}`,s=this.animationToMixTime[i];return void 0===s?this.defaultMix:s}};let s=i;s.deprecatedWarning1=!1,e.AnimationStateData=s},27474:(t,e,i)=>{"use strict";i(17807);var s=i(340),n=i(4112),r=i(11809),a=i(93366),o=i(47800),h=i(5488);e.AtlasAttachmentLoader=class{constructor(t){this.atlas=t}newRegionAttachment(t,e,i){const s=this.atlas.findRegion(i);if(null==s)throw new Error(`Region not found in atlas: ${i} (region attachment: ${e})`);const n=new h.RegionAttachment(e);return n.region=s,n}newMeshAttachment(t,e,i){const s=this.atlas.findRegion(i);if(null==s)throw new Error(`Region not found in atlas: ${i} (mesh attachment: ${e})`);const n=new r.MeshAttachment(e);return n.region=s,n}newBoundingBoxAttachment(t,e){return new s.BoundingBoxAttachment(e)}newPathAttachment(t,e){return new a.PathAttachment(e)}newPointAttachment(t,e){return new o.PointAttachment(e)}newClippingAttachment(t,e){return new n.ClippingAttachment(e)}}},687:(t,e,i)=>{"use strict";var s=i(48742),n=i(59663);e.Bone=class{constructor(t,e,i){if(this.matrix=new s.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=i,this.setToSetupPose()}get worldX(){return this.matrix.tx}get worldY(){return this.matrix.ty}isActive(){return this.active}update(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransform(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransformWith(t,e,i,s,r,a,o){this.ax=t,this.ay=e,this.arotation=i,this.ascaleX=s,this.ascaleY=r,this.ashearX=a,this.ashearY=o,this.appliedValid=!0;const h=this.parent,l=this.matrix,d=this.skeleton.scaleX,u=n.settings.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==h){const h=this.skeleton,c=i+90+o;return l.a=n.MathUtils.cosDeg(i+a)*s*d,l.c=n.MathUtils.cosDeg(c)*r*d,l.b=n.MathUtils.sinDeg(i+a)*s*u,l.d=n.MathUtils.sinDeg(c)*r*u,l.tx=t*d+h.x,void(l.ty=e*u+h.y)}let c=h.matrix.a,p=h.matrix.c,m=h.matrix.b,f=h.matrix.d;switch(l.tx=c*t+p*e+h.matrix.tx,l.ty=m*t+f*e+h.matrix.ty,this.data.transformMode){case n.TransformMode.Normal:{const t=i+90+o,e=n.MathUtils.cosDeg(i+a)*s,h=n.MathUtils.cosDeg(t)*r,d=n.MathUtils.sinDeg(i+a)*s,u=n.MathUtils.sinDeg(t)*r;return l.a=c*e+p*d,l.c=c*h+p*u,l.b=m*e+f*d,void(l.d=m*h+f*u)}case n.TransformMode.OnlyTranslation:{const t=i+90+o;l.a=n.MathUtils.cosDeg(i+a)*s,l.c=n.MathUtils.cosDeg(t)*r,l.b=n.MathUtils.sinDeg(i+a)*s,l.d=n.MathUtils.sinDeg(t)*r;break}case n.TransformMode.NoRotationOrReflection:{let t=c*c+m*m,e=0;t>1e-4?(t=Math.abs(c*f-p*m)/t,c/=this.skeleton.scaleX,m/=this.skeleton.scaleY,p=m*t,f=c*t,e=Math.atan2(m,c)*n.MathUtils.radDeg):(c=0,m=0,e=90-Math.atan2(f,p)*n.MathUtils.radDeg);const h=i+a-e,d=i+o-e+90,u=n.MathUtils.cosDeg(h)*s,g=n.MathUtils.cosDeg(d)*r,y=n.MathUtils.sinDeg(h)*s,x=n.MathUtils.sinDeg(d)*r;l.a=c*u-p*y,l.c=c*g-p*x,l.b=m*u+f*y,l.d=m*g+f*x;break}case n.TransformMode.NoScale:case n.TransformMode.NoScaleOrReflection:{const t=n.MathUtils.cosDeg(i),e=n.MathUtils.sinDeg(i);let h=(c*t+p*e)/d,g=(m*t+f*e)/u,y=Math.sqrt(h*h+g*g);y>1e-5&&(y=1/y),h*=y,g*=y,y=Math.sqrt(h*h+g*g),this.data.transformMode==n.TransformMode.NoScale&&c*f-p*m<0!=(n.settings.yDown?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(y=-y);const x=Math.PI/2+Math.atan2(g,h),_=Math.cos(x)*y,b=Math.sin(x)*y,v=n.MathUtils.cosDeg(a)*s,S=n.MathUtils.cosDeg(90+o)*r,T=n.MathUtils.sinDeg(a)*s,w=n.MathUtils.sinDeg(90+o)*r;l.a=h*v+_*T,l.c=h*S+_*w,l.b=g*v+b*T,l.d=g*S+b*w;break}}l.a*=d,l.c*=d,l.b*=u,l.d*=u}setToSetupPose(){const t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY}getWorldRotationX(){return Math.atan2(this.matrix.b,this.matrix.a)*n.MathUtils.radDeg}getWorldRotationY(){return Math.atan2(this.matrix.d,this.matrix.c)*n.MathUtils.radDeg}getWorldScaleX(){const t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)}getWorldScaleY(){const t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)}updateAppliedTransform(){this.appliedValid=!0;const t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*n.MathUtils.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*n.MathUtils.radDeg);const i=t.matrix,s=1/(i.a*i.d-i.b*i.c),r=e.tx-i.tx,a=e.ty-i.ty;this.ax=r*i.d*s-a*i.c*s,this.ay=a*i.a*s-r*i.b*s;const o=s*i.d,h=s*i.a,l=s*i.c,d=s*i.b,u=o*e.a-l*e.b,c=o*e.c-l*e.d,p=h*e.b-d*e.a,m=h*e.d-d*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(u*u+p*p),this.ascaleX>1e-4){const t=u*m-c*p;this.ascaleY=t/this.ascaleX,this.ashearY=Math.atan2(u*c+p*m,t)*n.MathUtils.radDeg,this.arotation=Math.atan2(p,u)*n.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(c*c+m*m),this.ashearY=0,this.arotation=90-Math.atan2(m,c)*n.MathUtils.radDeg}worldToLocal(t){const e=this.matrix,i=e.a,s=e.c,n=e.b,r=e.d,a=1/(i*r-s*n),o=t.x-e.tx,h=t.y-e.ty;return t.x=o*r*a-h*s*a,t.y=h*i*a-o*n*a,t}localToWorld(t){const e=this.matrix,i=t.x,s=t.y;return t.x=i*e.a+s*e.c+e.tx,t.y=i*e.b+s*e.d+e.ty,t}worldToLocalRotation(t){const e=n.MathUtils.sinDeg(t),i=n.MathUtils.cosDeg(t),s=this.matrix;return Math.atan2(s.a*e-s.b*i,s.d*i-s.c*e)*n.MathUtils.radDeg}localToWorldRotation(t){const e=n.MathUtils.sinDeg(t),i=n.MathUtils.cosDeg(t),s=this.matrix;return Math.atan2(i*s.b+e*s.d,i*s.a+e*s.c)*n.MathUtils.radDeg}rotateWorld(t){const e=this.matrix,i=e.a,s=e.c,r=e.b,a=e.d,o=n.MathUtils.cosDeg(t),h=n.MathUtils.sinDeg(t);e.a=o*i-h*r,e.c=o*s-h*a,e.b=h*i+o*r,e.d=h*s+o*a,this.appliedValid=!1}}},48130:(t,e,i)=>{"use strict";var s=i(59663);e.BoneData=class{constructor(t,e,i){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=s.TransformMode.Normal,this.skinRequired=!1,this.color=new s.Color,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=i}}},43525:(t,e)=>{"use strict";e.ConstraintData=class{constructor(t,e,i){this.name=t,this.order=e,this.skinRequired=i}}},77141:(t,e)=>{"use strict";e.Event=class{constructor(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e}}},26367:(t,e)=>{"use strict";e.EventData=class{constructor(t){this.name=t}}},25464:(t,e,i)=>{"use strict";var s=i(59663);e.IkConstraint=class{constructor(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(let i=0;i<t.bones.length;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findBone(t.target.name)}isActive(){return this.active}apply(){this.update()}update(){const t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}}apply1(t,e,i,n,r,a,o){t.appliedValid||t.updateAppliedTransform();const h=t.parent.matrix,l=h.a;let d=h.c;const u=h.b;let c=h.d,p=-t.ashearX-t.arotation,m=0,f=0;switch(t.data.transformMode){case s.TransformMode.OnlyTranslation:m=e-t.worldX,f=i-t.worldY;break;case s.TransformMode.NoRotationOrReflection:const n=Math.abs(l*c-d*u)/(l*l+u*u),r=l/t.skeleton.scaleX,a=u/t.skeleton.scaleY;d=-a*n*t.skeleton.scaleX,c=r*n*t.skeleton.scaleY,p+=Math.atan2(a,r)*s.MathUtils.radDeg;default:const o=e-h.tx,g=i-h.ty,y=l*c-d*u;m=(o*c-g*d)/y-t.ax,f=(g*l-o*u)/y-t.ay}p+=Math.atan2(f,m)*s.MathUtils.radDeg,t.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);let g=t.ascaleX,y=t.ascaleY;if(n||r){switch(t.data.transformMode){case s.TransformMode.NoScale:case s.TransformMode.NoScaleOrReflection:m=e-t.worldX,f=i-t.worldY}const h=t.data.length*g,l=Math.sqrt(m*m+f*f);if(n&&l<h||r&&l>h&&h>1e-4){const t=(l/h-1)*o+1;g*=t,a&&(y*=t)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+p*o,g,y,t.ashearX,t.ashearY)}apply2(t,e,i,n,r,a,o,h){if(0==h)return void e.updateWorldTransform();t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();const l=t.ax,d=t.ay;let u=t.ascaleX,c=u,p=t.ascaleY,m=e.ascaleX;const f=t.matrix;let g=0,y=0,x=0;u<0?(u=-u,g=180,x=-1):(g=0,x=1),p<0&&(p=-p,x=-x),m<0?(m=-m,y=180):y=0;const _=e.ax;let b=0,v=0,S=0,T=f.a,w=f.c,E=f.b,C=f.d;const A=Math.abs(u-p)<=1e-4;A?(b=e.ay,v=T*_+w*b+f.tx,S=E*_+C*b+f.ty):(b=0,v=T*_+f.tx,S=E*_+f.ty);const M=t.parent.matrix;T=M.a,w=M.c,E=M.b,C=M.d;const P=1/(T*C-w*E);let B=v-M.tx,R=S-M.ty;const I=(B*C-R*w)*P-l,k=(R*T-B*E)*P-d,O=Math.sqrt(I*I+k*k);let D,F,L=e.data.length*m;if(O<1e-4)return this.apply1(t,i,n,!1,a,!1,h),void e.updateWorldTransformWith(_,b,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);B=i-M.tx,R=n-M.ty;let N=(B*C-R*w)*P-l,U=(R*T-B*E)*P-d,G=N*N+U*U;if(0!=o){o*=u*(m+1)/2;const t=Math.sqrt(G),e=t-O-L*u+o;if(e>0){let i=Math.min(1,e/(2*o))-1;i=(e-o*(1-i*i))/t,N-=i*N,U-=i*U,G=N*N+U*U}}t:if(A){L*=u;let t=(G-O*O-L*L)/(2*O*L);t<-1?t=-1:t>1&&(t=1,a&&(c*=(Math.sqrt(G)/(O+L)-1)*h+1)),F=Math.acos(t)*r,T=O+L*t,w=L*Math.sin(F),D=Math.atan2(U*T-N*w,N*T+U*w)}else{T=u*L,w=p*L;const t=T*T,e=w*w,i=Math.atan2(U,N);E=e*O*O+t*G-t*e;const n=-2*e*O,a=e-t;if(C=n*n-4*a*E,C>=0){let t=Math.sqrt(C);n<0&&(t=-t),t=-(n+t)/2;const e=t/a,s=E/t,o=Math.abs(e)<Math.abs(s)?e:s;if(o*o<=G){R=Math.sqrt(G-o*o)*r,D=i-Math.atan2(R,o),F=Math.atan2(R/p,(o-O)/u);break t}}let o=s.MathUtils.PI,h=O-T,l=h*h,d=0,c=0,m=O+T,f=m*m,g=0;E=-T*O/(t-e),E>=-1&&E<=1&&(E=Math.acos(E),B=T*Math.cos(E)+O,R=w*Math.sin(E),C=B*B+R*R,C<l&&(o=E,l=C,h=B,d=R),C>f&&(c=E,f=C,m=B,g=R)),G<=(l+f)/2?(D=i-Math.atan2(d*r,h),F=o*r):(D=i-Math.atan2(g*r,m),F=c*r)}const V=Math.atan2(b,_)*x;let j=t.arotation;D=(D-V)*s.MathUtils.radDeg+g-j,D>180?D-=360:D<-180&&(D+=360),t.updateWorldTransformWith(l,d,j+D*h,c,t.ascaleY,0,0),j=e.arotation,F=((F+V)*s.MathUtils.radDeg-e.ashearX)*x+y-j,F>180?F-=360:F<-180&&(F+=360),e.updateWorldTransformWith(_,b,j+F*h,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}}},79717:(t,e,i)=>{"use strict";var s=i(43525);class n extends s.ConstraintData{constructor(t){super(t,0,!1),this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.softness=0}}e.IkConstraintData=n},70414:(t,e,i)=>{"use strict";i(17807);var s=i(59663),n=i(93366);i(5488);var r=i(98901);const a=class{constructor(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(let i=0,s=t.bones.length;i<s;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}isActive(){return this.active}apply(){this.update()}update(){const t=this.target.getAttachment();if(!(t instanceof n.PathAttachment))return;const e=this.rotateMix,i=this.translateMix,o=e>0;if(!(i>0)&&!o)return;const h=this.data,l=h.spacingMode,d=l==r.SpacingMode.Length,u=h.rotateMode,c=u==s.RotateMode.Tangent,p=u==s.RotateMode.ChainScale,m=this.bones.length,f=c?m:m+1,g=this.bones,y=s.Utils.setArraySize(this.spaces,f);let x=null;const _=this.spacing;if(p||d){p&&(x=s.Utils.setArraySize(this.lengths,m));for(let t=0,e=f-1;t<e;){const e=g[t],i=e.data.length;if(i<a.epsilon)p&&(x[t]=0),y[++t]=0;else{const s=i*e.matrix.a,n=i*e.matrix.b,r=Math.sqrt(s*s+n*n);p&&(x[t]=r),y[++t]=(d?i+_:_)*r/i}}}else for(let t=1;t<f;t++)y[t]=_;const b=this.computeWorldPositions(t,f,c,h.positionMode==s.PositionMode.Percent,l==r.SpacingMode.Percent);let v=b[0],S=b[1],T=h.offsetRotation,w=!1;if(0==T)w=u==s.RotateMode.Chain;else{w=!1;const t=this.target.bone.matrix;T*=t.a*t.d-t.b*t.c>0?s.MathUtils.degRad:-s.MathUtils.degRad}for(let t=0,n=3;t<m;t++,n+=3){const r=g[t],a=r.matrix;a.tx+=(v-a.tx)*i,a.ty+=(S-a.ty)*i;const h=b[n],l=b[n+1],d=h-v,u=l-S;if(p){const i=x[t];if(0!=i){const t=(Math.sqrt(d*d+u*u)/i-1)*e+1;a.a*=t,a.b*=t}}if(v=h,S=l,o){const i=a.a,o=a.c,h=a.b,l=a.d;let p=0,m=0,f=0;if(c&&(p=c?b[n-1]:0==y[t+1]?b[n+2]:Math.atan2(u,d)),p-=Math.atan2(h,i),w){m=Math.cos(p),f=Math.sin(p);const t=r.data.length;v+=(t*(m*i-f*h)-d)*e,S+=(t*(f*i+m*h)-u)*e}else p+=T;p>s.MathUtils.PI?p-=s.MathUtils.PI2:p<-s.MathUtils.PI&&(p+=s.MathUtils.PI2),p*=e,m=Math.cos(p),f=Math.sin(p),a.a=m*i-f*h,a.c=m*o-f*l,a.b=f*i+m*h,a.d=f*o+m*l}r.appliedValid=!1}}computeWorldPositions(t,e,i,n,r){const o=this.target;let h=this.position;const l=this.spaces,d=s.Utils.setArraySize(this.positions,3*e+2);let u=null;const c=t.closed;let p=t.worldVerticesLength,m=p/6,f=a.NONE;if(!t.constantSpeed){const g=t.lengths;m-=c?1:2;const y=g[m];if(n&&(h*=y),r)for(let t=0;t<e;t++)l[t]*=y;u=s.Utils.setArraySize(this.world,8);for(let s=0,n=0,r=0;s<e;s++,n+=3){const e=l[s];h+=e;let x=h;if(c)x%=y,x<0&&(x+=y),r=0;else{if(x<0){f!=a.BEFORE&&(f=a.BEFORE,t.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(x,u,0,d,n);continue}if(x>y){f!=a.AFTER&&(f=a.AFTER,t.computeWorldVertices(o,p-6,4,u,0,2)),this.addAfterPosition(x-y,u,0,d,n);continue}}for(;;r++){const t=g[r];if(!(x>t)){if(0==r)x/=t;else{const e=g[r-1];x=(x-e)/(t-e)}break}}r!=f&&(f=r,c&&r==m?(t.computeWorldVertices(o,p-4,4,u,0,2),t.computeWorldVertices(o,0,4,u,4,2)):t.computeWorldVertices(o,6*r+2,8,u,0,2)),this.addCurvePosition(x,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],d,n,i||s>0&&0==e)}return d}c?(p+=2,u=s.Utils.setArraySize(this.world,p),t.computeWorldVertices(o,2,p-4,u,0,2),t.computeWorldVertices(o,0,2,u,p-4,2),u[p-2]=u[0],u[p-1]=u[1]):(m--,p-=4,u=s.Utils.setArraySize(this.world,p),t.computeWorldVertices(o,2,p,u,0,2));const g=s.Utils.setArraySize(this.curves,m);let y=0,x=u[0],_=u[1],b=0,v=0,S=0,T=0,w=0,E=0,C=0,A=0,M=0,P=0,B=0,R=0,I=0,k=0;for(let t=0,e=2;t<m;t++,e+=6)b=u[e],v=u[e+1],S=u[e+2],T=u[e+3],w=u[e+4],E=u[e+5],C=.1875*(x-2*b+S),A=.1875*(_-2*v+T),M=.09375*(3*(b-S)-x+w),P=.09375*(3*(v-T)-_+E),B=2*C+M,R=2*A+P,I=.75*(b-x)+C+.16666667*M,k=.75*(v-_)+A+.16666667*P,y+=Math.sqrt(I*I+k*k),I+=B,k+=R,B+=M,R+=P,y+=Math.sqrt(I*I+k*k),I+=B,k+=R,y+=Math.sqrt(I*I+k*k),I+=B+M,k+=R+P,y+=Math.sqrt(I*I+k*k),g[t]=y,x=w,_=E;if(n&&(h*=y),r)for(let t=0;t<e;t++)l[t]*=y;const O=this.segments;let D=0;for(let t=0,s=0,n=0,r=0;t<e;t++,s+=3){const e=l[t];h+=e;let a=h;if(c)a%=y,a<0&&(a+=y),n=0;else{if(a<0){this.addBeforePosition(a,u,0,d,s);continue}if(a>y){this.addAfterPosition(a-y,u,p-4,d,s);continue}}for(;;n++){const t=g[n];if(!(a>t)){if(0==n)a/=t;else{const e=g[n-1];a=(a-e)/(t-e)}break}}if(n!=f){f=n;let t=6*n;for(x=u[t],_=u[t+1],b=u[t+2],v=u[t+3],S=u[t+4],T=u[t+5],w=u[t+6],E=u[t+7],C=.03*(x-2*b+S),A=.03*(_-2*v+T),M=.006*(3*(b-S)-x+w),P=.006*(3*(v-T)-_+E),B=2*C+M,R=2*A+P,I=.3*(b-x)+C+.16666667*M,k=.3*(v-_)+A+.16666667*P,D=Math.sqrt(I*I+k*k),O[0]=D,t=1;t<8;t++)I+=B,k+=R,B+=M,R+=P,D+=Math.sqrt(I*I+k*k),O[t]=D;I+=B,k+=R,D+=Math.sqrt(I*I+k*k),O[8]=D,I+=B+M,k+=R+P,D+=Math.sqrt(I*I+k*k),O[9]=D,r=0}for(a*=D;;r++){const t=O[r];if(!(a>t)){if(0==r)a/=t;else{const e=O[r-1];a=r+(a-e)/(t-e)}break}}this.addCurvePosition(.1*a,x,_,b,v,S,T,w,E,d,s,i||t>0&&0==e)}return d}addBeforePosition(t,e,i,s,n){const r=e[i],a=e[i+1],o=e[i+2]-r,h=e[i+3]-a,l=Math.atan2(h,o);s[n]=r+t*Math.cos(l),s[n+1]=a+t*Math.sin(l),s[n+2]=l}addAfterPosition(t,e,i,s,n){const r=e[i+2],a=e[i+3],o=r-e[i],h=a-e[i+1],l=Math.atan2(h,o);s[n]=r+t*Math.cos(l),s[n+1]=a+t*Math.sin(l),s[n+2]=l}addCurvePosition(t,e,i,s,n,r,a,o,h,l,d,u){(0==t||isNaN(t))&&(t=1e-4);const c=t*t,p=c*t,m=1-t,f=m*m,g=f*m,y=m*t,x=3*y,_=m*x,b=x*t,v=e*g+s*_+r*b+o*p,S=i*g+n*_+a*b+h*p;l[d]=v,l[d+1]=S,u&&(l[d+2]=Math.atan2(S-(i*f+n*y*2+a*c),v-(e*f+s*y*2+r*c)))}};let o=a;o.NONE=-1,o.BEFORE=-2,o.AFTER=-3,o.epsilon=1e-5,e.PathConstraint=o},98901:(t,e,i)=>{"use strict";var s=i(43525);class n extends s.ConstraintData{constructor(t){super(t,0,!1),this.bones=new Array}}var r=(t=>(t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t))(r||{});e.PathConstraintData=n,e.SpacingMode=r},1856:(t,e,i)=>{"use strict";i(17807);var s=i(59663),n=i(11809),r=i(93366),a=i(5488),o=i(687),h=i(70675),l=i(25464),d=i(25305),u=i(70414);const c=class{constructor(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(let e=0;e<t.bones.length;e++){const i=t.bones[e];let s;if(null==i.parent)s=new o.Bone(i,this,null);else{const t=this.bones[i.parent.index];s=new o.Bone(i,this,t),t.children.push(s)}this.bones.push(s)}this.slots=new Array,this.drawOrder=new Array;for(let e=0;e<t.slots.length;e++){const i=t.slots[e],s=this.bones[i.boneData.index],n=new h.Slot(i,s);this.slots.push(n),this.drawOrder.push(n)}this.ikConstraints=new Array;for(let e=0;e<t.ikConstraints.length;e++){const i=t.ikConstraints[e];this.ikConstraints.push(new l.IkConstraint(i,this))}this.transformConstraints=new Array;for(let e=0;e<t.transformConstraints.length;e++){const i=t.transformConstraints[e];this.transformConstraints.push(new d.TransformConstraint(i,this))}this.pathConstraints=new Array;for(let e=0;e<t.pathConstraints.length;e++){const i=t.pathConstraints[e];this.pathConstraints.push(new u.PathConstraint(i,this))}this.color=new s.Color(1,1,1,1),this.updateCache()}updateCache(){this._updateCache.length=0,this.updateCacheReset.length=0;const t=this.bones;for(let e=0,i=t.length;e<i;e++){const i=t[e];i.sorted=i.data.skinRequired,i.active=!i.sorted}if(null!=this.skin){const t=this.skin.bones;for(let e=0,i=this.skin.bones.length;e<i;e++){let i=this.bones[t[e].index];do{i.sorted=!1,i.active=!0,i=i.parent}while(null!=i)}}const e=this.ikConstraints,i=this.transformConstraints,s=this.pathConstraints,n=e.length,r=i.length,a=s.length,o=n+r+a;t:for(let t=0;t<o;t++){for(let i=0;i<n;i++){const s=e[i];if(s.data.order==t){this.sortIkConstraint(s);continue t}}for(let e=0;e<r;e++){const s=i[e];if(s.data.order==t){this.sortTransformConstraint(s);continue t}}for(let e=0;e<a;e++){const i=s[e];if(i.data.order==t){this.sortPathConstraint(i);continue t}}}for(let e=0,i=t.length;e<i;e++)this.sortBone(t[e])}sortIkConstraint(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&s.Utils.contains(this.skin.constraints,t.data,!0)),!t.active)return;const e=t.target;this.sortBone(e);const i=t.bones,n=i[0];if(this.sortBone(n),i.length>1){const t=i[i.length-1];this._updateCache.indexOf(t)>-1||this.updateCacheReset.push(t)}this._updateCache.push(t),this.sortReset(n.children),i[i.length-1].sorted=!0}sortPathConstraint(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||null!=this.skin&&s.Utils.contains(this.skin.constraints,t.data,!0)),!t.active)return;const e=t.target,i=e.data.index,n=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,i,n),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,i,n);for(let t=0,e=this.data.skins.length;t<e;t++)this.sortPathConstraintAttachment(this.data.skins[t],i,n);const a=e.getAttachment();a instanceof r.PathAttachment&&this.sortPathConstraintAttachmentWith(a,n);const o=t.bones,h=o.length;for(let t=0;t<h;t++)this.sortBone(o[t]);this._updateCache.push(t);for(let t=0;t<h;t++)this.sortReset(o[t].children);for(let t=0;t<h;t++)o[t].sorted=!0}sortTransformConstraint(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&s.Utils.contains(this.skin.constraints,t.data,!0)),!t.active)return;this.sortBone(t.target);const e=t.bones,i=e.length;if(t.data.local)for(let t=0;t<i;t++){const i=e[t];this.sortBone(i.parent),this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}else for(let t=0;t<i;t++)this.sortBone(e[t]);this._updateCache.push(t);for(let t=0;t<i;t++)this.sortReset(e[t].children);for(let t=0;t<i;t++)e[t].sorted=!0}sortPathConstraintAttachment(t,e,i){const s=t.attachments[e];if(s)for(const t in s)this.sortPathConstraintAttachmentWith(s[t],i)}sortPathConstraintAttachmentWith(t,e){if(!(t instanceof r.PathAttachment))return;const i=t.bones;if(null==i)this.sortBone(e);else{const t=this.bones;let e=0;for(;e<i.length;){const s=i[e++];for(let n=e+s;e<n;e++){const s=i[e];this.sortBone(t[s])}}}}sortBone(t){if(t.sorted)return;const e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}sortReset(t){for(let e=0,i=t.length;e<i;e++){const i=t[e];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}}updateWorldTransform(){const t=this.updateCacheReset;for(let e=0,i=t.length;e<i;e++){const i=t[e];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}const e=this._updateCache;for(let t=0,i=e.length;t<i;t++)e[t].update()}setToSetupPose(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}setBonesToSetupPose(){const t=this.bones;for(let e=0,i=t.length;e<i;e++)t[e].setToSetupPose();const e=this.ikConstraints;for(let t=0,i=e.length;t<i;t++){const i=e[t];i.mix=i.data.mix,i.softness=i.data.softness,i.bendDirection=i.data.bendDirection,i.compress=i.data.compress,i.stretch=i.data.stretch}const i=this.transformConstraints;for(let t=0,e=i.length;t<e;t++){const e=i[t],s=e.data;e.rotateMix=s.rotateMix,e.translateMix=s.translateMix,e.scaleMix=s.scaleMix,e.shearMix=s.shearMix}const s=this.pathConstraints;for(let t=0,e=s.length;t<e;t++){const e=s[t],i=e.data;e.position=i.position,e.spacing=i.spacing,e.rotateMix=i.rotateMix,e.translateMix=i.translateMix}}setSlotsToSetupPose(){const t=this.slots;s.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(let e=0,i=t.length;e<i;e++)t[e].setToSetupPose()}getRootBone(){return 0==this.bones.length?null:this.bones[0]}findBone(t){if(null==t)throw new Error("boneName cannot be null.");const e=this.bones;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.data.name==t)return s}return null}findBoneIndex(t){if(null==t)throw new Error("boneName cannot be null.");const e=this.bones;for(let i=0,s=e.length;i<s;i++)if(e[i].data.name==t)return i;return-1}findSlot(t){if(null==t)throw new Error("slotName cannot be null.");const e=this.slots;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.data.name==t)return s}return null}findSlotIndex(t){if(null==t)throw new Error("slotName cannot be null.");const e=this.slots;for(let i=0,s=e.length;i<s;i++)if(e[i].data.name==t)return i;return-1}setSkinByName(t){const e=this.data.findSkin(t);if(null==e)throw new Error(`Skin not found: ${t}`);this.setSkin(e)}setSkin(t){if(t!=this.skin){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else{const e=this.slots;for(let i=0,s=e.length;i<s;i++){const s=e[i],n=s.data.attachmentName;if(null!=n){const e=t.getAttachment(i,n);null!=e&&s.setAttachment(e)}}}this.skin=t,this.updateCache()}}getAttachmentByName(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)}getAttachment(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){const i=this.skin.getAttachment(t,e);if(null!=i)return i}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null}setAttachment(t,e){if(null==t)throw new Error("slotName cannot be null.");const i=this.slots;for(let s=0,n=i.length;s<n;s++){const n=i[s];if(n.data.name==t){let i=null;if(null!=e&&(i=this.getAttachment(s,e),null==i))throw new Error(`Attachment not found: ${e}, for slot: ${t}`);return void n.setAttachment(i)}}throw new Error(`Slot not found: ${t}`)}findIkConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");const e=this.ikConstraints;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.data.name==t)return s}return null}findTransformConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");const e=this.transformConstraints;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.data.name==t)return s}return null}findPathConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");const e=this.pathConstraints;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.data.name==t)return s}return null}getBounds(t,e,i=new Array(2)){if(null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");const r=this.drawOrder;let o=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,d=Number.NEGATIVE_INFINITY;for(let t=0,e=r.length;t<e;t++){const e=r[t];if(!e.bone.active)continue;let u=0,c=null;const p=e.getAttachment();if(p instanceof a.RegionAttachment)u=8,c=s.Utils.setArraySize(i,u,0),p.computeWorldVertices(e.bone,c,0,2);else if(p instanceof n.MeshAttachment){const t=p;u=t.worldVerticesLength,c=s.Utils.setArraySize(i,u,0),t.computeWorldVertices(e,0,u,c,0,2)}if(null!=c)for(let t=0,e=c.length;t<e;t+=2){const e=c[t],i=c[t+1];o=Math.min(o,e),h=Math.min(h,i),l=Math.max(l,e),d=Math.max(d,i)}}t.set(o,h),e.set(l-o,d-h)}update(t){this.time+=t}get flipX(){return-1==this.scaleX}set flipX(t){c.deprecatedWarning1||(c.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=t?1:-1}get flipY(){return-1==this.scaleY}set flipY(t){c.deprecatedWarning1||(c.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=t?1:-1}};let p=c;p.deprecatedWarning1=!1,e.Skeleton=p},21333:(t,e,i)=>{"use strict";var s=i(77141),n=i(55881),r=i(32721),a=i(48130),o=i(79717),h=i(51636),l=i(98901),d=i(42242),u=i(26367),c=i(70672),p=i(59663),m=i(48742);const f=class{constructor(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}readSkeletonData(t){const e=this.scale,i=new n.SkeletonData;i.name="";const s=new p.BinaryInput(t);if(i.hash=s.readString(),i.version=s.readString(),"3.8.75"===i.version){const t="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(t)}i.x=s.readFloat(),i.y=s.readFloat(),i.width=s.readFloat(),i.height=s.readFloat();const d=s.readBoolean();d&&(i.fps=s.readFloat(),i.imagesPath=s.readString(),i.audioPath=s.readString());let c=0;c=s.readInt(!0);for(let t=0;t<c;t++)s.strings.push(s.readString());c=s.readInt(!0);for(let t=0;t<c;t++){const n=s.readString(),r=0==t?null:i.bones[s.readInt(!0)],o=new a.BoneData(t,n,r);o.rotation=s.readFloat(),o.x=s.readFloat()*e,o.y=s.readFloat()*e,o.scaleX=s.readFloat(),o.scaleY=s.readFloat(),o.shearX=s.readFloat(),o.shearY=s.readFloat(),o.length=s.readFloat()*e,o.transformMode=f.TransformModeValues[s.readInt(!0)],o.skinRequired=s.readBoolean(),d&&p.Color.rgba8888ToColor(o.color,s.readInt32()),i.bones.push(o)}c=s.readInt(!0);for(let t=0;t<c;t++){const e=s.readString(),n=i.bones[s.readInt(!0)],a=new r.SlotData(t,e,n);p.Color.rgba8888ToColor(a.color,s.readInt32());const o=s.readInt32();-1!=o&&p.Color.rgb888ToColor(a.darkColor=new p.Color,o),a.attachmentName=s.readStringRef(),a.blendMode=f.BlendModeValues[s.readInt(!0)],i.slots.push(a)}c=s.readInt(!0);for(let t,n=0;n<c;n++){const n=new o.IkConstraintData(s.readString());n.order=s.readInt(!0),n.skinRequired=s.readBoolean(),t=s.readInt(!0);for(let e=0;e<t;e++)n.bones.push(i.bones[s.readInt(!0)]);n.target=i.bones[s.readInt(!0)],n.mix=s.readFloat(),n.softness=s.readFloat()*e,n.bendDirection=s.readByte(),n.compress=s.readBoolean(),n.stretch=s.readBoolean(),n.uniform=s.readBoolean(),i.ikConstraints.push(n)}c=s.readInt(!0);for(let t,n=0;n<c;n++){const n=new h.TransformConstraintData(s.readString());n.order=s.readInt(!0),n.skinRequired=s.readBoolean(),t=s.readInt(!0);for(let e=0;e<t;e++)n.bones.push(i.bones[s.readInt(!0)]);n.target=i.bones[s.readInt(!0)],n.local=s.readBoolean(),n.relative=s.readBoolean(),n.offsetRotation=s.readFloat(),n.offsetX=s.readFloat()*e,n.offsetY=s.readFloat()*e,n.offsetScaleX=s.readFloat(),n.offsetScaleY=s.readFloat(),n.offsetShearY=s.readFloat(),n.rotateMix=s.readFloat(),n.translateMix=s.readFloat(),n.scaleMix=s.readFloat(),n.shearMix=s.readFloat(),i.transformConstraints.push(n)}c=s.readInt(!0);for(let t,n=0;n<c;n++){const n=new l.PathConstraintData(s.readString());n.order=s.readInt(!0),n.skinRequired=s.readBoolean(),t=s.readInt(!0);for(let e=0;e<t;e++)n.bones.push(i.bones[s.readInt(!0)]);n.target=i.slots[s.readInt(!0)],n.positionMode=f.PositionModeValues[s.readInt(!0)],n.spacingMode=f.SpacingModeValues[s.readInt(!0)],n.rotateMode=f.RotateModeValues[s.readInt(!0)],n.offsetRotation=s.readFloat(),n.position=s.readFloat(),n.positionMode==p.PositionMode.Fixed&&(n.position*=e),n.spacing=s.readFloat(),n.spacingMode!=l.SpacingMode.Length&&n.spacingMode!=l.SpacingMode.Fixed||(n.spacing*=e),n.rotateMix=s.readFloat(),n.translateMix=s.readFloat(),i.pathConstraints.push(n)}const m=this.readSkin(s,i,!0,d);null!=m&&(i.defaultSkin=m,i.skins.push(m));{let t=i.skins.length;for(p.Utils.setArraySize(i.skins,c=t+s.readInt(!0));t<c;t++)i.skins[t]=this.readSkin(s,i,!1,d)}c=this.linkedMeshes.length;for(let t=0;t<c;t++){const e=this.linkedMeshes[t],s=null==e.skin?i.defaultSkin:i.findSkin(e.skin);if(null==s)throw new Error(`Skin not found: ${e.skin}`);const n=s.getAttachment(e.slotIndex,e.parent);if(null==n)throw new Error(`Parent mesh not found: ${e.parent}`);e.mesh.deformAttachment=e.inheritDeform?n:e.mesh,e.mesh.setParentMesh(n)}this.linkedMeshes.length=0,c=s.readInt(!0);for(let t=0;t<c;t++){const t=new u.EventData(s.readStringRef());t.intValue=s.readInt(!1),t.floatValue=s.readFloat(),t.stringValue=s.readString(),t.audioPath=s.readString(),null!=t.audioPath&&(t.volume=s.readFloat(),t.balance=s.readFloat()),i.events.push(t)}c=s.readInt(!0);for(let t=0;t<c;t++)i.animations.push(this.readAnimation(s,s.readString(),i));return i}readSkin(t,e,i,s){let n=null,r=0;if(i){if(r=t.readInt(!0),0==r)return null;n=new d.Skin("default")}else{n=new d.Skin(t.readStringRef()),n.bones.length=t.readInt(!0);for(let i=0,s=n.bones.length;i<s;i++)n.bones[i]=e.bones[t.readInt(!0)];for(let i=0,s=t.readInt(!0);i<s;i++)n.constraints.push(e.ikConstraints[t.readInt(!0)]);for(let i=0,s=t.readInt(!0);i<s;i++)n.constraints.push(e.transformConstraints[t.readInt(!0)]);for(let i=0,s=t.readInt(!0);i<s;i++)n.constraints.push(e.pathConstraints[t.readInt(!0)]);r=t.readInt(!0)}for(let i=0;i<r;i++){const i=t.readInt(!0);for(let r=0,a=t.readInt(!0);r<a;r++){const r=t.readStringRef(),a=this.readAttachment(t,e,n,i,r,s);null!=a&&n.setAttachment(i,r,a)}}return n}readAttachment(t,e,i,s,n,r){const a=this.scale;let o=t.readStringRef();null==o&&(o=n);const h=t.readByte();switch(f.AttachmentTypeValues[h]){case p.AttachmentType.Region:{let e=t.readStringRef();const s=t.readFloat(),n=t.readFloat(),r=t.readFloat(),h=t.readFloat(),l=t.readFloat(),d=t.readFloat(),u=t.readFloat(),c=t.readInt32();null==e&&(e=o);const m=this.attachmentLoader.newRegionAttachment(i,o,e);return null==m?null:(m.path=e,m.x=n*a,m.y=r*a,m.scaleX=h,m.scaleY=l,m.rotation=s,m.width=d*a,m.height=u*a,p.Color.rgba8888ToColor(m.color,c),m)}case p.AttachmentType.BoundingBox:{const e=t.readInt(!0),s=this.readVertices(t,e),n=r?t.readInt32():0,a=this.attachmentLoader.newBoundingBoxAttachment(i,o);return null==a?null:(a.worldVerticesLength=e<<1,a.vertices=s.vertices,a.bones=s.bones,r&&p.Color.rgba8888ToColor(a.color,n),a)}case p.AttachmentType.Mesh:{let e=t.readStringRef();const s=t.readInt32(),n=t.readInt(!0),h=this.readFloatArray(t,n<<1,1),l=this.readShortArray(t),d=this.readVertices(t,n),u=t.readInt(!0);let c=null,m=0,f=0;r&&(c=this.readShortArray(t),m=t.readFloat(),f=t.readFloat()),null==e&&(e=o);const g=this.attachmentLoader.newMeshAttachment(i,o,e);return null==g?null:(g.path=e,p.Color.rgba8888ToColor(g.color,s),g.bones=d.bones,g.vertices=d.vertices,g.worldVerticesLength=n<<1,g.triangles=l,g.regionUVs=new Float32Array(h),g.hullLength=u<<1,r&&(g.edges=c,g.width=m*a,g.height=f*a),g)}case p.AttachmentType.LinkedMesh:{let e=t.readStringRef();const n=t.readInt32(),h=t.readStringRef(),l=t.readStringRef(),d=t.readBoolean();let u=0,c=0;r&&(u=t.readFloat(),c=t.readFloat()),null==e&&(e=o);const m=this.attachmentLoader.newMeshAttachment(i,o,e);return null==m?null:(m.path=e,p.Color.rgba8888ToColor(m.color,n),r&&(m.width=u*a,m.height=c*a),this.linkedMeshes.push(new y(m,h,s,l,d)),m)}case p.AttachmentType.Path:{const e=t.readBoolean(),s=t.readBoolean(),n=t.readInt(!0),h=this.readVertices(t,n),l=p.Utils.newArray(n/3,0);for(let e=0,i=l.length;e<i;e++)l[e]=t.readFloat()*a;const d=r?t.readInt32():0,u=this.attachmentLoader.newPathAttachment(i,o);return null==u?null:(u.closed=e,u.constantSpeed=s,u.worldVerticesLength=n<<1,u.vertices=h.vertices,u.bones=h.bones,u.lengths=l,r&&p.Color.rgba8888ToColor(u.color,d),u)}case p.AttachmentType.Point:{const e=t.readFloat(),s=t.readFloat(),n=t.readFloat(),h=r?t.readInt32():0,l=this.attachmentLoader.newPointAttachment(i,o);return null==l?null:(l.x=s*a,l.y=n*a,l.rotation=e,r&&p.Color.rgba8888ToColor(l.color,h),l)}case p.AttachmentType.Clipping:{const s=t.readInt(!0),n=t.readInt(!0),a=this.readVertices(t,n),h=r?t.readInt32():0,l=this.attachmentLoader.newClippingAttachment(i,o);return null==l?null:(l.endSlot=e.slots[s],l.worldVerticesLength=n<<1,l.vertices=a.vertices,l.bones=a.bones,r&&p.Color.rgba8888ToColor(l.color,h),l)}}return null}readVertices(t,e){const i=e<<1,s=new x,n=this.scale;if(!t.readBoolean())return s.vertices=this.readFloatArray(t,i,n),s;const r=new Array,a=new Array;for(let i=0;i<e;i++){const e=t.readInt(!0);a.push(e);for(let i=0;i<e;i++)a.push(t.readInt(!0)),r.push(t.readFloat()*n),r.push(t.readFloat()*n),r.push(t.readFloat())}return s.vertices=p.Utils.toFloatArray(r),s.bones=a,s}readFloatArray(t,e,i){const s=new Array(e);if(1==i)for(let i=0;i<e;i++)s[i]=t.readFloat();else for(let n=0;n<e;n++)s[n]=t.readFloat()*i;return s}readShortArray(t){const e=t.readInt(!0),i=new Array(e);for(let s=0;s<e;s++)i[s]=t.readShort();return i}readAnimation(t,e,i){const n=new Array,r=this.scale;let a=0;const o=new p.Color,h=new p.Color;for(let e=0,i=t.readInt(!0);e<i;e++){const e=t.readInt(!0);for(let i=0,s=t.readInt(!0);i<s;i++){const i=t.readByte(),s=t.readInt(!0);switch(i){case f.SLOT_ATTACHMENT:{const i=new c.AttachmentTimeline(s);i.slotIndex=e;for(let e=0;e<s;e++)i.setFrame(e,t.readFloat(),t.readStringRef());n.push(i),a=Math.max(a,i.frames[s-1]);break}case f.SLOT_COLOR:{const i=new c.ColorTimeline(s);i.slotIndex=e;for(let e=0;e<s;e++){const n=t.readFloat();p.Color.rgba8888ToColor(o,t.readInt32()),i.setFrame(e,n,o.r,o.g,o.b,o.a),e<s-1&&this.readCurve(t,e,i)}n.push(i),a=Math.max(a,i.frames[(s-1)*c.ColorTimeline.ENTRIES]);break}case f.SLOT_TWO_COLOR:{const i=new c.TwoColorTimeline(s);i.slotIndex=e;for(let e=0;e<s;e++){const n=t.readFloat();p.Color.rgba8888ToColor(o,t.readInt32()),p.Color.rgb888ToColor(h,t.readInt32()),i.setFrame(e,n,o.r,o.g,o.b,o.a,h.r,h.g,h.b),e<s-1&&this.readCurve(t,e,i)}n.push(i),a=Math.max(a,i.frames[(s-1)*c.TwoColorTimeline.ENTRIES]);break}}}}for(let e=0,i=t.readInt(!0);e<i;e++){const e=t.readInt(!0);for(let i=0,s=t.readInt(!0);i<s;i++){const i=t.readByte(),s=t.readInt(!0);switch(i){case f.BONE_ROTATE:{const i=new c.RotateTimeline(s);i.boneIndex=e;for(let e=0;e<s;e++)i.setFrame(e,t.readFloat(),t.readFloat()),e<s-1&&this.readCurve(t,e,i);n.push(i),a=Math.max(a,i.frames[(s-1)*c.RotateTimeline.ENTRIES]);break}case f.BONE_TRANSLATE:case f.BONE_SCALE:case f.BONE_SHEAR:{let o,h=1;i==f.BONE_SCALE?o=new c.ScaleTimeline(s):i==f.BONE_SHEAR?o=new c.ShearTimeline(s):(o=new c.TranslateTimeline(s),h=r),o.boneIndex=e;for(let e=0;e<s;e++)o.setFrame(e,t.readFloat(),t.readFloat()*h,t.readFloat()*h),e<s-1&&this.readCurve(t,e,o);n.push(o),a=Math.max(a,o.frames[(s-1)*c.TranslateTimeline.ENTRIES]);break}}}}for(let e=0,i=t.readInt(!0);e<i;e++){const e=t.readInt(!0),i=t.readInt(!0),s=new c.IkConstraintTimeline(i);s.ikConstraintIndex=e;for(let e=0;e<i;e++)s.setFrame(e,t.readFloat(),t.readFloat(),t.readFloat()*r,t.readByte(),t.readBoolean(),t.readBoolean()),e<i-1&&this.readCurve(t,e,s);n.push(s),a=Math.max(a,s.frames[(i-1)*c.IkConstraintTimeline.ENTRIES])}for(let e=0,i=t.readInt(!0);e<i;e++){const e=t.readInt(!0),i=t.readInt(!0),s=new c.TransformConstraintTimeline(i);s.transformConstraintIndex=e;for(let e=0;e<i;e++)s.setFrame(e,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat()),e<i-1&&this.readCurve(t,e,s);n.push(s),a=Math.max(a,s.frames[(i-1)*c.TransformConstraintTimeline.ENTRIES])}for(let e=0,s=t.readInt(!0);e<s;e++){const e=t.readInt(!0),s=i.pathConstraints[e];for(let i=0,o=t.readInt(!0);i<o;i++){const i=t.readByte(),o=t.readInt(!0);switch(i){case f.PATH_POSITION:case f.PATH_SPACING:{let h,d=1;i==f.PATH_SPACING?(h=new c.PathConstraintSpacingTimeline(o),s.spacingMode!=l.SpacingMode.Length&&s.spacingMode!=l.SpacingMode.Fixed||(d=r)):(h=new c.PathConstraintPositionTimeline(o),s.positionMode==p.PositionMode.Fixed&&(d=r)),h.pathConstraintIndex=e;for(let e=0;e<o;e++)h.setFrame(e,t.readFloat(),t.readFloat()*d),e<o-1&&this.readCurve(t,e,h);n.push(h),a=Math.max(a,h.frames[(o-1)*c.PathConstraintPositionTimeline.ENTRIES]);break}case f.PATH_MIX:{const i=new c.PathConstraintMixTimeline(o);i.pathConstraintIndex=e;for(let e=0;e<o;e++)i.setFrame(e,t.readFloat(),t.readFloat(),t.readFloat()),e<o-1&&this.readCurve(t,e,i);n.push(i),a=Math.max(a,i.frames[(o-1)*c.PathConstraintMixTimeline.ENTRIES]);break}}}}for(let e=0,s=t.readInt(!0);e<s;e++){const e=i.skins[t.readInt(!0)];for(let i=0,s=t.readInt(!0);i<s;i++){const i=t.readInt(!0);for(let s=0,o=t.readInt(!0);s<o;s++){const s=e.getAttachment(i,t.readStringRef()),o=null!=s.bones,h=s.vertices,l=o?h.length/3*2:h.length,d=t.readInt(!0),u=new c.DeformTimeline(d);u.slotIndex=i,u.attachment=s;for(let e=0;e<d;e++){const i=t.readFloat();let s,n=t.readInt(!0);if(0==n)s=o?p.Utils.newFloatArray(l):h;else{s=p.Utils.newFloatArray(l);const e=t.readInt(!0);if(n+=e,1==r)for(let i=e;i<n;i++)s[i]=t.readFloat();else for(let i=e;i<n;i++)s[i]=t.readFloat()*r;if(!o)for(let t=0,e=s.length;t<e;t++)s[t]+=h[t]}u.setFrame(e,i,s),e<d-1&&this.readCurve(t,e,u)}n.push(u),a=Math.max(a,u.frames[d-1])}}}const d=t.readInt(!0);if(d>0){const e=new c.DrawOrderTimeline(d),s=i.slots.length;for(let i=0;i<d;i++){const n=t.readFloat(),r=t.readInt(!0),a=p.Utils.newArray(s,0);for(let t=s-1;t>=0;t--)a[t]=-1;const o=p.Utils.newArray(s-r,0);let h=0,l=0;for(let e=0;e<r;e++){const e=t.readInt(!0);for(;h!=e;)o[l++]=h++;a[h+t.readInt(!0)]=h++}for(;h<s;)o[l++]=h++;for(let t=s-1;t>=0;t--)-1==a[t]&&(a[t]=o[--l]);e.setFrame(i,n,a)}n.push(e),a=Math.max(a,e.frames[d-1])}const u=t.readInt(!0);if(u>0){const e=new c.EventTimeline(u);for(let n=0;n<u;n++){const r=t.readFloat(),a=i.events[t.readInt(!0)],o=new s.Event(r,a);o.intValue=t.readInt(!1),o.floatValue=t.readFloat(),o.stringValue=t.readBoolean()?t.readString():a.stringValue,null!=o.data.audioPath&&(o.volume=t.readFloat(),o.balance=t.readFloat()),e.setFrame(n,o)}n.push(e),a=Math.max(a,e.frames[u-1])}return new c.Animation(e,n,a)}readCurve(t,e,i){switch(t.readByte()){case f.CURVE_STEPPED:i.setStepped(e);break;case f.CURVE_BEZIER:this.setCurve(i,e,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat())}}setCurve(t,e,i,s,n,r){t.setCurve(e,i,s,n,r)}};let g=f;g.AttachmentTypeValues=[0,1,2,3,4,5,6],g.TransformModeValues=[p.TransformMode.Normal,p.TransformMode.OnlyTranslation,p.TransformMode.NoRotationOrReflection,p.TransformMode.NoScale,p.TransformMode.NoScaleOrReflection],g.PositionModeValues=[p.PositionMode.Fixed,p.PositionMode.Percent],g.SpacingModeValues=[l.SpacingMode.Length,l.SpacingMode.Fixed,l.SpacingMode.Percent],g.RotateModeValues=[p.RotateMode.Tangent,p.RotateMode.Chain,p.RotateMode.ChainScale],g.BlendModeValues=[m.BLEND_MODES.NORMAL,m.BLEND_MODES.ADD,m.BLEND_MODES.MULTIPLY,m.BLEND_MODES.SCREEN],g.BONE_ROTATE=0,g.BONE_TRANSLATE=1,g.BONE_SCALE=2,g.BONE_SHEAR=3,g.SLOT_ATTACHMENT=0,g.SLOT_COLOR=1,g.SLOT_TWO_COLOR=2,g.PATH_POSITION=0,g.PATH_SPACING=1,g.PATH_MIX=2,g.CURVE_LINEAR=0,g.CURVE_STEPPED=1,g.CURVE_BEZIER=2;class y{constructor(t,e,i,s,n){this.mesh=t,this.skin=e,this.slotIndex=i,this.parent=s,this.inheritDeform=n}}class x{constructor(t=null,e=null){this.bones=t,this.vertices=e}}e.SkeletonBinary=g},83835:(t,e,i)=>{"use strict";var s=i(59663);class n extends s.SkeletonBoundsBase{}e.SkeletonBounds=n},55881:(t,e)=>{"use strict";e.SkeletonData=class{constructor(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}findBone(t){if(null==t)throw new Error("boneName cannot be null.");const e=this.bones;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findBoneIndex(t){if(null==t)throw new Error("boneName cannot be null.");const e=this.bones;for(let i=0,s=e.length;i<s;i++)if(e[i].name==t)return i;return-1}findSlot(t){if(null==t)throw new Error("slotName cannot be null.");const e=this.slots;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findSlotIndex(t){if(null==t)throw new Error("slotName cannot be null.");const e=this.slots;for(let i=0,s=e.length;i<s;i++)if(e[i].name==t)return i;return-1}findSkin(t){if(null==t)throw new Error("skinName cannot be null.");const e=this.skins;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findEvent(t){if(null==t)throw new Error("eventDataName cannot be null.");const e=this.events;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findAnimation(t){if(null==t)throw new Error("animationName cannot be null.");const e=this.animations;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findIkConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");const e=this.ikConstraints;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findTransformConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");const e=this.transformConstraints;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findPathConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");const e=this.pathConstraints;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findPathConstraintIndex(t){if(null==t)throw new Error("pathConstraintName cannot be null.");const e=this.pathConstraints;for(let i=0,s=e.length;i<s;i++)if(e[i].name==t)return i;return-1}}},37836:(t,e,i)=>{"use strict";var s=i(77141),n=i(55881),r=i(32721),a=i(48130),o=i(79717),h=i(51636),l=i(98901),d=i(42242),u=i(26367),c=i(70672),p=i(59663),m=i(48742);class f{constructor(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}readSkeletonData(t){const e=this.scale,i=new n.SkeletonData,s="string"==typeof t?JSON.parse(t):t,c=s.skeleton;if(null!=c){if(i.hash=c.hash,i.version=c.spine,"3.8"!==i.version.substr(0,3)){const t=`Spine 3.8 loader cant load version ${c.spine}. Please configure your pixi-spine bundle`;console.error(t)}if("3.8.75"===i.version){const t="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(t)}i.x=c.x,i.y=c.y,i.width=c.width,i.height=c.height,i.fps=c.fps,i.imagesPath=c.images}if(s.bones)for(let t=0;t<s.bones.length;t++){const n=s.bones[t];let r=null;const o=this.getValue(n,"parent",null);if(null!=o&&(r=i.findBone(o),null==r))throw new Error(`Parent bone not found: ${o}`);const h=new a.BoneData(i.bones.length,n.name,r);h.length=this.getValue(n,"length",0)*e,h.x=this.getValue(n,"x",0)*e,h.y=this.getValue(n,"y",0)*e,h.rotation=this.getValue(n,"rotation",0),h.scaleX=this.getValue(n,"scaleX",1),h.scaleY=this.getValue(n,"scaleY",1),h.shearX=this.getValue(n,"shearX",0),h.shearY=this.getValue(n,"shearY",0),h.transformMode=f.transformModeFromString(this.getValue(n,"transform","normal")),h.skinRequired=this.getValue(n,"skin",!1),i.bones.push(h)}if(s.slots)for(let t=0;t<s.slots.length;t++){const e=s.slots[t],n=e.name,a=e.bone,o=i.findBone(a);if(null==o)throw new Error(`Slot bone not found: ${a}`);const h=new r.SlotData(i.slots.length,n,o),l=this.getValue(e,"color",null);null!=l&&h.color.setFromString(l);const d=this.getValue(e,"dark",null);null!=d&&(h.darkColor=new p.Color(1,1,1,1),h.darkColor.setFromString(d)),h.attachmentName=this.getValue(e,"attachment",null),h.blendMode=f.blendModeFromString(this.getValue(e,"blend","normal")),i.slots.push(h)}if(s.ik)for(let t=0;t<s.ik.length;t++){const n=s.ik[t],r=new o.IkConstraintData(n.name);r.order=this.getValue(n,"order",0),r.skinRequired=this.getValue(n,"skin",!1);for(let t=0;t<n.bones.length;t++){const e=n.bones[t],s=i.findBone(e);if(null==s)throw new Error(`IK bone not found: ${e}`);r.bones.push(s)}const a=n.target;if(r.target=i.findBone(a),null==r.target)throw new Error(`IK target bone not found: ${a}`);r.mix=this.getValue(n,"mix",1),r.softness=this.getValue(n,"softness",0)*e,r.bendDirection=this.getValue(n,"bendPositive",!0)?1:-1,r.compress=this.getValue(n,"compress",!1),r.stretch=this.getValue(n,"stretch",!1),r.uniform=this.getValue(n,"uniform",!1),i.ikConstraints.push(r)}if(s.transform)for(let t=0;t<s.transform.length;t++){const n=s.transform[t],r=new h.TransformConstraintData(n.name);r.order=this.getValue(n,"order",0),r.skinRequired=this.getValue(n,"skin",!1);for(let t=0;t<n.bones.length;t++){const e=n.bones[t],s=i.findBone(e);if(null==s)throw new Error(`Transform constraint bone not found: ${e}`);r.bones.push(s)}const a=n.target;if(r.target=i.findBone(a),null==r.target)throw new Error(`Transform constraint target bone not found: ${a}`);r.local=this.getValue(n,"local",!1),r.relative=this.getValue(n,"relative",!1),r.offsetRotation=this.getValue(n,"rotation",0),r.offsetX=this.getValue(n,"x",0)*e,r.offsetY=this.getValue(n,"y",0)*e,r.offsetScaleX=this.getValue(n,"scaleX",0),r.offsetScaleY=this.getValue(n,"scaleY",0),r.offsetShearY=this.getValue(n,"shearY",0),r.rotateMix=this.getValue(n,"rotateMix",1),r.translateMix=this.getValue(n,"translateMix",1),r.scaleMix=this.getValue(n,"scaleMix",1),r.shearMix=this.getValue(n,"shearMix",1),i.transformConstraints.push(r)}if(s.path)for(let t=0;t<s.path.length;t++){const n=s.path[t],r=new l.PathConstraintData(n.name);r.order=this.getValue(n,"order",0),r.skinRequired=this.getValue(n,"skin",!1);for(let t=0;t<n.bones.length;t++){const e=n.bones[t],s=i.findBone(e);if(null==s)throw new Error(`Transform constraint bone not found: ${e}`);r.bones.push(s)}const a=n.target;if(r.target=i.findSlot(a),null==r.target)throw new Error(`Path target slot not found: ${a}`);r.positionMode=f.positionModeFromString(this.getValue(n,"positionMode","percent")),r.spacingMode=f.spacingModeFromString(this.getValue(n,"spacingMode","length")),r.rotateMode=f.rotateModeFromString(this.getValue(n,"rotateMode","tangent")),r.offsetRotation=this.getValue(n,"rotation",0),r.position=this.getValue(n,"position",0),r.positionMode==p.PositionMode.Fixed&&(r.position*=e),r.spacing=this.getValue(n,"spacing",0),r.spacingMode!=l.SpacingMode.Length&&r.spacingMode!=l.SpacingMode.Fixed||(r.spacing*=e),r.rotateMix=this.getValue(n,"rotateMix",1),r.translateMix=this.getValue(n,"translateMix",1),i.pathConstraints.push(r)}if(s.skins)for(let t=0;t<s.skins.length;t++){const e=s.skins[t],n=new d.Skin(e.name);if(e.bones)for(let s=0;s<e.bones.length;s++){const r=i.findBone(e.bones[s]);if(null==r)throw new Error(`Skin bone not found: ${e.bones[t]}`);n.bones.push(r)}if(e.ik)for(let s=0;s<e.ik.length;s++){const r=i.findIkConstraint(e.ik[s]);if(null==r)throw new Error(`Skin IK constraint not found: ${e.ik[t]}`);n.constraints.push(r)}if(e.transform)for(let s=0;s<e.transform.length;s++){const r=i.findTransformConstraint(e.transform[s]);if(null==r)throw new Error(`Skin transform constraint not found: ${e.transform[t]}`);n.constraints.push(r)}if(e.path)for(let s=0;s<e.path.length;s++){const r=i.findPathConstraint(e.path[s]);if(null==r)throw new Error(`Skin path constraint not found: ${e.path[t]}`);n.constraints.push(r)}for(const t in e.attachments){const s=i.findSlot(t);if(null==s)throw new Error(`Slot not found: ${t}`);const r=e.attachments[t];for(const t in r){const e=this.readAttachment(r[t],n,s.index,t,i);null!=e&&n.setAttachment(s.index,t,e)}}i.skins.push(n),"default"==n.name&&(i.defaultSkin=n)}for(let t=0,e=this.linkedMeshes.length;t<e;t++){const e=this.linkedMeshes[t],s=null==e.skin?i.defaultSkin:i.findSkin(e.skin);if(null==s)throw new Error(`Skin not found: ${e.skin}`);const n=s.getAttachment(e.slotIndex,e.parent);if(null==n)throw new Error(`Parent mesh not found: ${e.parent}`);e.mesh.deformAttachment=e.inheritDeform?n:e.mesh,e.mesh.setParentMesh(n)}if(this.linkedMeshes.length=0,s.events)for(const t in s.events){const e=s.events[t],n=new u.EventData(t);n.intValue=this.getValue(e,"int",0),n.floatValue=this.getValue(e,"float",0),n.stringValue=this.getValue(e,"string",""),n.audioPath=this.getValue(e,"audio",null),null!=n.audioPath&&(n.volume=this.getValue(e,"volume",1),n.balance=this.getValue(e,"balance",0)),i.events.push(n)}if(s.animations)for(const t in s.animations){const e=s.animations[t];this.readAnimation(e,t,i)}return i}readAttachment(t,e,i,s,n){const r=this.scale;s=this.getValue(t,"name",s);switch(this.getValue(t,"type","region")){case"region":{const i=this.getValue(t,"path",s),n=this.attachmentLoader.newRegionAttachment(e,s,i);if(null==n)return null;n.path=i,n.x=this.getValue(t,"x",0)*r,n.y=this.getValue(t,"y",0)*r,n.scaleX=this.getValue(t,"scaleX",1),n.scaleY=this.getValue(t,"scaleY",1),n.rotation=this.getValue(t,"rotation",0),n.width=t.width*r,n.height=t.height*r;const a=this.getValue(t,"color",null);return null!=a&&n.color.setFromString(a),n}case"boundingbox":{const i=this.attachmentLoader.newBoundingBoxAttachment(e,s);if(null==i)return null;this.readVertices(t,i,t.vertexCount<<1);const n=this.getValue(t,"color",null);return null!=n&&i.color.setFromString(n),i}case"mesh":case"linkedmesh":{const n=this.getValue(t,"path",s),a=this.attachmentLoader.newMeshAttachment(e,s,n);if(null==a)return null;a.path=n;const o=this.getValue(t,"color",null);null!=o&&a.color.setFromString(o),a.width=this.getValue(t,"width",0)*r,a.height=this.getValue(t,"height",0)*r;const h=this.getValue(t,"parent",null);if(null!=h)return this.linkedMeshes.push(new g(a,this.getValue(t,"skin",null),i,h,this.getValue(t,"deform",!0))),a;const l=t.uvs;return this.readVertices(t,a,l.length),a.triangles=t.triangles,a.regionUVs=new Float32Array(l),a.edges=this.getValue(t,"edges",null),a.hullLength=2*this.getValue(t,"hull",0),a}case"path":{const i=this.attachmentLoader.newPathAttachment(e,s);if(null==i)return null;i.closed=this.getValue(t,"closed",!1),i.constantSpeed=this.getValue(t,"constantSpeed",!0);const n=t.vertexCount;this.readVertices(t,i,n<<1);const a=p.Utils.newArray(n/3,0);for(let e=0;e<t.lengths.length;e++)a[e]=t.lengths[e]*r;i.lengths=a;const o=this.getValue(t,"color",null);return null!=o&&i.color.setFromString(o),i}case"point":{const i=this.attachmentLoader.newPointAttachment(e,s);if(null==i)return null;i.x=this.getValue(t,"x",0)*r,i.y=this.getValue(t,"y",0)*r,i.rotation=this.getValue(t,"rotation",0);const n=this.getValue(t,"color",null);return null!=n&&i.color.setFromString(n),i}case"clipping":{const i=this.attachmentLoader.newClippingAttachment(e,s);if(null==i)return null;const r=this.getValue(t,"end",null);if(null!=r){const t=n.findSlot(r);if(null==t)throw new Error(`Clipping end slot not found: ${r}`);i.endSlot=t}const a=t.vertexCount;this.readVertices(t,i,a<<1);const o=this.getValue(t,"color",null);return null!=o&&i.color.setFromString(o),i}}return null}readVertices(t,e,i){const s=this.scale;e.worldVerticesLength=i;const n=t.vertices;if(i==n.length){const t=p.Utils.toFloatArray(n);if(1!=s)for(let e=0,i=n.length;e<i;e++)t[e]*=s;return void(e.vertices=t)}const r=new Array,a=new Array;for(let t=0,e=n.length;t<e;){const e=n[t++];a.push(e);for(let i=t+4*e;t<i;t+=4)a.push(n[t]),r.push(n[t+1]*s),r.push(n[t+2]*s),r.push(n[t+3])}e.bones=a,e.vertices=p.Utils.toFloatArray(r)}readAnimation(t,e,i){const n=this.scale,r=new Array;let a=0;if(t.slots)for(const e in t.slots){const s=t.slots[e],n=i.findSlotIndex(e);if(-1==n)throw new Error(`Slot not found: ${e}`);for(const t in s){const i=s[t];if("attachment"==t){const t=new c.AttachmentTimeline(i.length);t.slotIndex=n;let e=0;for(let s=0;s<i.length;s++){const n=i[s];t.setFrame(e++,this.getValue(n,"time",0),n.name)}r.push(t),a=Math.max(a,t.frames[t.getFrameCount()-1])}else if("color"==t){const t=new c.ColorTimeline(i.length);t.slotIndex=n;let e=0;for(let s=0;s<i.length;s++){const n=i[s],r=new p.Color;r.setFromString(n.color||"ffffffff"),t.setFrame(e,this.getValue(n,"time",0),r.r,r.g,r.b,r.a),this.readCurve(n,t,e),e++}r.push(t),a=Math.max(a,t.frames[(t.getFrameCount()-1)*c.ColorTimeline.ENTRIES])}else{if("twoColor"!=t)throw new Error(`Invalid timeline type for a slot: ${t} (${e})`);{const t=new c.TwoColorTimeline(i.length);t.slotIndex=n;let e=0;for(let s=0;s<i.length;s++){const n=i[s],r=new p.Color,a=new p.Color;r.setFromString(n.light),a.setFromString(n.dark),t.setFrame(e,this.getValue(n,"time",0),r.r,r.g,r.b,r.a,a.r,a.g,a.b),this.readCurve(n,t,e),e++}r.push(t),a=Math.max(a,t.frames[(t.getFrameCount()-1)*c.TwoColorTimeline.ENTRIES])}}}}if(t.bones)for(const e in t.bones){const s=t.bones[e],o=i.findBoneIndex(e);if(-1==o)throw new Error(`Bone not found: ${e}`);for(const t in s){const i=s[t];if("rotate"===t){const t=new c.RotateTimeline(i.length);t.boneIndex=o;let e=0;for(let s=0;s<i.length;s++){const n=i[s];t.setFrame(e,this.getValue(n,"time",0),this.getValue(n,"angle",0)),this.readCurve(n,t,e),e++}r.push(t),a=Math.max(a,t.frames[(t.getFrameCount()-1)*c.RotateTimeline.ENTRIES])}else{if("translate"!==t&&"scale"!==t&&"shear"!==t)throw new Error(`Invalid timeline type for a bone: ${t} (${e})`);{let e=null,s=1,h=0;"scale"===t?(e=new c.ScaleTimeline(i.length),h=1):"shear"===t?e=new c.ShearTimeline(i.length):(e=new c.TranslateTimeline(i.length),s=n),e.boneIndex=o;let l=0;for(let t=0;t<i.length;t++){const n=i[t],r=this.getValue(n,"x",h),a=this.getValue(n,"y",h);e.setFrame(l,this.getValue(n,"time",0),r*s,a*s),this.readCurve(n,e,l),l++}r.push(e),a=Math.max(a,e.frames[(e.getFrameCount()-1)*c.TranslateTimeline.ENTRIES])}}}}if(t.ik)for(const e in t.ik){const s=t.ik[e],o=i.findIkConstraint(e),h=new c.IkConstraintTimeline(s.length);h.ikConstraintIndex=i.ikConstraints.indexOf(o);let l=0;for(let t=0;t<s.length;t++){const e=s[t];h.setFrame(l,this.getValue(e,"time",0),this.getValue(e,"mix",1),this.getValue(e,"softness",0)*n,this.getValue(e,"bendPositive",!0)?1:-1,this.getValue(e,"compress",!1),this.getValue(e,"stretch",!1)),this.readCurve(e,h,l),l++}r.push(h),a=Math.max(a,h.frames[(h.getFrameCount()-1)*c.IkConstraintTimeline.ENTRIES])}if(t.transform)for(const e in t.transform){const s=t.transform[e],n=i.findTransformConstraint(e),o=new c.TransformConstraintTimeline(s.length);o.transformConstraintIndex=i.transformConstraints.indexOf(n);let h=0;for(let t=0;t<s.length;t++){const e=s[t];o.setFrame(h,this.getValue(e,"time",0),this.getValue(e,"rotateMix",1),this.getValue(e,"translateMix",1),this.getValue(e,"scaleMix",1),this.getValue(e,"shearMix",1)),this.readCurve(e,o,h),h++}r.push(o),a=Math.max(a,o.frames[(o.getFrameCount()-1)*c.TransformConstraintTimeline.ENTRIES])}if(t.path)for(const e in t.path){const s=t.path[e],o=i.findPathConstraintIndex(e);if(-1==o)throw new Error(`Path constraint not found: ${e}`);const h=i.pathConstraints[o];for(const t in s){const e=s[t];if("position"===t||"spacing"===t){let i=null,s=1;"spacing"===t?(i=new c.PathConstraintSpacingTimeline(e.length),h.spacingMode!=l.SpacingMode.Length&&h.spacingMode!=l.SpacingMode.Fixed||(s=n)):(i=new c.PathConstraintPositionTimeline(e.length),h.positionMode==p.PositionMode.Fixed&&(s=n)),i.pathConstraintIndex=o;let d=0;for(let n=0;n<e.length;n++){const r=e[n];i.setFrame(d,this.getValue(r,"time",0),this.getValue(r,t,0)*s),this.readCurve(r,i,d),d++}r.push(i),a=Math.max(a,i.frames[(i.getFrameCount()-1)*c.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===t){const t=new c.PathConstraintMixTimeline(e.length);t.pathConstraintIndex=o;let i=0;for(let s=0;s<e.length;s++){const n=e[s];t.setFrame(i,this.getValue(n,"time",0),this.getValue(n,"rotateMix",1),this.getValue(n,"translateMix",1)),this.readCurve(n,t,i),i++}r.push(t),a=Math.max(a,t.frames[(t.getFrameCount()-1)*c.PathConstraintMixTimeline.ENTRIES])}}}if(t.deform)for(const e in t.deform){const s=t.deform[e],o=i.findSkin(e);if(null!=o)for(const t in s){const e=s[t],h=i.findSlotIndex(t);if(-1==h)throw new Error(`Slot not found: ${e.name}`);for(const t in e){const i=e[t],s=o.getAttachment(h,t);if(null==s)throw new Error(`Deform attachment not found: ${i.name}`);const l=null!=s.bones,d=s.vertices,u=l?d.length/3*2:d.length,m=new c.DeformTimeline(i.length);m.slotIndex=h,m.attachment=s;let f=0;for(let t=0;t<i.length;t++){const e=i[t];let s;const r=this.getValue(e,"vertices",null);if(null==r)s=l?p.Utils.newFloatArray(u):d;else{s=p.Utils.newFloatArray(u);const t=this.getValue(e,"offset",0);if(p.Utils.arrayCopy(r,0,s,t,r.length),1!=n)for(let e=t,i=e+r.length;e<i;e++)s[e]*=n;if(!l)for(let t=0;t<u;t++)s[t]+=d[t]}m.setFrame(f,this.getValue(e,"time",0),s),this.readCurve(e,m,f),f++}r.push(m),a=Math.max(a,m.frames[m.getFrameCount()-1])}}else if(p.settings.FAIL_ON_NON_EXISTING_SKIN)throw new Error(`Skin not found: ${e}`)}let o=t.drawOrder;if(null==o&&(o=t.draworder),null!=o){const t=new c.DrawOrderTimeline(o.length),e=i.slots.length;let s=0;for(let n=0;n<o.length;n++){const r=o[n];let a=null;const h=this.getValue(r,"offsets",null);if(null!=h){a=p.Utils.newArray(e,-1);const t=p.Utils.newArray(e-h.length,0);let s=0,n=0;for(let e=0;e<h.length;e++){const r=h[e],o=i.findSlotIndex(r.slot);if(-1==o)throw new Error(`Slot not found: ${r.slot}`);for(;s!=o;)t[n++]=s++;a[s+r.offset]=s++}for(;s<e;)t[n++]=s++;for(let i=e-1;i>=0;i--)-1==a[i]&&(a[i]=t[--n])}t.setFrame(s++,this.getValue(r,"time",0),a)}r.push(t),a=Math.max(a,t.frames[t.getFrameCount()-1])}if(t.events){const e=new c.EventTimeline(t.events.length);let n=0;for(let r=0;r<t.events.length;r++){const a=t.events[r],o=i.findEvent(a.name);if(null==o)throw new Error(`Event not found: ${a.name}`);const h=new s.Event(p.Utils.toSinglePrecision(this.getValue(a,"time",0)),o);h.intValue=this.getValue(a,"int",o.intValue),h.floatValue=this.getValue(a,"float",o.floatValue),h.stringValue=this.getValue(a,"string",o.stringValue),null!=h.data.audioPath&&(h.volume=this.getValue(a,"volume",1),h.balance=this.getValue(a,"balance",0)),e.setFrame(n++,h)}r.push(e),a=Math.max(a,e.frames[e.getFrameCount()-1])}if(isNaN(a))throw new Error("Error while parsing animation, duration is NaN");i.animations.push(new c.Animation(e,r,a))}readCurve(t,e,i){if(t.hasOwnProperty("curve"))if("stepped"===t.curve)e.setStepped(i);else{const s=t.curve;e.setCurve(i,s,this.getValue(t,"c2",0),this.getValue(t,"c3",1),this.getValue(t,"c4",1))}}getValue(t,e,i){return void 0!==t[e]?t[e]:i}static blendModeFromString(t){if("normal"==(t=t.toLowerCase()))return m.BLEND_MODES.NORMAL;if("additive"==t)return m.BLEND_MODES.ADD;if("multiply"==t)return m.BLEND_MODES.MULTIPLY;if("screen"==t)return m.BLEND_MODES.SCREEN;throw new Error(`Unknown blend mode: ${t}`)}static positionModeFromString(t){if("fixed"==(t=t.toLowerCase()))return p.PositionMode.Fixed;if("percent"==t)return p.PositionMode.Percent;throw new Error(`Unknown position mode: ${t}`)}static spacingModeFromString(t){if("length"==(t=t.toLowerCase()))return l.SpacingMode.Length;if("fixed"==t)return l.SpacingMode.Fixed;if("percent"==t)return l.SpacingMode.Percent;throw new Error(`Unknown position mode: ${t}`)}static rotateModeFromString(t){if("tangent"==(t=t.toLowerCase()))return p.RotateMode.Tangent;if("chain"==t)return p.RotateMode.Chain;if("chainscale"==t)return p.RotateMode.ChainScale;throw new Error(`Unknown rotate mode: ${t}`)}static transformModeFromString(t){if("normal"==(t=t.toLowerCase()))return p.TransformMode.Normal;if("onlytranslation"==t)return p.TransformMode.OnlyTranslation;if("norotationorreflection"==t)return p.TransformMode.NoRotationOrReflection;if("noscale"==t)return p.TransformMode.NoScale;if("noscaleorreflection"==t)return p.TransformMode.NoScaleOrReflection;throw new Error(`Unknown transform mode: ${t}`)}}class g{constructor(t,e,i,s,n){this.mesh=t,this.skin=e,this.slotIndex=i,this.parent=s,this.inheritDeform=n}}e.SkeletonJson=f},42242:(t,e,i)=>{"use strict";i(17807),i(59663);var s=i(11809);i(5488);class n{constructor(t,e,i){this.slotIndex=t,this.name=e,this.attachment=i}}e.Skin=class{constructor(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==t)throw new Error("name cannot be null.");this.name=t}setAttachment(t,e,i){if(null==i)throw new Error("attachment cannot be null.");const s=this.attachments;t>=s.length&&(s.length=t+1),s[t]||(s[t]={}),s[t][e]=i}addSkin(t){for(let e=0;e<t.bones.length;e++){const i=t.bones[e];let s=!1;for(let t=0;t<this.bones.length;t++)if(this.bones[t]==i){s=!0;break}s||this.bones.push(i)}for(let e=0;e<t.constraints.length;e++){const i=t.constraints[e];let s=!1;for(let t=0;t<this.constraints.length;t++)if(this.constraints[t]==i){s=!0;break}s||this.constraints.push(i)}const e=t.getAttachments();for(let t=0;t<e.length;t++){const i=e[t];this.setAttachment(i.slotIndex,i.name,i.attachment)}}copySkin(t){for(let e=0;e<t.bones.length;e++){const i=t.bones[e];let s=!1;for(let t=0;t<this.bones.length;t++)if(this.bones[t]==i){s=!0;break}s||this.bones.push(i)}for(let e=0;e<t.constraints.length;e++){const i=t.constraints[e];let s=!1;for(let t=0;t<this.constraints.length;t++)if(this.constraints[t]==i){s=!0;break}s||this.constraints.push(i)}const e=t.getAttachments();for(let t=0;t<e.length;t++){const i=e[t];null!=i.attachment&&(i.attachment instanceof s.MeshAttachment?(i.attachment=i.attachment.newLinkedMesh(),this.setAttachment(i.slotIndex,i.name,i.attachment)):(i.attachment=i.attachment.copy(),this.setAttachment(i.slotIndex,i.name,i.attachment)))}}getAttachment(t,e){const i=this.attachments[t];return i?i[e]:null}removeAttachment(t,e){const i=this.attachments[t];i&&(i[e]=null)}getAttachments(){const t=new Array;for(let e=0;e<this.attachments.length;e++){const i=this.attachments[e];if(i)for(const s in i){const r=i[s];r&&t.push(new n(e,s,r))}}return t}getAttachmentsForSlot(t,e){const i=this.attachments[t];if(i)for(const s in i){const r=i[s];r&&e.push(new n(t,s,r))}}clear(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}attachAll(t,e){let i=0;for(let s=0;s<t.slots.length;s++){const n=t.slots[s],r=n.getAttachment();if(r&&i<e.attachments.length){const t=e.attachments[i];for(const e in t){if(r==t[e]){const t=this.getAttachment(i,e);null!=t&&n.setAttachment(t);break}}}i++}}},e.SkinEntry=n},70675:(t,e,i)=>{"use strict";var s=i(59663);e.Slot=class{constructor(t,e){if(this.deform=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new s.Color,this.darkColor=null==t.darkColor?null:new s.Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}getAttachment(){return this.attachment}setAttachment(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)}setAttachmentTime(t){this.attachmentTime=this.bone.skeleton.time-t}getAttachmentTime(){return this.bone.skeleton.time-this.attachmentTime}setToSetupPose(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))}}},32721:(t,e,i)=>{"use strict";var s=i(59663);e.SlotData=class{constructor(t,e,i){if(this.color=new s.Color(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==i)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=i}}},25305:(t,e,i)=>{"use strict";var s=i(59663);e.TransformConstraint=class{constructor(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new s.Vector2,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(let i=0;i<t.bones.length;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findBone(t.target.name)}isActive(){return this.active}apply(){this.update()}update(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()}applyAbsoluteWorld(){const t=this.rotateMix,e=this.translateMix,i=this.scaleMix,n=this.shearMix,r=this.target,a=r.matrix,o=a.a,h=a.c,l=a.b,d=a.d,u=o*d-h*l>0?s.MathUtils.degRad:-s.MathUtils.degRad,c=this.data.offsetRotation*u,p=this.data.offsetShearY*u,m=this.bones;for(let a=0,u=m.length;a<u;a++){const u=m[a];let f=!1;const g=u.matrix;if(0!=t){const e=g.a,i=g.c,n=g.b,r=g.d;let a=Math.atan2(l,o)-Math.atan2(n,e)+c;a>s.MathUtils.PI?a-=s.MathUtils.PI2:a<-s.MathUtils.PI&&(a+=s.MathUtils.PI2),a*=t;const h=Math.cos(a),d=Math.sin(a);g.a=h*e-d*n,g.c=h*i-d*r,g.b=d*e+h*n,g.d=d*i+h*r,f=!0}if(0!=e){const t=this.temp;r.localToWorld(t.set(this.data.offsetX,this.data.offsetY)),g.tx+=(t.x-g.tx)*e,g.ty+=(t.y-g.ty)*e,f=!0}if(i>0){let t=Math.sqrt(g.a*g.a+g.b*g.b),e=Math.sqrt(o*o+l*l);t>1e-5&&(t=(t+(e-t+this.data.offsetScaleX)*i)/t),g.a*=t,g.b*=t,t=Math.sqrt(g.c*g.c+g.d*g.d),e=Math.sqrt(h*h+d*d),t>1e-5&&(t=(t+(e-t+this.data.offsetScaleY)*i)/t),g.c*=t,g.d*=t,f=!0}if(n>0){const t=g.c,e=g.d,i=Math.atan2(e,t);let r=Math.atan2(d,h)-Math.atan2(l,o)-(i-Math.atan2(g.b,g.a));r>s.MathUtils.PI?r-=s.MathUtils.PI2:r<-s.MathUtils.PI&&(r+=s.MathUtils.PI2),r=i+(r+p)*n;const a=Math.sqrt(t*t+e*e);g.c=Math.cos(r)*a,g.d=Math.sin(r)*a,f=!0}f&&(u.appliedValid=!1)}}applyRelativeWorld(){const t=this.rotateMix,e=this.translateMix,i=this.scaleMix,n=this.shearMix,r=this.target,a=r.matrix,o=a.a,h=a.c,l=a.b,d=a.d,u=o*d-h*l>0?s.MathUtils.degRad:-s.MathUtils.degRad,c=this.data.offsetRotation*u,p=this.data.offsetShearY*u,m=this.bones;for(let a=0,u=m.length;a<u;a++){const u=m[a];let f=!1;const g=u.matrix;if(0!=t){const e=g.a,i=g.c,n=g.b,r=g.d;let a=Math.atan2(l,o)+c;a>s.MathUtils.PI?a-=s.MathUtils.PI2:a<-s.MathUtils.PI&&(a+=s.MathUtils.PI2),a*=t;const h=Math.cos(a),d=Math.sin(a);g.a=h*e-d*n,g.c=h*i-d*r,g.b=d*e+h*n,g.d=d*i+h*r,f=!0}if(0!=e){const t=this.temp;r.localToWorld(t.set(this.data.offsetX,this.data.offsetY)),g.tx+=t.x*e,g.ty+=t.y*e,f=!0}if(i>0){let t=(Math.sqrt(o*o+l*l)-1+this.data.offsetScaleX)*i+1;g.a*=t,g.b*=t,t=(Math.sqrt(h*h+d*d)-1+this.data.offsetScaleY)*i+1,g.c*=t,g.d*=t,f=!0}if(n>0){let t=Math.atan2(d,h)-Math.atan2(l,o);t>s.MathUtils.PI?t-=s.MathUtils.PI2:t<-s.MathUtils.PI&&(t+=s.MathUtils.PI2);const e=g.c,i=g.d;t=Math.atan2(i,e)+(t-s.MathUtils.PI/2+p)*n;const r=Math.sqrt(e*e+i*i);g.c=Math.cos(t)*r,g.d=Math.sin(t)*r,f=!0}f&&(u.appliedValid=!1)}}applyAbsoluteLocal(){const t=this.rotateMix,e=this.translateMix,i=this.scaleMix,s=this.shearMix,n=this.target;n.appliedValid||n.updateAppliedTransform();const r=this.bones;for(let a=0,o=r.length;a<o;a++){const o=r[a];o.appliedValid||o.updateAppliedTransform();let h=o.arotation;if(0!=t){let e=n.arotation-h+this.data.offsetRotation;e-=360*(16384-(16384.499999999996-e/360|0)),h+=e*t}let l=o.ax,d=o.ay;0!=e&&(l+=(n.ax-l+this.data.offsetX)*e,d+=(n.ay-d+this.data.offsetY)*e);let u=o.ascaleX,c=o.ascaleY;i>0&&(u>1e-5&&(u=(u+(n.ascaleX-u+this.data.offsetScaleX)*i)/u),c>1e-5&&(c=(c+(n.ascaleY-c+this.data.offsetScaleY)*i)/c));const p=o.ashearY;if(s>0){let t=n.ashearY-p+this.data.offsetShearY;t-=360*(16384-(16384.499999999996-t/360|0)),o.shearY+=t*s}o.updateWorldTransformWith(l,d,h,u,c,o.ashearX,p)}}applyRelativeLocal(){const t=this.rotateMix,e=this.translateMix,i=this.scaleMix,s=this.shearMix,n=this.target;n.appliedValid||n.updateAppliedTransform();const r=this.bones;for(let a=0,o=r.length;a<o;a++){const o=r[a];o.appliedValid||o.updateAppliedTransform();let h=o.arotation;0!=t&&(h+=(n.arotation+this.data.offsetRotation)*t);let l=o.ax,d=o.ay;0!=e&&(l+=(n.ax+this.data.offsetX)*e,d+=(n.ay+this.data.offsetY)*e);let u=o.ascaleX,c=o.ascaleY;i>0&&(u>1e-5&&(u*=(n.ascaleX-1+this.data.offsetScaleX)*i+1),c>1e-5&&(c*=(n.ascaleY-1+this.data.offsetScaleY)*i+1));let p=o.ashearY;s>0&&(p+=(n.ashearY+this.data.offsetShearY)*s),o.updateWorldTransformWith(l,d,h,u,c,o.ashearX,p)}}}},51636:(t,e,i)=>{"use strict";var s=i(43525);class n extends s.ConstraintData{constructor(t){super(t,0,!1),this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1}}e.TransformConstraintData=n},17807:(t,e,i)=>{"use strict";var s=i(59663);class n{constructor(t){if(null==t)throw new Error("name cannot be null.");this.name=t}}const r=class extends n{constructor(t){super(t),this.id=(65535&r.nextID++)<<11,this.worldVerticesLength=0,this.deformAttachment=this}computeWorldVerticesOld(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)}computeWorldVertices(t,e,i,s,n,r){i=n+(i>>1)*r;const a=t.bone.skeleton,o=t.deform;let h=this.vertices;const l=this.bones;if(null==l){o.length>0&&(h=o);const a=t.bone.matrix,l=a.tx,d=a.ty,u=a.a,c=a.c,p=a.b,m=a.d;for(let t=e,a=n;a<i;t+=2,a+=r){const e=h[t],i=h[t+1];s[a]=e*u+i*c+l,s[a+1]=e*p+i*m+d}return}let d=0,u=0;for(let t=0;t<e;t+=2){const t=l[d];d+=t+1,u+=t}const c=a.bones;if(0==o.length)for(let t=n,e=3*u;t<i;t+=r){let i=0,n=0,r=l[d++];for(r+=d;d<r;d++,e+=3){const t=c[l[d]].matrix,s=h[e],r=h[e+1],a=h[e+2];i+=(s*t.a+r*t.c+t.tx)*a,n+=(s*t.b+r*t.d+t.ty)*a}s[t]=i,s[t+1]=n}else{const t=o;for(let e=n,a=3*u,o=u<<1;e<i;e+=r){let i=0,n=0,r=l[d++];for(r+=d;d<r;d++,a+=3,o+=2){const e=c[l[d]].matrix,s=h[a]+t[o],r=h[a+1]+t[o+1],u=h[a+2];i+=(s*e.a+r*e.c+e.tx)*u,n+=(s*e.b+r*e.d+e.ty)*u}s[e]=i,s[e+1]=n}}}copyTo(t){null!=this.bones?(t.bones=new Array(this.bones.length),s.Utils.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,null!=this.vertices?(t.vertices=s.Utils.newFloatArray(this.vertices.length),s.Utils.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)):t.vertices=null,t.worldVerticesLength=this.worldVerticesLength,t.deformAttachment=this.deformAttachment}};let a=r;a.nextID=0,e.Attachment=n,e.VertexAttachment=a},340:(t,e,i)=>{"use strict";var s=i(17807),n=i(59663);class r extends s.VertexAttachment{constructor(t){super(t),this.type=n.AttachmentType.BoundingBox,this.color=new n.Color(1,1,1,1)}copy(){const t=new r(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t}}e.BoundingBoxAttachment=r},4112:(t,e,i)=>{"use strict";var s=i(17807),n=i(59663);class r extends s.VertexAttachment{constructor(t){super(t),this.type=n.AttachmentType.Clipping,this.color=new n.Color(.2275,.2275,.8078,1)}copy(){const t=new r(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t}}e.ClippingAttachment=r},11809:(t,e,i)=>{"use strict";var s=i(17807),n=i(59663);class r extends s.VertexAttachment{constructor(t){super(t),this.type=n.AttachmentType.Mesh,this.color=new n.Color(1,1,1,1),this.tempColor=new n.Color(0,0,0,0)}getParentMesh(){return this.parentMesh}setParentMesh(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}copy(){if(null!=this.parentMesh)return this.newLinkedMesh();const t=new r(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Float32Array(this.regionUVs.length),n.Utils.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.triangles=new Array(this.triangles.length),n.Utils.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,null!=this.edges&&(t.edges=new Array(this.edges.length),n.Utils.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t}newLinkedMesh(){const t=new r(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(null!=this.parentMesh?this.parentMesh:this),t}}e.MeshAttachment=r},93366:(t,e,i)=>{"use strict";var s=i(17807),n=i(59663);class r extends s.VertexAttachment{constructor(t){super(t),this.type=n.AttachmentType.Path,this.closed=!1,this.constantSpeed=!1,this.color=new n.Color(1,1,1,1)}copy(){const t=new r(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),n.Utils.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t}}e.PathAttachment=r},47800:(t,e,i)=>{"use strict";var s=i(17807),n=i(59663);class r extends s.VertexAttachment{constructor(t){super(t),this.type=n.AttachmentType.Point,this.color=new n.Color(.38,.94,0,1)}computeWorldPosition(t,e){const i=t.matrix;return e.x=this.x*i.a+this.y*i.c+t.worldX,e.y=this.x*i.b+this.y*i.d+t.worldY,e}computeWorldRotation(t){const e=t.matrix,i=n.MathUtils.cosDeg(this.rotation),s=n.MathUtils.sinDeg(this.rotation),r=i*e.a+s*e.c,a=i*e.b+s*e.d;return Math.atan2(a,r)*n.MathUtils.radDeg}copy(){const t=new r(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t}}e.PointAttachment=r},5488:(t,e,i)=>{"use strict";var s=i(17807),n=i(59663),r=i(70675);const a=class extends s.Attachment{constructor(t){super(t),this.type=n.AttachmentType.Region,this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.width=0,this.height=0,this.color=new n.Color(1,1,1,1),this.offset=n.Utils.newFloatArray(8),this.uvs=n.Utils.newFloatArray(8),this.tempColor=new n.Color(1,1,1,1)}updateOffset(){const t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*t,s=-this.height/2*this.scaleY+this.region.offsetY*e,n=i+this.region.width*t,r=s+this.region.height*e,o=this.rotation*Math.PI/180,h=Math.cos(o),l=Math.sin(o),d=i*h+this.x,u=i*l,c=s*h+this.y,p=s*l,m=n*h+this.x,f=n*l,g=r*h+this.y,y=r*l,x=this.offset;x[a.OX1]=d-p,x[a.OY1]=c+u,x[a.OX2]=d-y,x[a.OY2]=g+u,x[a.OX3]=m-y,x[a.OY3]=g+f,x[a.OX4]=m-p,x[a.OY4]=c+f}setRegion(t){this.region=t;const e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)}computeWorldVertices(t,e,i,s){const n=this.offset,o=t instanceof r.Slot?t.bone.matrix:t.matrix,h=o.tx,l=o.ty,d=o.a,u=o.c,c=o.b,p=o.d;let m=0,f=0;m=n[a.OX1],f=n[a.OY1],e[i]=m*d+f*u+h,e[i+1]=m*c+f*p+l,i+=s,m=n[a.OX2],f=n[a.OY2],e[i]=m*d+f*u+h,e[i+1]=m*c+f*p+l,i+=s,m=n[a.OX3],f=n[a.OY3],e[i]=m*d+f*u+h,e[i+1]=m*c+f*p+l,i+=s,m=n[a.OX4],f=n[a.OY4],e[i]=m*d+f*u+h,e[i+1]=m*c+f*p+l}copy(){const t=new a(this.name);return t.region=this.region,t.rendererObject=this.rendererObject,t.path=this.path,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,n.Utils.arrayCopy(this.uvs,0,t.uvs,0,8),n.Utils.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t}};let o=a;o.OX1=0,o.OY1=1,o.OX2=2,o.OY2=3,o.OX3=4,o.OY3=5,o.OX4=6,o.OY4=7,o.X1=0,o.Y1=1,o.C1R=2,o.C1G=3,o.C1B=4,o.C1A=5,o.U1=6,o.V1=7,o.X2=8,o.Y2=9,o.C2R=10,o.C2G=11,o.C2B=12,o.C2A=13,o.U2=14,o.V2=15,o.X3=16,o.Y3=17,o.C3R=18,o.C3G=19,o.C3B=20,o.C3A=21,o.U3=22,o.V3=23,o.X4=24,o.Y4=25,o.C4R=26,o.C4G=27,o.C4B=28,o.C4A=29,o.U4=30,o.V4=31,e.RegionAttachment=o},9095:(t,e,i)=>{"use strict";var s=i(59663);e.JitterEffect=class{constructor(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}begin(t){}transform(t,e,i,n){t.x+=s.MathUtils.randomTriangular(-this.jitterX,this.jitterY),t.y+=s.MathUtils.randomTriangular(-this.jitterX,this.jitterY)}end(){}}},93296:(t,e,i)=>{"use strict";var s=i(59663);const n=class{constructor(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}begin(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY}transform(t,e,i,r){const a=this.angle*s.MathUtils.degreesToRadians,o=t.x-this.worldX,h=t.y-this.worldY,l=Math.sqrt(o*o+h*h);if(l<this.radius){const e=n.interpolation.apply(0,a,(this.radius-l)/this.radius),i=Math.cos(e),s=Math.sin(e);t.x=i*o-s*h+this.worldX,t.y=s*o+i*h+this.worldY}}end(){}};let r=n;r.interpolation=new s.PowOut(2),e.SwirlEffect=r},78776:(t,e,i)=>{"use strict";var s=i(17807),n=i(340),r=i(4112),a=i(11809),o=i(93366),h=i(47800),l=i(5488),d=i(9095),u=i(93296),c=i(70672),p=i(73863),m=i(50116),f=i(27474),g=i(687),y=i(48130),x=i(43525),_=i(77141),b=i(26367),v=i(25464),S=i(79717),T=i(70414),w=i(98901),E=i(1856),C=i(21333),A=i(83835),M=i(55881),P=i(37836),B=i(42242),R=i(70675),I=i(32721),k=i(25305),O=i(51636),D=i(64019);e.Attachment=s.Attachment,e.VertexAttachment=s.VertexAttachment,e.BoundingBoxAttachment=n.BoundingBoxAttachment,e.ClippingAttachment=r.ClippingAttachment,e.MeshAttachment=a.MeshAttachment,e.PathAttachment=o.PathAttachment,e.PointAttachment=h.PointAttachment,e.RegionAttachment=l.RegionAttachment,e.JitterEffect=d.JitterEffect,e.SwirlEffect=u.SwirlEffect,e.Animation=c.Animation,e.AttachmentTimeline=c.AttachmentTimeline,e.ColorTimeline=c.ColorTimeline,e.CurveTimeline=c.CurveTimeline,e.DeformTimeline=c.DeformTimeline,e.DrawOrderTimeline=c.DrawOrderTimeline,e.EventTimeline=c.EventTimeline,e.IkConstraintTimeline=c.IkConstraintTimeline,e.PathConstraintMixTimeline=c.PathConstraintMixTimeline,e.PathConstraintPositionTimeline=c.PathConstraintPositionTimeline,e.PathConstraintSpacingTimeline=c.PathConstraintSpacingTimeline,e.RotateTimeline=c.RotateTimeline,e.ScaleTimeline=c.ScaleTimeline,e.ShearTimeline=c.ShearTimeline,e.TimelineType=c.TimelineType,e.TransformConstraintTimeline=c.TransformConstraintTimeline,e.TranslateTimeline=c.TranslateTimeline,e.TwoColorTimeline=c.TwoColorTimeline,e.AnimationState=p.AnimationState,e.AnimationStateAdapter=p.AnimationStateAdapter,e.EventQueue=p.EventQueue,e.EventType=p.EventType,e.TrackEntry=p.TrackEntry,e.AnimationStateData=m.AnimationStateData,e.AtlasAttachmentLoader=f.AtlasAttachmentLoader,e.Bone=g.Bone,e.BoneData=y.BoneData,e.ConstraintData=x.ConstraintData,e.Event=_.Event,e.EventData=b.EventData,e.IkConstraint=v.IkConstraint,e.IkConstraintData=S.IkConstraintData,e.PathConstraint=T.PathConstraint,e.PathConstraintData=w.PathConstraintData,e.SpacingMode=w.SpacingMode,e.Skeleton=E.Skeleton,e.SkeletonBinary=C.SkeletonBinary,e.SkeletonBounds=A.SkeletonBounds,e.SkeletonData=M.SkeletonData,e.SkeletonJson=P.SkeletonJson,e.Skin=B.Skin,e.SkinEntry=B.SkinEntry,e.Slot=R.Slot,e.SlotData=I.SlotData,e.TransformConstraint=k.TransformConstraint,e.TransformConstraintData=O.TransformConstraintData,e.Spine=D.Spine},50417:(t,e,i)=>{"use strict";var s=i(59663),n=i(92374),r=i(62425),a=i(5899);class o extends s.SpineBase{createSkeleton(t){this.skeleton=new n.Skeleton(t),this.skeleton.updateWorldTransform(),this.stateData=new a.AnimationStateData(t),this.state=new r.AnimationState(this.stateData)}}e.Spine=o},39111:(t,e,i)=>{"use strict";var s=i(77870),n=i(59663);i(55600);var r=i(81845);const a=0,o=1,h=2,l=3,d=4,u=5,c=6,p=7,m=8,f=9,g=10,y=11,x=12,_=13,b=14,v=15,S=16,T=17,w=18,E=19;class C{constructor(t,e){this.propertyIds=e,this.frames=n.Utils.newFloatArray(t*this.getFrameEntries())}getPropertyIds(){return this.propertyIds}getFrameEntries(){return 1}getFrameCount(){return this.frames.length/this.getFrameEntries()}getDuration(){return this.frames[this.frames.length-this.getFrameEntries()]}static search1(t,e){const i=t.length;for(let s=1;s<i;s++)if(t[s]>e)return s-1;return i-1}static search(t,e,i){const s=t.length;for(let n=i;n<s;n+=i)if(t[n]>e)return n-i;return s-i}}class A extends C{constructor(t,e,i){super(t,i),this.curves=n.Utils.newFloatArray(t+18*e),this.curves[t-1]=1}setLinear(t){this.curves[t]=0}setStepped(t){this.curves[t]=1}shrink(t){const e=this.getFrameCount()+18*t;if(this.curves.length>e){const t=n.Utils.newFloatArray(e);n.Utils.arrayCopy(this.curves,0,t,0,e),this.curves=t}}setBezier(t,e,i,s,n,r,a,o,h,l,d){const u=this.curves;let c=this.getFrameCount()+18*t;0==i&&(u[e]=2+c);const p=.03*(s-2*r+o),m=.03*(n-2*a+h),f=.006*(3*(r-o)-s+l),g=.006*(3*(a-h)-n+d);let y=2*p+f,x=2*m+g,_=.3*(r-s)+p+.16666667*f,b=.3*(a-n)+m+.16666667*g,v=s+_,S=n+b;for(let t=c+18;c<t;c+=2)u[c]=v,u[c+1]=S,_+=y,b+=x,y+=f,x+=g,v+=_,S+=b}getBezierValue(t,e,i,s){const n=this.curves;if(n[s]>t){const r=this.frames[e],a=this.frames[e+i];return a+(t-r)/(n[s]-r)*(n[s+1]-a)}const r=s+18;for(s+=2;s<r;s+=2)if(n[s]>=t){const e=n[s-2],i=n[s-1];return i+(t-e)/(n[s]-e)*(n[s+1]-i)}e+=this.getFrameEntries();const a=n[r-2],o=n[r-1];return o+(t-a)/(this.frames[e]-a)*(this.frames[e+i]-o)}}class M extends A{constructor(t,e,i){super(t,e,[i])}getFrameEntries(){return 2}setFrame(t,e,i){t<<=1,this.frames[t]=e,this.frames[t+1]=i}getCurveValue(t){const e=this.frames;let i=e.length-2;for(let s=2;s<=i;s+=2)if(e[s]>t){i=s-2;break}const s=this.curves[i>>1];switch(s){case 0:const s=e[i],n=e[i+1];return n+(t-s)/(e[i+2]-s)*(e[i+2+1]-n);case 1:return e[i+1]}return this.getBezierValue(t,i,1,s-2)}}class P extends A{constructor(t,e,i,s){super(t,e,[i,s])}getFrameEntries(){return 3}setFrame(t,e,i,s){t*=3,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=s}}const B=class extends C{constructor(t){super(t,B.propertyIds),this.events=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e){this.frames[t]=e.time,this.events[t]=e}apply(t,e,i,s,n,r,a){if(!s)return;const o=this.frames,h=this.frames.length;if(e>i)this.apply(t,e,Number.MAX_VALUE,s,n,r,a),e=-1;else if(e>=o[h-1])return;if(i<o[0])return;let l=0;if(e<o[0])l=0;else{l=C.search1(o,e)+1;const t=o[l];for(;l>0&&o[l-1]==t;)l--}for(;l<h&&i>=o[l];l++)s.push(this.events[l])}};let R=B;R.propertyIds=[`${x}`];const I=class extends C{constructor(t){super(t,I.propertyIds),this.drawOrders=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.drawOrders[t]=i}apply(t,e,i,s,r,a,o){if(o==n.MixDirection.mixOut)return void(a==n.MixBlend.setup&&n.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length));if(i<this.frames[0])return void(a!=n.MixBlend.setup&&a!=n.MixBlend.first||n.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length));const h=C.search1(this.frames,i),l=this.drawOrders[h];if(l){const e=t.drawOrder,i=t.slots;for(let t=0,s=l.length;t<s;t++)e[t]=i[l[t]]}else n.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)}};let k=I;k.propertyIds=[`${_}`];const O=class extends C{constructor(t,e,i){super(t,[`${E}|${e}|${i.sequence.id}`]),this.slotIndex=e,this.attachment=i}getFrameEntries(){return O.ENTRIES}getSlotIndex(){return this.slotIndex}getAttachment(){return this.attachment}setFrame(t,e,i,s,n){const r=this.frames;r[t*=O.ENTRIES]=e,r[t+O.MODE]=i|s<<4,r[t+O.DELAY]=n}apply(t,e,i,a,o,h,l){const d=t.slots[this.slotIndex];if(!d.bone.active)return;const u=d.attachment,c=this.attachment;if(!(u==c||u instanceof s.VertexAttachment&&u.timelineAttachment==c))return;const p=this.frames;if(i<p[0])return void(h!=n.MixBlend.setup&&h!=n.MixBlend.first||(d.sequenceIndex=-1));const m=C.search(p,i,O.ENTRIES),f=p[m],g=p[m+O.MODE],y=p[m+O.DELAY];if(!this.attachment.sequence)return;let x=g>>4;const _=this.attachment.sequence.regions.length,b=r.SequenceModeValues[15&g];if(b!=r.SequenceMode.hold)switch(x+=(i-f)/y+1e-5|0,b){case r.SequenceMode.once:x=Math.min(_-1,x);break;case r.SequenceMode.loop:x%=_;break;case r.SequenceMode.pingpong:{const t=(_<<1)-2;x=0==t?0:x%t,x>=_&&(x=t-x);break}case r.SequenceMode.onceReverse:x=Math.max(_-1-x,0);break;case r.SequenceMode.loopReverse:x=_-1-x%_;break;case r.SequenceMode.pingpongReverse:{const t=(_<<1)-2;x=0==t?0:(x+_-1)%t,x>=_&&(x=t-x)}}d.sequenceIndex=x}};let D=O;D.ENTRIES=3,D.MODE=1,D.DELAY=2,e.AlphaTimeline=class extends M{constructor(t,e,i){super(t,e,`${m}|${i}`),this.slotIndex=0,this.slotIndex=i}apply(t,e,i,s,r,a,o){const h=t.slots[this.slotIndex];if(!h.bone.active)return;const l=h.color;if(i<this.frames[0]){const t=h.data.color;switch(a){case n.MixBlend.setup:return void(l.a=t.a);case n.MixBlend.first:l.a+=(t.a-l.a)*r}return}const d=this.getCurveValue(i);1==r?l.a=d:(a==n.MixBlend.setup&&(l.a=h.data.color.a),l.a+=(d-l.a)*r)}},e.Animation=class{constructor(t,e,i){if(this.timelines=[],this.timelineIds=new n.StringSet,!t)throw new Error("name cannot be null.");this.name=t,this.setTimelines(e),this.duration=i}setTimelines(t){if(!t)throw new Error("timelines cannot be null.");this.timelines=t,this.timelineIds.clear();for(let e=0;e<t.length;e++)this.timelineIds.addAll(t[e].getPropertyIds())}hasTimeline(t){for(let e=0;e<t.length;e++)if(this.timelineIds.contains(t[e]))return!0;return!1}apply(t,e,i,s,n,r,a,o){if(!t)throw new Error("skeleton cannot be null.");s&&0!=this.duration&&(i%=this.duration,e>0&&(e%=this.duration));const h=this.timelines;for(let s=0,l=h.length;s<l;s++)h[s].apply(t,e,i,n,r,a,o)}},e.AttachmentTimeline=class extends C{constructor(t,e){super(t,[`${g}|${e}`]),this.slotIndex=0,this.slotIndex=e,this.attachmentNames=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.attachmentNames[t]=i}apply(t,e,i,s,r,a,o){const h=t.slots[this.slotIndex];h.bone.active&&(o!=n.MixDirection.mixOut?i<this.frames[0]?a!=n.MixBlend.setup&&a!=n.MixBlend.first||this.setAttachment(t,h,h.data.attachmentName):this.setAttachment(t,h,this.attachmentNames[C.search1(this.frames,i)]):a==n.MixBlend.setup&&this.setAttachment(t,h,h.data.attachmentName))}setAttachment(t,e,i){e.setAttachment(i?t.getAttachment(this.slotIndex,i):null)}},e.CurveTimeline=A,e.CurveTimeline1=M,e.CurveTimeline2=P,e.DeformTimeline=class extends A{constructor(t,e,i,s){super(t,e,[`${y}|${i}|${s.id}`]),this.slotIndex=0,this.slotIndex=i,this.attachment=s,this.vertices=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.vertices[t]=i}setBezier(t,e,i,s,n,r,a,o,h,l,d){const u=this.curves;let c=this.getFrameCount()+18*t;0==i&&(u[e]=2+c);const p=.03*(s-2*r+o),m=.03*h-.06*a,f=.006*(3*(r-o)-s+l),g=.018*(a-h+.33333333);let y=2*p+f,x=2*m+g,_=.3*(r-s)+p+.16666667*f,b=.3*a+m+.16666667*g,v=s+_,S=b;for(let t=c+18;c<t;c+=2)u[c]=v,u[c+1]=S,_+=y,b+=x,y+=f,x+=g,v+=_,S+=b}getCurvePercent(t,e){const i=this.curves;let s=i[e];switch(s){case 0:const i=this.frames[e];return(t-i)/(this.frames[e+this.getFrameEntries()]-i);case 1:return 0}if(s-=2,i[s]>t){const n=this.frames[e];return i[s+1]*(t-n)/(i[s]-n)}const n=s+18;for(s+=2;s<n;s+=2)if(i[s]>=t){const e=i[s-2],n=i[s-1];return n+(t-e)/(i[s]-e)*(i[s+1]-n)}const r=i[n-2],a=i[n-1];return a+(1-a)*(t-r)/(this.frames[e+this.getFrameEntries()]-r)}apply(t,e,i,r,a,o,h){const l=t.slots[this.slotIndex];if(!l.bone.active)return;const d=l.getAttachment();if(!d)return;if(!(d instanceof s.VertexAttachment)||d.timelineAttachment!=this.attachment)return;const u=l.deform;0==u.length&&(o=n.MixBlend.setup);const c=this.vertices,p=c[0].length,m=this.frames;if(i<m[0]){switch(o){case n.MixBlend.setup:return void(u.length=0);case n.MixBlend.first:if(1==a)return void(u.length=0);u.length=p;const t=d;if(t.bones){a=1-a;for(let t=0;t<p;t++)u[t]*=a}else{const e=t.vertices;for(let t=0;t<p;t++)u[t]+=(e[t]-u[t])*a}}return}if(u.length=p,i>=m[m.length-1]){const t=c[m.length-1];if(1==a)if(o==n.MixBlend.add){const e=d;if(e.bones)for(let e=0;e<p;e++)u[e]+=t[e];else{const i=e.vertices;for(let e=0;e<p;e++)u[e]+=t[e]-i[e]}}else n.Utils.arrayCopy(t,0,u,0,p);else switch(o){case n.MixBlend.setup:{const e=d;if(e.bones)for(let e=0;e<p;e++)u[e]=t[e]*a;else{const i=e.vertices;for(let e=0;e<p;e++){const s=i[e];u[e]=s+(t[e]-s)*a}}break}case n.MixBlend.first:case n.MixBlend.replace:for(let e=0;e<p;e++)u[e]+=(t[e]-u[e])*a;break;case n.MixBlend.add:const e=d;if(e.bones)for(let e=0;e<p;e++)u[e]+=t[e]*a;else{const i=e.vertices;for(let e=0;e<p;e++)u[e]+=(t[e]-i[e])*a}}return}const f=C.search1(m,i),g=this.getCurvePercent(i,f),y=c[f],x=c[f+1];if(1==a)if(o==n.MixBlend.add){const t=d;if(t.bones)for(let t=0;t<p;t++){const e=y[t];u[t]+=e+(x[t]-e)*g}else{const e=t.vertices;for(let t=0;t<p;t++){const i=y[t];u[t]+=i+(x[t]-i)*g-e[t]}}}else for(let t=0;t<p;t++){const e=y[t];u[t]=e+(x[t]-e)*g}else switch(o){case n.MixBlend.setup:{const t=d;if(t.bones)for(let t=0;t<p;t++){const e=y[t];u[t]=(e+(x[t]-e)*g)*a}else{const e=t.vertices;for(let t=0;t<p;t++){const i=y[t],s=e[t];u[t]=s+(i+(x[t]-i)*g-s)*a}}break}case n.MixBlend.first:case n.MixBlend.replace:for(let t=0;t<p;t++){const e=y[t];u[t]+=(e+(x[t]-e)*g-u[t])*a}break;case n.MixBlend.add:const t=d;if(t.bones)for(let t=0;t<p;t++){const e=y[t];u[t]+=(e+(x[t]-e)*g)*a}else{const e=t.vertices;for(let t=0;t<p;t++){const i=y[t];u[t]+=(i+(x[t]-i)*g-e[t])*a}}}}},e.DrawOrderTimeline=k,e.EventTimeline=R,e.IkConstraintTimeline=class extends A{constructor(t,e,i){super(t,e,[`${b}|${i}`]),this.ikConstraintIndex=0,this.ikConstraintIndex=i}getFrameEntries(){return 6}setFrame(t,e,i,s,n,r,a){t*=6,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=n,this.frames[t+4]=r?1:0,this.frames[t+5]=a?1:0}apply(t,e,i,s,r,a,o){const h=t.ikConstraints[this.ikConstraintIndex];if(!h.active)return;const l=this.frames;if(i<l[0]){switch(a){case n.MixBlend.setup:return h.mix=h.data.mix,h.softness=h.data.softness,h.bendDirection=h.data.bendDirection,h.compress=h.data.compress,void(h.stretch=h.data.stretch);case n.MixBlend.first:h.mix+=(h.data.mix-h.mix)*r,h.softness+=(h.data.softness-h.softness)*r,h.bendDirection=h.data.bendDirection,h.compress=h.data.compress,h.stretch=h.data.stretch}return}let d=0,u=0;const c=C.search(l,i,6),p=this.curves[c/6];switch(p){case 0:const t=l[c];d=l[c+1],u=l[c+2];const e=(i-t)/(l[c+6]-t);d+=(l[c+6+1]-d)*e,u+=(l[c+6+2]-u)*e;break;case 1:d=l[c+1],u=l[c+2];break;default:d=this.getBezierValue(i,c,1,p-2),u=this.getBezierValue(i,c,2,p+18-2)}a==n.MixBlend.setup?(h.mix=h.data.mix+(d-h.data.mix)*r,h.softness=h.data.softness+(u-h.data.softness)*r,o==n.MixDirection.mixOut?(h.bendDirection=h.data.bendDirection,h.compress=h.data.compress,h.stretch=h.data.stretch):(h.bendDirection=l[c+3],h.compress=0!=l[c+4],h.stretch=0!=l[c+5])):(h.mix+=(d-h.mix)*r,h.softness+=(u-h.softness)*r,o==n.MixDirection.mixIn&&(h.bendDirection=l[c+3],h.compress=0!=l[c+4],h.stretch=0!=l[c+5]))}},e.PathConstraintMixTimeline=class extends A{constructor(t,e,i){super(t,e,[`${w}|${i}`]),this.pathConstraintIndex=0,this.pathConstraintIndex=i}getFrameEntries(){return 4}setFrame(t,e,i,s,n){const r=this.frames;r[t<<=2]=e,r[t+1]=i,r[t+2]=s,r[t+3]=n}apply(t,e,i,s,r,a,o){const h=t.pathConstraints[this.pathConstraintIndex];if(!h.active)return;const l=this.frames;if(i<l[0]){switch(a){case n.MixBlend.setup:return h.mixRotate=h.data.mixRotate,h.mixX=h.data.mixX,void(h.mixY=h.data.mixY);case n.MixBlend.first:h.mixRotate+=(h.data.mixRotate-h.mixRotate)*r,h.mixX+=(h.data.mixX-h.mixX)*r,h.mixY+=(h.data.mixY-h.mixY)*r}return}let d,u,c;const p=C.search(l,i,4),m=this.curves[p>>2];switch(m){case 0:const t=l[p];d=l[p+1],u=l[p+2],c=l[p+3];const e=(i-t)/(l[p+4]-t);d+=(l[p+4+1]-d)*e,u+=(l[p+4+2]-u)*e,c+=(l[p+4+3]-c)*e;break;case 1:d=l[p+1],u=l[p+2],c=l[p+3];break;default:d=this.getBezierValue(i,p,1,m-2),u=this.getBezierValue(i,p,2,m+18-2),c=this.getBezierValue(i,p,3,m+36-2)}if(a==n.MixBlend.setup){const t=h.data;h.mixRotate=t.mixRotate+(d-t.mixRotate)*r,h.mixX=t.mixX+(u-t.mixX)*r,h.mixY=t.mixY+(c-t.mixY)*r}else h.mixRotate+=(d-h.mixRotate)*r,h.mixX+=(u-h.mixX)*r,h.mixY+=(c-h.mixY)*r}},e.PathConstraintPositionTimeline=class extends M{constructor(t,e,i){super(t,e,`${S}|${i}`),this.pathConstraintIndex=0,this.pathConstraintIndex=i}apply(t,e,i,s,r,a,o){const h=t.pathConstraints[this.pathConstraintIndex];if(!h.active)return;if(i<this.frames[0]){switch(a){case n.MixBlend.setup:return void(h.position=h.data.position);case n.MixBlend.first:h.position+=(h.data.position-h.position)*r}return}const l=this.getCurveValue(i);a==n.MixBlend.setup?h.position=h.data.position+(l-h.data.position)*r:h.position+=(l-h.position)*r}},e.PathConstraintSpacingTimeline=class extends M{constructor(t,e,i){super(t,e,`${T}|${i}`),this.pathConstraintIndex=0,this.pathConstraintIndex=i}apply(t,e,i,s,r,a,o){const h=t.pathConstraints[this.pathConstraintIndex];if(!h.active)return;if(i<this.frames[0]){switch(a){case n.MixBlend.setup:return void(h.spacing=h.data.spacing);case n.MixBlend.first:h.spacing+=(h.data.spacing-h.spacing)*r}return}const l=this.getCurveValue(i);a==n.MixBlend.setup?h.spacing=h.data.spacing+(l-h.data.spacing)*r:h.spacing+=(l-h.spacing)*r}},e.RGB2Timeline=class extends A{constructor(t,e,i){super(t,e,[`${p}|${i}`,`${f}|${i}`]),this.slotIndex=0,this.slotIndex=i}getFrameEntries(){return 7}setFrame(t,e,i,s,n,r,a,o){t*=7,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=n,this.frames[t+4]=r,this.frames[t+5]=a,this.frames[t+6]=o}apply(t,e,i,s,r,a,o){const h=t.slots[this.slotIndex];if(!h.bone.active)return;const l=this.frames,d=h.color,u=h.darkColor;if(i<l[0]){const t=h.data.color,e=h.data.darkColor;switch(a){case n.MixBlend.setup:return d.r=t.r,d.g=t.g,d.b=t.b,u.r=e.r,u.g=e.g,void(u.b=e.b);case n.MixBlend.first:d.r+=(t.r-d.r)*r,d.g+=(t.g-d.g)*r,d.b+=(t.b-d.b)*r,u.r+=(e.r-u.r)*r,u.g+=(e.g-u.g)*r,u.b+=(e.b-u.b)*r}return}let c=0,p=0,m=0,f=0,g=0,y=0;const x=C.search(l,i,7),_=this.curves[x/7];switch(_){case 0:const t=l[x];c=l[x+1],p=l[x+2],m=l[x+3],f=l[x+4],g=l[x+5],y=l[x+6];const e=(i-t)/(l[x+7]-t);c+=(l[x+7+1]-c)*e,p+=(l[x+7+2]-p)*e,m+=(l[x+7+3]-m)*e,f+=(l[x+7+4]-f)*e,g+=(l[x+7+5]-g)*e,y+=(l[x+7+6]-y)*e;break;case 1:c=l[x+1],p=l[x+2],m=l[x+3],f=l[x+4],g=l[x+5],y=l[x+6];break;default:c=this.getBezierValue(i,x,1,_-2),p=this.getBezierValue(i,x,2,_+18-2),m=this.getBezierValue(i,x,3,_+36-2),f=this.getBezierValue(i,x,4,_+54-2),g=this.getBezierValue(i,x,5,_+72-2),y=this.getBezierValue(i,x,6,_+90-2)}if(1==r)d.r=c,d.g=p,d.b=m,u.r=f,u.g=g,u.b=y;else{if(a==n.MixBlend.setup){const t=h.data.color,e=h.data.darkColor;d.r=t.r,d.g=t.g,d.b=t.b,u.r=e.r,u.g=e.g,u.b=e.b}d.r+=(c-d.r)*r,d.g+=(p-d.g)*r,d.b+=(m-d.b)*r,u.r+=(f-u.r)*r,u.g+=(g-u.g)*r,u.b+=(y-u.b)*r}}},e.RGBA2Timeline=class extends A{constructor(t,e,i){super(t,e,[`${p}|${i}`,`${m}|${i}`,`${f}|${i}`]),this.slotIndex=0,this.slotIndex=i}getFrameEntries(){return 8}setFrame(t,e,i,s,n,r,a,o,h){t<<=3,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=n,this.frames[t+4]=r,this.frames[t+5]=a,this.frames[t+6]=o,this.frames[t+7]=h}apply(t,e,i,s,r,a,o){const h=t.slots[this.slotIndex];if(!h.bone.active)return;const l=this.frames,d=h.color,u=h.darkColor;if(i<l[0]){const t=h.data.color,e=h.data.darkColor;switch(a){case n.MixBlend.setup:return d.setFromColor(t),u.r=e.r,u.g=e.g,void(u.b=e.b);case n.MixBlend.first:d.add((t.r-d.r)*r,(t.g-d.g)*r,(t.b-d.b)*r,(t.a-d.a)*r),u.r+=(e.r-u.r)*r,u.g+=(e.g-u.g)*r,u.b+=(e.b-u.b)*r}return}let c=0,p=0,m=0,f=0,g=0,y=0,x=0;const _=C.search(l,i,8),b=this.curves[_>>3];switch(b){case 0:const t=l[_];c=l[_+1],p=l[_+2],m=l[_+3],f=l[_+4],g=l[_+5],y=l[_+6],x=l[_+7];const e=(i-t)/(l[_+8]-t);c+=(l[_+8+1]-c)*e,p+=(l[_+8+2]-p)*e,m+=(l[_+8+3]-m)*e,f+=(l[_+8+4]-f)*e,g+=(l[_+8+5]-g)*e,y+=(l[_+8+6]-y)*e,x+=(l[_+8+7]-x)*e;break;case 1:c=l[_+1],p=l[_+2],m=l[_+3],f=l[_+4],g=l[_+5],y=l[_+6],x=l[_+7];break;default:c=this.getBezierValue(i,_,1,b-2),p=this.getBezierValue(i,_,2,b+18-2),m=this.getBezierValue(i,_,3,b+36-2),f=this.getBezierValue(i,_,4,b+54-2),g=this.getBezierValue(i,_,5,b+72-2),y=this.getBezierValue(i,_,6,b+90-2),x=this.getBezierValue(i,_,7,b+108-2)}if(1==r)d.set(c,p,m,f),u.r=g,u.g=y,u.b=x;else{if(a==n.MixBlend.setup){d.setFromColor(h.data.color);const t=h.data.darkColor;u.r=t.r,u.g=t.g,u.b=t.b}d.add((c-d.r)*r,(p-d.g)*r,(m-d.b)*r,(f-d.a)*r),u.r+=(g-u.r)*r,u.g+=(y-u.g)*r,u.b+=(x-u.b)*r}}},e.RGBATimeline=class extends A{constructor(t,e,i){super(t,e,[`${p}|${i}`,`${m}|${i}`]),this.slotIndex=0,this.slotIndex=i}getFrameEntries(){return 5}setFrame(t,e,i,s,n,r){t*=5,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=n,this.frames[t+4]=r}apply(t,e,i,s,r,a,o){const h=t.slots[this.slotIndex];if(!h.bone.active)return;const l=this.frames,d=h.color;if(i<l[0]){const t=h.data.color;switch(a){case n.MixBlend.setup:return void d.setFromColor(t);case n.MixBlend.first:d.add((t.r-d.r)*r,(t.g-d.g)*r,(t.b-d.b)*r,(t.a-d.a)*r)}return}let u=0,c=0,p=0,m=0;const f=C.search(l,i,5),g=this.curves[f/5];switch(g){case 0:const t=l[f];u=l[f+1],c=l[f+2],p=l[f+3],m=l[f+4];const e=(i-t)/(l[f+5]-t);u+=(l[f+5+1]-u)*e,c+=(l[f+5+2]-c)*e,p+=(l[f+5+3]-p)*e,m+=(l[f+5+4]-m)*e;break;case 1:u=l[f+1],c=l[f+2],p=l[f+3],m=l[f+4];break;default:u=this.getBezierValue(i,f,1,g-2),c=this.getBezierValue(i,f,2,g+18-2),p=this.getBezierValue(i,f,3,g+36-2),m=this.getBezierValue(i,f,4,g+54-2)}1==r?d.set(u,c,p,m):(a==n.MixBlend.setup&&d.setFromColor(h.data.color),d.add((u-d.r)*r,(c-d.g)*r,(p-d.b)*r,(m-d.a)*r))}},e.RGBTimeline=class extends A{constructor(t,e,i){super(t,e,[`${p}|${i}`]),this.slotIndex=0,this.slotIndex=i}getFrameEntries(){return 4}setFrame(t,e,i,s,n){t<<=2,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=n}apply(t,e,i,s,r,a,o){const h=t.slots[this.slotIndex];if(!h.bone.active)return;const l=this.frames,d=h.color;if(i<l[0]){const t=h.data.color;switch(a){case n.MixBlend.setup:return d.r=t.r,d.g=t.g,void(d.b=t.b);case n.MixBlend.first:d.r+=(t.r-d.r)*r,d.g+=(t.g-d.g)*r,d.b+=(t.b-d.b)*r}return}let u=0,c=0,p=0;const m=C.search(l,i,4),f=this.curves[m>>2];switch(f){case 0:const t=l[m];u=l[m+1],c=l[m+2],p=l[m+3];const e=(i-t)/(l[m+4]-t);u+=(l[m+4+1]-u)*e,c+=(l[m+4+2]-c)*e,p+=(l[m+4+3]-p)*e;break;case 1:u=l[m+1],c=l[m+2],p=l[m+3];break;default:u=this.getBezierValue(i,m,1,f-2),c=this.getBezierValue(i,m,2,f+18-2),p=this.getBezierValue(i,m,3,f+36-2)}if(1==r)d.r=u,d.g=c,d.b=p;else{if(a==n.MixBlend.setup){const t=h.data.color;d.r=t.r,d.g=t.g,d.b=t.b}d.r+=(u-d.r)*r,d.g+=(c-d.g)*r,d.b+=(p-d.b)*r}}},e.RotateTimeline=class extends M{constructor(t,e,i){super(t,e,`${a}|${i}`),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,s,r,a,o){const h=t.bones[this.boneIndex];if(!h.active)return;if(i<this.frames[0]){switch(a){case n.MixBlend.setup:return void(h.rotation=h.data.rotation);case n.MixBlend.first:h.rotation+=(h.data.rotation-h.rotation)*r}return}let l=this.getCurveValue(i);switch(a){case n.MixBlend.setup:h.rotation=h.data.rotation+l*r;break;case n.MixBlend.first:case n.MixBlend.replace:l+=h.data.rotation-h.rotation;case n.MixBlend.add:h.rotation+=l*r}}},e.ScaleTimeline=class extends P{constructor(t,e,i){super(t,e,`${l}|${i}`,`${d}|${i}`),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,s,r,a,o){const h=t.bones[this.boneIndex];if(!h.active)return;const l=this.frames;if(i<l[0]){switch(a){case n.MixBlend.setup:return h.scaleX=h.data.scaleX,void(h.scaleY=h.data.scaleY);case n.MixBlend.first:h.scaleX+=(h.data.scaleX-h.scaleX)*r,h.scaleY+=(h.data.scaleY-h.scaleY)*r}return}let d,u;const c=C.search(l,i,3),p=this.curves[c/3];switch(p){case 0:const t=l[c];d=l[c+1],u=l[c+2];const e=(i-t)/(l[c+3]-t);d+=(l[c+3+1]-d)*e,u+=(l[c+3+2]-u)*e;break;case 1:d=l[c+1],u=l[c+2];break;default:d=this.getBezierValue(i,c,1,p-2),u=this.getBezierValue(i,c,2,p+18-2)}if(d*=h.data.scaleX,u*=h.data.scaleY,1==r)a==n.MixBlend.add?(h.scaleX+=d-h.data.scaleX,h.scaleY+=u-h.data.scaleY):(h.scaleX=d,h.scaleY=u);else{let t=0,e=0;if(o==n.MixDirection.mixOut)switch(a){case n.MixBlend.setup:t=h.data.scaleX,e=h.data.scaleY,h.scaleX=t+(Math.abs(d)*n.MathUtils.signum(t)-t)*r,h.scaleY=e+(Math.abs(u)*n.MathUtils.signum(e)-e)*r;break;case n.MixBlend.first:case n.MixBlend.replace:t=h.scaleX,e=h.scaleY,h.scaleX=t+(Math.abs(d)*n.MathUtils.signum(t)-t)*r,h.scaleY=e+(Math.abs(u)*n.MathUtils.signum(e)-e)*r;break;case n.MixBlend.add:h.scaleX+=(d-h.data.scaleX)*r,h.scaleY+=(u-h.data.scaleY)*r}else switch(a){case n.MixBlend.setup:t=Math.abs(h.data.scaleX)*n.MathUtils.signum(d),e=Math.abs(h.data.scaleY)*n.MathUtils.signum(u),h.scaleX=t+(d-t)*r,h.scaleY=e+(u-e)*r;break;case n.MixBlend.first:case n.MixBlend.replace:t=Math.abs(h.scaleX)*n.MathUtils.signum(d),e=Math.abs(h.scaleY)*n.MathUtils.signum(u),h.scaleX=t+(d-t)*r,h.scaleY=e+(u-e)*r;break;case n.MixBlend.add:h.scaleX+=(d-h.data.scaleX)*r,h.scaleY+=(u-h.data.scaleY)*r}}}},e.ScaleXTimeline=class extends M{constructor(t,e,i){super(t,e,`${l}|${i}`),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,s,r,a,o){const h=t.bones[this.boneIndex];if(!h.active)return;if(i<this.frames[0]){switch(a){case n.MixBlend.setup:return void(h.scaleX=h.data.scaleX);case n.MixBlend.first:h.scaleX+=(h.data.scaleX-h.scaleX)*r}return}const l=this.getCurveValue(i)*h.data.scaleX;if(1==r)a==n.MixBlend.add?h.scaleX+=l-h.data.scaleX:h.scaleX=l;else{let t=0;if(o==n.MixDirection.mixOut)switch(a){case n.MixBlend.setup:t=h.data.scaleX,h.scaleX=t+(Math.abs(l)*n.MathUtils.signum(t)-t)*r;break;case n.MixBlend.first:case n.MixBlend.replace:t=h.scaleX,h.scaleX=t+(Math.abs(l)*n.MathUtils.signum(t)-t)*r;break;case n.MixBlend.add:h.scaleX+=(l-h.data.scaleX)*r}else switch(a){case n.MixBlend.setup:t=Math.abs(h.data.scaleX)*n.MathUtils.signum(l),h.scaleX=t+(l-t)*r;break;case n.MixBlend.first:case n.MixBlend.replace:t=Math.abs(h.scaleX)*n.MathUtils.signum(l),h.scaleX=t+(l-t)*r;break;case n.MixBlend.add:h.scaleX+=(l-h.data.scaleX)*r}}}},e.ScaleYTimeline=class extends M{constructor(t,e,i){super(t,e,`${d}|${i}`),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,s,r,a,o){const h=t.bones[this.boneIndex];if(!h.active)return;if(i<this.frames[0]){switch(a){case n.MixBlend.setup:return void(h.scaleY=h.data.scaleY);case n.MixBlend.first:h.scaleY+=(h.data.scaleY-h.scaleY)*r}return}const l=this.getCurveValue(i)*h.data.scaleY;if(1==r)a==n.MixBlend.add?h.scaleY+=l-h.data.scaleY:h.scaleY=l;else{let t=0;if(o==n.MixDirection.mixOut)switch(a){case n.MixBlend.setup:t=h.data.scaleY,h.scaleY=t+(Math.abs(l)*n.MathUtils.signum(t)-t)*r;break;case n.MixBlend.first:case n.MixBlend.replace:t=h.scaleY,h.scaleY=t+(Math.abs(l)*n.MathUtils.signum(t)-t)*r;break;case n.MixBlend.add:h.scaleY+=(l-h.data.scaleY)*r}else switch(a){case n.MixBlend.setup:t=Math.abs(h.data.scaleY)*n.MathUtils.signum(l),h.scaleY=t+(l-t)*r;break;case n.MixBlend.first:case n.MixBlend.replace:t=Math.abs(h.scaleY)*n.MathUtils.signum(l),h.scaleY=t+(l-t)*r;break;case n.MixBlend.add:h.scaleY+=(l-h.data.scaleY)*r}}}},e.SequenceTimeline=D,e.ShearTimeline=class extends P{constructor(t,e,i){super(t,e,`${u}|${i}`,`${c}|${i}`),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,s,r,a,o){const h=t.bones[this.boneIndex];if(!h.active)return;const l=this.frames;if(i<l[0]){switch(a){case n.MixBlend.setup:return h.shearX=h.data.shearX,void(h.shearY=h.data.shearY);case n.MixBlend.first:h.shearX+=(h.data.shearX-h.shearX)*r,h.shearY+=(h.data.shearY-h.shearY)*r}return}let d=0,u=0;const c=C.search(l,i,3),p=this.curves[c/3];switch(p){case 0:const t=l[c];d=l[c+1],u=l[c+2];const e=(i-t)/(l[c+3]-t);d+=(l[c+3+1]-d)*e,u+=(l[c+3+2]-u)*e;break;case 1:d=l[c+1],u=l[c+2];break;default:d=this.getBezierValue(i,c,1,p-2),u=this.getBezierValue(i,c,2,p+18-2)}switch(a){case n.MixBlend.setup:h.shearX=h.data.shearX+d*r,h.shearY=h.data.shearY+u*r;break;case n.MixBlend.first:case n.MixBlend.replace:h.shearX+=(h.data.shearX+d-h.shearX)*r,h.shearY+=(h.data.shearY+u-h.shearY)*r;break;case n.MixBlend.add:h.shearX+=d*r,h.shearY+=u*r}}},e.ShearXTimeline=class extends M{constructor(t,e,i){super(t,e,`${u}|${i}`),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,s,r,a,o){const h=t.bones[this.boneIndex];if(!h.active)return;if(i<this.frames[0]){switch(a){case n.MixBlend.setup:return void(h.shearX=h.data.shearX);case n.MixBlend.first:h.shearX+=(h.data.shearX-h.shearX)*r}return}const l=this.getCurveValue(i);switch(a){case n.MixBlend.setup:h.shearX=h.data.shearX+l*r;break;case n.MixBlend.first:case n.MixBlend.replace:h.shearX+=(h.data.shearX+l-h.shearX)*r;break;case n.MixBlend.add:h.shearX+=l*r}}},e.ShearYTimeline=class extends M{constructor(t,e,i){super(t,e,`${c}|${i}`),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,s,r,a,o){const h=t.bones[this.boneIndex];if(!h.active)return;if(i<this.frames[0]){switch(a){case n.MixBlend.setup:return void(h.shearY=h.data.shearY);case n.MixBlend.first:h.shearY+=(h.data.shearY-h.shearY)*r}return}const l=this.getCurveValue(i);switch(a){case n.MixBlend.setup:h.shearY=h.data.shearY+l*r;break;case n.MixBlend.first:case n.MixBlend.replace:h.shearY+=(h.data.shearY+l-h.shearY)*r;break;case n.MixBlend.add:h.shearY+=l*r}}},e.Timeline=C,e.TransformConstraintTimeline=class extends A{constructor(t,e,i){super(t,e,[`${v}|${i}`]),this.transformConstraintIndex=0,this.transformConstraintIndex=i}getFrameEntries(){return 7}setFrame(t,e,i,s,n,r,a,o){const h=this.frames;h[t*=7]=e,h[t+1]=i,h[t+2]=s,h[t+3]=n,h[t+4]=r,h[t+5]=a,h[t+6]=o}apply(t,e,i,s,r,a,o){const h=t.transformConstraints[this.transformConstraintIndex];if(!h.active)return;const l=this.frames;if(i<l[0]){const t=h.data;switch(a){case n.MixBlend.setup:return h.mixRotate=t.mixRotate,h.mixX=t.mixX,h.mixY=t.mixY,h.mixScaleX=t.mixScaleX,h.mixScaleY=t.mixScaleY,void(h.mixShearY=t.mixShearY);case n.MixBlend.first:h.mixRotate+=(t.mixRotate-h.mixRotate)*r,h.mixX+=(t.mixX-h.mixX)*r,h.mixY+=(t.mixY-h.mixY)*r,h.mixScaleX+=(t.mixScaleX-h.mixScaleX)*r,h.mixScaleY+=(t.mixScaleY-h.mixScaleY)*r,h.mixShearY+=(t.mixShearY-h.mixShearY)*r}return}let d,u,c,p,m,f;const g=C.search(l,i,7),y=this.curves[g/7];switch(y){case 0:const t=l[g];d=l[g+1],u=l[g+2],c=l[g+3],p=l[g+4],m=l[g+5],f=l[g+6];const e=(i-t)/(l[g+7]-t);d+=(l[g+7+1]-d)*e,u+=(l[g+7+2]-u)*e,c+=(l[g+7+3]-c)*e,p+=(l[g+7+4]-p)*e,m+=(l[g+7+5]-m)*e,f+=(l[g+7+6]-f)*e;break;case 1:d=l[g+1],u=l[g+2],c=l[g+3],p=l[g+4],m=l[g+5],f=l[g+6];break;default:d=this.getBezierValue(i,g,1,y-2),u=this.getBezierValue(i,g,2,y+18-2),c=this.getBezierValue(i,g,3,y+36-2),p=this.getBezierValue(i,g,4,y+54-2),m=this.getBezierValue(i,g,5,y+72-2),f=this.getBezierValue(i,g,6,y+90-2)}if(a==n.MixBlend.setup){const t=h.data;h.mixRotate=t.mixRotate+(d-t.mixRotate)*r,h.mixX=t.mixX+(u-t.mixX)*r,h.mixY=t.mixY+(c-t.mixY)*r,h.mixScaleX=t.mixScaleX+(p-t.mixScaleX)*r,h.mixScaleY=t.mixScaleY+(m-t.mixScaleY)*r,h.mixShearY=t.mixShearY+(f-t.mixShearY)*r}else h.mixRotate+=(d-h.mixRotate)*r,h.mixX+=(u-h.mixX)*r,h.mixY+=(c-h.mixY)*r,h.mixScaleX+=(p-h.mixScaleX)*r,h.mixScaleY+=(m-h.mixScaleY)*r,h.mixShearY+=(f-h.mixShearY)*r}},e.TranslateTimeline=class extends P{constructor(t,e,i){super(t,e,`${o}|${i}`,`${h}|${i}`),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,s,r,a,o){const h=t.bones[this.boneIndex];if(!h.active)return;const l=this.frames;if(i<l[0]){switch(a){case n.MixBlend.setup:return h.x=h.data.x,void(h.y=h.data.y);case n.MixBlend.first:h.x+=(h.data.x-h.x)*r,h.y+=(h.data.y-h.y)*r}return}let d=0,u=0;const c=C.search(l,i,3),p=this.curves[c/3];switch(p){case 0:const t=l[c];d=l[c+1],u=l[c+2];const e=(i-t)/(l[c+3]-t);d+=(l[c+3+1]-d)*e,u+=(l[c+3+2]-u)*e;break;case 1:d=l[c+1],u=l[c+2];break;default:d=this.getBezierValue(i,c,1,p-2),u=this.getBezierValue(i,c,2,p+18-2)}switch(a){case n.MixBlend.setup:h.x=h.data.x+d*r,h.y=h.data.y+u*r;break;case n.MixBlend.first:case n.MixBlend.replace:h.x+=(h.data.x+d-h.x)*r,h.y+=(h.data.y+u-h.y)*r;break;case n.MixBlend.add:h.x+=d*r,h.y+=u*r}}},e.TranslateXTimeline=class extends M{constructor(t,e,i){super(t,e,`${o}|${i}`),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,s,r,a,o){const h=t.bones[this.boneIndex];if(!h.active)return;if(i<this.frames[0]){switch(a){case n.MixBlend.setup:return void(h.x=h.data.x);case n.MixBlend.first:h.x+=(h.data.x-h.x)*r}return}const l=this.getCurveValue(i);switch(a){case n.MixBlend.setup:h.x=h.data.x+l*r;break;case n.MixBlend.first:case n.MixBlend.replace:h.x+=(h.data.x+l-h.x)*r;break;case n.MixBlend.add:h.x+=l*r}}},e.TranslateYTimeline=class extends M{constructor(t,e,i){super(t,e,`${h}|${i}`),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,s,r,a,o){const h=t.bones[this.boneIndex];if(!h.active)return;if(i<this.frames[0]){switch(a){case n.MixBlend.setup:return void(h.y=h.data.y);case n.MixBlend.first:h.y+=(h.data.y-h.y)*r}return}const l=this.getCurveValue(i);switch(a){case n.MixBlend.setup:h.y=h.data.y+l*r;break;case n.MixBlend.first:case n.MixBlend.replace:h.y+=(h.data.y+l-h.y)*r;break;case n.MixBlend.add:h.y+=l*r}}}},62425:(t,e,i)=>{"use strict";var s=i(59663),n=i(39111);const r=class{constructor(t){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new l(this),this.propertyIDs=new s.StringSet,this.animationsChanged=!1,this.trackEntryPool=new s.Pool((()=>new h)),this.data=t}static emptyAnimation(){return r._emptyAnimation}update(t){t*=this.timeScale;const e=this.tracks;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(!s)continue;s.animationLast=s.nextAnimationLast,s.trackLast=s.nextTrackLast;let n=t*s.timeScale;if(s.delay>0){if(s.delay-=n,s.delay>0)continue;n=-s.delay,s.delay=0}let r=s.next;if(r){const e=s.trackLast-r.delay;if(e>=0){for(r.delay=0,r.trackTime+=0==s.timeScale?0:(e/s.timeScale+t)*r.timeScale,s.trackTime+=n,this.setCurrent(i,r,!0);r.mixingFrom;)r.mixTime+=t,r=r.mixingFrom;continue}}else if(s.trackLast>=s.trackEnd&&!s.mixingFrom){e[i]=null,this.queue.end(s),this.clearNext(s);continue}if(s.mixingFrom&&this.updateMixingFrom(s,t)){let t=s.mixingFrom;for(s.mixingFrom=null,t&&(t.mixingTo=null);t;)this.queue.end(t),t=t.mixingFrom}s.trackTime+=n}this.queue.drain()}updateMixingFrom(t,e){const i=t.mixingFrom;if(!i)return!0;const s=this.updateMixingFrom(i,e);return i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=i.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=i.mixingFrom,i.mixingFrom&&(i.mixingFrom.mixingTo=t),t.interruptAlpha=i.interruptAlpha,this.queue.end(i)),s):(i.trackTime+=e*i.timeScale,t.mixTime+=e,!1)}apply(t){if(!t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();const e=this.events,i=this.tracks;let r=!1;for(let a=0,o=i.length;a<o;a++){const o=i[a];if(!o||o.delay>0)continue;r=!0;const h=0==a?s.MixBlend.first:o.mixBlend;let l=o.alpha;o.mixingFrom?l*=this.applyMixingFrom(o,t,h):o.trackTime>=o.trackEnd&&!o.next&&(l=0);const d=o.animationLast,c=o.getAnimationTime();let p=c,m=e;o.reverse&&(p=o.animation.duration-p,m=null);const f=o.animation.timelines,g=f.length;if(0==a&&1==l||h==s.MixBlend.add)for(let e=0;e<g;e++){s.Utils.webkit602BugfixHelper(l,h);const i=f[e];i instanceof n.AttachmentTimeline?this.applyAttachmentTimeline(i,t,p,h,!0):i.apply(t,d,p,m,l,h,s.MixDirection.mixIn)}else{const e=o.timelineMode,i=o.shortestRotation,r=!i&&o.timelinesRotation.length!=g<<1;r&&(o.timelinesRotation.length=g<<1);for(let a=0;a<g;a++){const c=f[a],g=e[a]==u?h:s.MixBlend.setup;!i&&c instanceof n.RotateTimeline?this.applyRotateTimeline(c,t,p,l,g,o.timelinesRotation,a<<1,r):c instanceof n.AttachmentTimeline?this.applyAttachmentTimeline(c,t,p,h,!0):(s.Utils.webkit602BugfixHelper(l,h),c.apply(t,d,p,m,l,g,s.MixDirection.mixIn))}}this.queueEvents(o,c),e.length=0,o.nextAnimationLast=c,o.nextTrackLast=o.trackTime}const a=this.unkeyedState+g,o=t.slots;for(let e=0,i=t.slots.length;e<i;e++){const i=o[e];if(i.attachmentState==a){const e=i.data.attachmentName;i.setAttachment(e?t.getAttachment(i.data.index,e):null)}}return this.unkeyedState+=2,this.queue.drain(),r}applyMixingFrom(t,e,i){const r=t.mixingFrom;r.mixingFrom&&this.applyMixingFrom(r,e,i);let a=0;0==t.mixDuration?(a=1,i==s.MixBlend.first&&(i=s.MixBlend.setup)):(a=t.mixTime/t.mixDuration,a>1&&(a=1),i!=s.MixBlend.first&&(i=r.mixBlend));const o=a<r.attachmentThreshold,h=a<r.drawOrderThreshold,l=r.animation.timelines,d=l.length,f=r.alpha*t.interruptAlpha,g=f*(1-a),y=r.animationLast,x=r.getAnimationTime();let _=x,b=null;if(r.reverse?_=r.animation.duration-_:a<r.eventThreshold&&(b=this.events),i==s.MixBlend.add)for(let t=0;t<d;t++)l[t].apply(e,y,_,b,g,i,s.MixDirection.mixOut);else{const t=r.timelineMode,a=r.timelineHoldMix,x=r.shortestRotation,v=!x&&r.timelinesRotation.length!=d<<1;v&&(r.timelinesRotation.length=d<<1),r.totalAlpha=0;for(let S=0;S<d;S++){const d=l[S];let T,w=s.MixDirection.mixOut,E=0;switch(t[S]){case u:if(!h&&d instanceof n.DrawOrderTimeline)continue;T=i,E=g;break;case c:T=s.MixBlend.setup,E=g;break;case p:T=i,E=f;break;case m:T=s.MixBlend.setup,E=f;break;default:T=s.MixBlend.setup;const t=a[S];E=f*Math.max(0,1-t.mixTime/t.mixDuration)}r.totalAlpha+=E,!x&&d instanceof n.RotateTimeline?this.applyRotateTimeline(d,e,_,E,T,r.timelinesRotation,S<<1,v):d instanceof n.AttachmentTimeline?this.applyAttachmentTimeline(d,e,_,T,o):(s.Utils.webkit602BugfixHelper(E,i),h&&d instanceof n.DrawOrderTimeline&&T==s.MixBlend.setup&&(w=s.MixDirection.mixIn),d.apply(e,y,_,b,E,T,w))}}return t.mixDuration>0&&this.queueEvents(r,x),this.events.length=0,r.nextAnimationLast=x,r.nextTrackLast=r.trackTime,a}applyAttachmentTimeline(t,e,i,r,a){const o=e.slots[t.slotIndex];o.bone.active&&(i<t.frames[0]?r!=s.MixBlend.setup&&r!=s.MixBlend.first||this.setAttachment(e,o,o.data.attachmentName,a):this.setAttachment(e,o,t.attachmentNames[n.Timeline.search1(t.frames,i)],a),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+g))}setAttachment(t,e,i,s){e.setAttachment(i?t.getAttachment(e.data.index,i):null),s&&(e.attachmentState=this.unkeyedState+y)}applyRotateTimeline(t,e,i,n,r,a,o,h){if(h&&(a[o]=0),1==n)return void t.apply(e,0,i,null,1,r,s.MixDirection.mixIn);const l=e.bones[t.boneIndex];if(!l.active)return;let d=0,u=0;if(i<t.frames[0])switch(r){case s.MixBlend.setup:l.rotation=l.data.rotation;default:return;case s.MixBlend.first:d=l.rotation,u=l.data.rotation}else d=r==s.MixBlend.setup?l.data.rotation:l.rotation,u=l.data.rotation+t.getCurveValue(i);let c=0,p=u-d;if(p-=360*(16384-(16384.499999999996-p/360|0)),0==p)c=a[o];else{let t=0,e=0;h?(t=0,e=p):(t=a[o],e=a[o+1]);const i=p>0;let n=t>=0;s.MathUtils.signum(e)!=s.MathUtils.signum(p)&&Math.abs(e)<=90&&(Math.abs(t)>180&&(t+=360*s.MathUtils.signum(t)),n=i),c=p+t-t%360,n!=i&&(c+=360*s.MathUtils.signum(t)),a[o]=c}a[o+1]=p,l.rotation=d+c*n}queueEvents(t,e){const i=t.animationStart,s=t.animationEnd,n=s-i,r=t.trackLast%n,a=this.events;let o=0;const h=a.length;for(;o<h;o++){const e=a[o];if(e.time<r)break;e.time>s||this.queue.event(t,e)}let l=!1;for(l=t.loop?0==n||r>t.trackTime%n:e>=s&&t.animationLast<s,l&&this.queue.complete(t);o<h;o++){const e=a[o];e.time<i||this.queue.event(t,e)}}clearTracks(){const t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let t=0,e=this.tracks.length;t<e;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()}clearTrack(t){if(t>=this.tracks.length)return;const e=this.tracks[t];if(!e)return;this.queue.end(e),this.clearNext(e);let i=e;for(;;){const t=i.mixingFrom;if(!t)break;this.queue.end(t),i.mixingFrom=null,i.mixingTo=null,i=t}this.tracks[e.trackIndex]=null,this.queue.drain()}setCurrent(t,e,i){const s=this.expandToIndex(t);this.tracks[t]=e,e.previous=null,s&&(i&&this.queue.interrupt(s),e.mixingFrom=s,s.mixingTo=e,e.mixTime=0,s.mixingFrom&&s.mixDuration>0&&(e.interruptAlpha*=Math.min(1,s.mixTime/s.mixDuration)),s.timelinesRotation.length=0),this.queue.start(e)}setAnimation(t,e,i=!1){const s=this.data.skeletonData.findAnimation(e);if(!s)throw new Error(`Animation not found: ${e}`);return this.setAnimationWith(t,s,i)}setAnimationWith(t,e,i=!1){if(!e)throw new Error("animation cannot be null.");let s=!0,n=this.expandToIndex(t);n&&(-1==n.nextTrackLast?(this.tracks[t]=n.mixingFrom,this.queue.interrupt(n),this.queue.end(n),this.clearNext(n),n=n.mixingFrom,s=!1):this.clearNext(n));const r=this.trackEntry(t,e,i,n);return this.setCurrent(t,r,s),this.queue.drain(),r}addAnimation(t,e,i=!1,s=0){const n=this.data.skeletonData.findAnimation(e);if(!n)throw new Error(`Animation not found: ${e}`);return this.addAnimationWith(t,n,i,s)}addAnimationWith(t,e,i=!1,s=0){if(!e)throw new Error("animation cannot be null.");let n=this.expandToIndex(t);if(n)for(;n.next;)n=n.next;const r=this.trackEntry(t,e,i,n);return n?(n.next=r,r.previous=n,s<=0&&(s+=n.getTrackComplete()-r.mixDuration)):(this.setCurrent(t,r,!0),this.queue.drain()),r.delay=s,r}setEmptyAnimation(t,e=0){const i=this.setAnimationWith(t,r.emptyAnimation(),!1);return i.mixDuration=e,i.trackEnd=e,i}addEmptyAnimation(t,e=0,i=0){const s=this.addAnimationWith(t,r.emptyAnimation(),!1,i);return i<=0&&(s.delay+=s.mixDuration-e),s.mixDuration=e,s.trackEnd=e,s}setEmptyAnimations(t=0){const e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let e=0,i=this.tracks.length;e<i;e++){const i=this.tracks[e];i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()}expandToIndex(t){return t<this.tracks.length?this.tracks[t]:(s.Utils.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)}trackEntry(t,e,i,n){const r=this.trackEntryPool.obtain();return r.reset(),r.trackIndex=t,r.animation=e,r.loop=i,r.holdPrevious=!1,r.reverse=!1,r.shortestRotation=!1,r.eventThreshold=0,r.attachmentThreshold=0,r.drawOrderThreshold=0,r.animationStart=0,r.animationEnd=e.duration,r.animationLast=-1,r.nextAnimationLast=-1,r.delay=0,r.trackTime=0,r.trackLast=-1,r.nextTrackLast=-1,r.trackEnd=Number.MAX_VALUE,r.timeScale=1,r.alpha=1,r.mixTime=0,r.mixDuration=n?this.data.getMix(n.animation,e):0,r.interruptAlpha=1,r.totalAlpha=0,r.mixBlend=s.MixBlend.replace,r}clearNext(t){let e=t.next;for(;e;)this.queue.dispose(e),e=e.next;t.next=null}_animationsChanged(){this.animationsChanged=!1,this.propertyIDs.clear();const t=this.tracks;for(let e=0,i=t.length;e<i;e++){let i=t[e];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do{i.mixingTo&&i.mixBlend==s.MixBlend.add||this.computeHold(i),i=i.mixingTo}while(i)}}}computeHold(t){const e=t.mixingTo,i=t.animation.timelines,s=t.animation.timelines.length,r=t.timelineMode;r.length=s;const a=t.timelineHoldMix;a.length=0;const o=this.propertyIDs;if(e&&e.holdPrevious)for(let t=0;t<s;t++)r[t]=o.addAll(i[t].getPropertyIds())?m:p;else t:for(let h=0;h<s;h++){const s=i[h],l=s.getPropertyIds();if(o.addAll(l))if(!e||s instanceof n.AttachmentTimeline||s instanceof n.DrawOrderTimeline||s instanceof n.EventTimeline||!e.animation.hasTimeline(l))r[h]=c;else{for(let i=e.mixingTo;i;i=i.mixingTo)if(!i.animation.hasTimeline(l)){if(t.mixDuration>0){r[h]=f,a[h]=i;continue t}break}r[h]=m}else r[h]=u}}getCurrent(t){return t>=this.tracks.length?null:this.tracks[t]}addListener(t){if(!t)throw new Error("listener cannot be null.");this.listeners.push(t)}removeListener(t){const e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}clearListeners(){this.listeners.length=0}clearListenerNotifications(){this.queue.clear()}setAnimationByName(t,e,i){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,e,i)}addAnimationByName(t,e,i,s){r.deprecatedWarning2||(r.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,e,i,s)}hasAnimation(t){return null!==this.data.skeletonData.findAnimation(t)}hasAnimationByName(t){return r.deprecatedWarning3||(r.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)}};let a=r;a._emptyAnimation=new n.Animation("<empty>",[],0),a.deprecatedWarning1=!1,a.deprecatedWarning2=!1,a.deprecatedWarning3=!1;const o=class{constructor(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=s.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}reset(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}getAnimationTime(){if(this.loop){const t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}setAnimationLast(t){this.animationLast=t,this.nextAnimationLast=t}isComplete(){return this.trackTime>=this.animationEnd-this.animationStart}resetRotationDirections(){this.timelinesRotation.length=0}getTrackComplete(){const t=this.animationEnd-this.animationStart;if(0!=t){if(this.loop)return t*(1+(this.trackTime/t|0));if(this.trackTime<t)return t}return this.trackTime}get time(){return o.deprecatedWarning1||(o.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime}set time(t){o.deprecatedWarning1||(o.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t}get endTime(){return o.deprecatedWarning2||(o.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime}set endTime(t){o.deprecatedWarning2||(o.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t}loopsCount(){return Math.floor(this.trackTime/this.trackEnd)}};let h=o;h.deprecatedWarning1=!1,h.deprecatedWarning2=!1;class l{constructor(t){this.objects=[],this.drainDisabled=!1,this.animState=t}start(t){this.objects.push(d.start),this.objects.push(t),this.animState.animationsChanged=!0}interrupt(t){this.objects.push(d.interrupt),this.objects.push(t)}end(t){this.objects.push(d.end),this.objects.push(t),this.animState.animationsChanged=!0}dispose(t){this.objects.push(d.dispose),this.objects.push(t)}complete(t){this.objects.push(d.complete),this.objects.push(t)}event(t,e){this.objects.push(d.event),this.objects.push(t),this.objects.push(e)}drain(){if(this.drainDisabled)return;this.drainDisabled=!0;const t=this.objects,e=this.animState.listeners;for(let i=0;i<t.length;i+=2){const s=t[i],n=t[i+1];switch(s){case d.start:n.listener&&n.listener.start&&n.listener.start(n);for(let t=0;t<e.length;t++){const i=e[t];i.start&&i.start(n)}break;case d.interrupt:n.listener&&n.listener.interrupt&&n.listener.interrupt(n);for(let t=0;t<e.length;t++){const i=e[t];i.interrupt&&i.interrupt(n)}break;case d.end:n.listener&&n.listener.end&&n.listener.end(n);for(let t=0;t<e.length;t++){const i=e[t];i.end&&i.end(n)}case d.dispose:n.listener&&n.listener.dispose&&n.listener.dispose(n);for(let t=0;t<e.length;t++){const i=e[t];i.dispose&&i.dispose(n)}this.animState.trackEntryPool.free(n);break;case d.complete:n.listener&&n.listener.complete&&n.listener.complete(n);for(let t=0;t<e.length;t++){const i=e[t];i.complete&&i.complete(n)}break;case d.event:const s=t[2+i++];n.listener&&n.listener.event&&n.listener.event(n,s);for(let t=0;t<e.length;t++){const i=e[t];i.event&&i.event(n,s)}}}this.clear(),this.drainDisabled=!1}clear(){this.objects.length=0}}var d=(t=>(t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event",t))(d||{});const u=0,c=1,p=2,m=3,f=4,g=1,y=2;e.AnimationState=a,e.AnimationStateAdapter=class{start(t){}interrupt(t){}end(t){}dispose(t){}complete(t){}event(t,e){}},e.EventQueue=l,e.EventType=d,e.TrackEntry=h},5899:(t,e)=>{"use strict";e.AnimationStateData=class{constructor(t){if(this.animationToMixTime={},this.defaultMix=0,!t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}setMix(t,e,i){const s=this.skeletonData.findAnimation(t);if(!s)throw new Error(`Animation not found: ${t}`);const n=this.skeletonData.findAnimation(e);if(!n)throw new Error(`Animation not found: ${e}`);this.setMixWith(s,n,i)}setMixWith(t,e,i){if(!t)throw new Error("from cannot be null.");if(!e)throw new Error("to cannot be null.");const s=`${t.name}.${e.name}`;this.animationToMixTime[s]=i}getMix(t,e){const i=`${t.name}.${e.name}`,s=this.animationToMixTime[i];return void 0===s?this.defaultMix:s}}},85219:(t,e,i)=>{"use strict";i(77870);var s=i(32064),n=i(18226),r=i(82803),a=i(88434),o=i(12720),h=i(55600);i(81845);e.AtlasAttachmentLoader=class{constructor(t){this.atlas=t}loadSequence(t,e,i){const s=i.regions;for(let n=0,r=s.length;n<r;n++){const r=i.getPath(e,n),a=this.atlas.findRegion(r);if(null==a)throw new Error(`Region not found in atlas: ${r} (sequence: ${t})`);s[n]=a,s[n].renderObject=s[n]}}newRegionAttachment(t,e,i,s){const n=new h.RegionAttachment(e,i);if(null!=s)this.loadSequence(e,i,s);else{const t=this.atlas.findRegion(i);if(!t)throw new Error(`Region not found in atlas: ${i} (region attachment: ${e})`);t.renderObject=t,n.region=t}return n}newMeshAttachment(t,e,i,s){const n=new r.MeshAttachment(e,i);if(null!=s)this.loadSequence(e,i,s);else{const t=this.atlas.findRegion(i);if(!t)throw new Error(`Region not found in atlas: ${i} (mesh attachment: ${e})`);t.renderObject=t,n.region=t}return n}newBoundingBoxAttachment(t,e){return new s.BoundingBoxAttachment(e)}newPathAttachment(t,e){return new a.PathAttachment(e)}newPointAttachment(t,e){return new o.PointAttachment(e)}newClippingAttachment(t,e){return new n.ClippingAttachment(e)}}},75078:(t,e,i)=>{"use strict";var s=i(48742),n=i(59663);e.Bone=class{constructor(t,e,i){if(this.matrix=new s.Matrix,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=i,this.setToSetupPose()}get worldX(){return this.matrix.tx}get worldY(){return this.matrix.ty}isActive(){return this.active}update(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)}updateWorldTransform(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransformWith(t,e,i,s,r,a,o){this.ax=t,this.ay=e,this.arotation=i,this.ascaleX=s,this.ascaleY=r,this.ashearX=a,this.ashearY=o;const h=this.parent,l=this.matrix,d=this.skeleton.scaleX,u=n.settings.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(!h){const h=this.skeleton,c=i+90+o;return l.a=n.MathUtils.cosDeg(i+a)*s*d,l.c=n.MathUtils.cosDeg(c)*r*d,l.b=n.MathUtils.sinDeg(i+a)*s*u,l.d=n.MathUtils.sinDeg(c)*r*u,l.tx=t*d+h.x,void(l.ty=e*u+h.y)}let c=h.matrix.a,p=h.matrix.c,m=h.matrix.b,f=h.matrix.d;switch(l.tx=c*t+p*e+h.matrix.tx,l.ty=m*t+f*e+h.matrix.ty,this.data.transformMode){case n.TransformMode.Normal:{const t=i+90+o,e=n.MathUtils.cosDeg(i+a)*s,h=n.MathUtils.cosDeg(t)*r,d=n.MathUtils.sinDeg(i+a)*s,u=n.MathUtils.sinDeg(t)*r;return l.a=c*e+p*d,l.c=c*h+p*u,l.b=m*e+f*d,void(l.d=m*h+f*u)}case n.TransformMode.OnlyTranslation:{const t=i+90+o;l.a=n.MathUtils.cosDeg(i+a)*s,l.c=n.MathUtils.cosDeg(t)*r,l.b=n.MathUtils.sinDeg(i+a)*s,l.d=n.MathUtils.sinDeg(t)*r;break}case n.TransformMode.NoRotationOrReflection:{let t=c*c+m*m,e=0;t>1e-4?(t=Math.abs(c*f-p*m)/t,c/=d,m/=u,p=m*t,f=c*t,e=Math.atan2(m,c)*n.MathUtils.radDeg):(c=0,m=0,e=90-Math.atan2(f,p)*n.MathUtils.radDeg);const h=i+a-e,g=i+o-e+90,y=n.MathUtils.cosDeg(h)*s,x=n.MathUtils.cosDeg(g)*r,_=n.MathUtils.sinDeg(h)*s,b=n.MathUtils.sinDeg(g)*r;l.a=c*y-p*_,l.c=c*x-p*b,l.b=m*y+f*_,l.d=m*x+f*b;break}case n.TransformMode.NoScale:case n.TransformMode.NoScaleOrReflection:{const t=n.MathUtils.cosDeg(i),e=n.MathUtils.sinDeg(i);let h=(c*t+p*e)/d,g=(m*t+f*e)/u,y=Math.sqrt(h*h+g*g);y>1e-5&&(y=1/y),h*=y,g*=y,y=Math.sqrt(h*h+g*g),this.data.transformMode==n.TransformMode.NoScale&&c*f-p*m<0!=(d<0!=u<0)&&(y=-y);const x=Math.PI/2+Math.atan2(g,h),_=Math.cos(x)*y,b=Math.sin(x)*y,v=n.MathUtils.cosDeg(a)*s,S=n.MathUtils.cosDeg(90+o)*r,T=n.MathUtils.sinDeg(a)*s,w=n.MathUtils.sinDeg(90+o)*r;l.a=h*v+_*T,l.c=h*S+_*w,l.b=g*v+b*T,l.d=g*S+b*w;break}}l.a*=d,l.c*=d,l.b*=u,l.d*=u}setToSetupPose(){const t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY}getWorldRotationX(){return Math.atan2(this.matrix.b,this.matrix.a)*n.MathUtils.radDeg}getWorldRotationY(){return Math.atan2(this.matrix.d,this.matrix.c)*n.MathUtils.radDeg}getWorldScaleX(){const t=this.matrix;return Math.sqrt(t.a*t.a+t.b*t.b)}getWorldScaleY(){const t=this.matrix;return Math.sqrt(t.c*t.c+t.d*t.d)}updateAppliedTransform(){const t=this.parent,e=this.matrix;if(!t)return this.ax=e.tx-this.skeleton.x,this.ay=e.ty-this.skeleton.y,this.arotation=Math.atan2(e.b,e.a)*n.MathUtils.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*n.MathUtils.radDeg);const i=t.matrix,s=1/(i.a*i.d-i.b*i.c),r=e.tx-i.tx,a=e.ty-i.ty;this.ax=r*i.d*s-a*i.c*s,this.ay=a*i.a*s-r*i.b*s;const o=s*i.d,h=s*i.a,l=s*i.c,d=s*i.b,u=o*e.a-l*e.b,c=o*e.c-l*e.d,p=h*e.b-d*e.a,m=h*e.d-d*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(u*u+p*p),this.ascaleX>1e-4){const t=u*m-c*p;this.ascaleY=t/this.ascaleX,this.ashearY=Math.atan2(u*c+p*m,t)*n.MathUtils.radDeg,this.arotation=Math.atan2(p,u)*n.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(c*c+m*m),this.ashearY=0,this.arotation=90-Math.atan2(m,c)*n.MathUtils.radDeg}worldToLocal(t){const e=this.matrix,i=e.a,s=e.c,n=e.b,r=e.d,a=1/(i*r-s*n),o=t.x-e.tx,h=t.y-e.ty;return t.x=o*r*a-h*s*a,t.y=h*i*a-o*n*a,t}localToWorld(t){const e=this.matrix,i=t.x,s=t.y;return t.x=i*e.a+s*e.c+e.tx,t.y=i*e.b+s*e.d+e.ty,t}worldToLocalRotation(t){const e=n.MathUtils.sinDeg(t),i=n.MathUtils.cosDeg(t),s=this.matrix;return Math.atan2(s.a*e-s.b*i,s.d*i-s.c*e)*n.MathUtils.radDeg}localToWorldRotation(t){t-=this.rotation-this.shearX;const e=n.MathUtils.sinDeg(t),i=n.MathUtils.cosDeg(t),s=this.matrix;return Math.atan2(i*s.b+e*s.d,i*s.a+e*s.c)*n.MathUtils.radDeg}rotateWorld(t){const e=this.matrix,i=e.a,s=e.c,r=e.b,a=e.d,o=n.MathUtils.cosDeg(t),h=n.MathUtils.sinDeg(t);e.a=o*i-h*r,e.c=o*s-h*a,e.b=h*i+o*r,e.d=h*s+o*a}}},66329:(t,e,i)=>{"use strict";var s=i(59663);e.BoneData=class{constructor(t,e,i){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=s.TransformMode.Normal,this.skinRequired=!1,this.color=new s.Color,t<0)throw new Error("index must be >= 0.");if(!e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=i}}},38923:(t,e)=>{"use strict";e.ConstraintData=class{constructor(t,e,i){this.name=t,this.order=e,this.skinRequired=i}}},91387:(t,e)=>{"use strict";e.Event=class{constructor(t,e){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!e)throw new Error("data cannot be null.");this.time=t,this.data=e}}},78125:(t,e)=>{"use strict";e.EventData=class{constructor(t){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=t}}},19269:(t,e,i)=>{"use strict";var s=i(59663);e.IkConstraint=class{constructor(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(let i=0;i<t.bones.length;i++){const s=e.findBone(t.bones[i].name);if(!s)throw new Error(`Couldn't find bone ${t.bones[i].name}`);this.bones.push(s)}const i=e.findBone(t.target.name);if(!i)throw new Error(`Couldn't find bone ${t.target.name}`);this.target=i}isActive(){return this.active}update(){if(0==this.mix)return;const t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix)}}apply1(t,e,i,n,r,a,o){const h=t.parent.matrix;if(!h)throw new Error("IK bone must have parent.");const l=h.a;let d=h.c;const u=h.b;let c=h.d,p=-t.ashearX-t.arotation,m=0,f=0;const g=t.skeleton.scaleX,y=s.settings.yDown?-t.skeleton.scaleY:t.skeleton.scaleY;switch(t.data.transformMode){case s.TransformMode.OnlyTranslation:m=e-t.worldX,f=i-t.worldY,s.settings.yDown&&(f=-f);break;case s.TransformMode.NoRotationOrReflection:const n=Math.abs(l*c-d*u)/(l*l+u*u),r=l/g,a=u/y;d=-a*n*g,c=r*n*y,p+=Math.atan2(a,r)*s.MathUtils.radDeg;default:const o=e-h.tx,x=i-h.ty,_=l*c-d*u;m=(o*c-x*d)/_-t.ax,f=(x*l-o*u)/_-t.ay}p+=Math.atan2(f,m)*s.MathUtils.radDeg,t.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);let x=t.ascaleX,_=t.ascaleY;if(n||r){switch(t.data.transformMode){case s.TransformMode.NoScale:case s.TransformMode.NoScaleOrReflection:m=e-t.worldX,f=i-t.worldY}const h=t.data.length*x,l=Math.sqrt(m*m+f*f);if(n&&l<h||r&&l>h&&h>1e-4){const t=(l/h-1)*o+1;x*=t,a&&(_*=t)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+p*o,x,_,t.ashearX,t.ashearY)}apply2(t,e,i,n,r,a,o,h,l){const d=t.ax,u=t.ay;let c=t.ascaleX,p=t.ascaleY,m=c,f=p,g=e.ascaleX;const y=t.matrix;let x=0,_=0,b=0;c<0?(c=-c,x=180,b=-1):(x=0,b=1),p<0&&(p=-p,b=-b),g<0?(g=-g,_=180):_=0;const v=e.ax;let S=0,T=0,w=0,E=y.a,C=y.c,A=y.b,M=y.d;const P=Math.abs(c-p)<=1e-4;!P||a?(S=0,T=E*v+y.tx,w=A*v+y.ty):(S=e.ay,T=E*v+C*S+y.tx,w=A*v+M*S+y.ty);const B=t.parent.matrix;if(!B)throw new Error("IK parent must itself have a parent.");E=B.a,C=B.c,A=B.b,M=B.d;const R=1/(E*M-C*A);let I=T-B.tx,k=w-B.ty;const O=(I*M-k*C)*R-d,D=(k*E-I*A)*R-u,F=Math.sqrt(O*O+D*D);let L,N,U=e.data.length*g;if(F<1e-4)return this.apply1(t,i,n,!1,a,!1,l),void e.updateWorldTransformWith(v,S,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);I=i-B.tx,k=n-B.ty;let G=(I*M-k*C)*R-d,V=(k*E-I*A)*R-u,j=G*G+V*V;if(0!=h){h*=c*(g+1)*.5;const t=Math.sqrt(j),e=t-F-U*c+h;if(e>0){let i=Math.min(1,e/(2*h))-1;i=(e-h*(1-i*i))/t,G-=i*G,V-=i*V,j=G*G+V*V}}t:if(P){U*=c;let t=(j-F*F-U*U)/(2*F*U);t<-1?(t=-1,N=Math.PI*r):t>1?(t=1,N=0,a&&(E=(Math.sqrt(j)/(F+U)-1)*l+1,m*=E,o&&(f*=E))):N=Math.acos(t)*r,E=F+U*t,C=U*Math.sin(N),L=Math.atan2(V*E-G*C,G*E+V*C)}else{E=c*U,C=p*U;const t=E*E,e=C*C,i=Math.atan2(V,G);A=e*F*F+t*j-t*e;const n=-2*e*F,a=e-t;if(M=n*n-4*a*A,M>=0){let t=Math.sqrt(M);n<0&&(t=-t),t=.5*-(n+t);const e=t/a,s=A/t,o=Math.abs(e)<Math.abs(s)?e:s;if(o*o<=j){k=Math.sqrt(j-o*o)*r,L=i-Math.atan2(k,o),N=Math.atan2(k/p,(o-F)/c);break t}}let o=s.MathUtils.PI,h=F-E,l=h*h,d=0,u=0,m=F+E,f=m*m,g=0;A=-E*F/(t-e),A>=-1&&A<=1&&(A=Math.acos(A),I=E*Math.cos(A)+F,k=C*Math.sin(A),M=I*I+k*k,M<l&&(o=A,l=M,h=I,d=k),M>f&&(u=A,f=M,m=I,g=k)),j<=.5*(l+f)?(L=i-Math.atan2(d*r,h),N=o*r):(L=i-Math.atan2(g*r,m),N=u*r)}const W=Math.atan2(S,v)*b;let Y=t.arotation;L=(L-W)*s.MathUtils.radDeg+x-Y,L>180?L-=360:L<-180&&(L+=360),t.updateWorldTransformWith(d,u,Y+L*l,m,f,0,0),Y=e.arotation,N=((N+W)*s.MathUtils.radDeg-e.ashearX)*b+_-Y,N>180?N-=360:N<-180&&(N+=360),e.updateWorldTransformWith(v,S,Y+N*l,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}}},25460:(t,e,i)=>{"use strict";var s=i(38923);class n extends s.ConstraintData{constructor(t){super(t,0,!1),this.bones=new Array,this._target=null,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.softness=0}set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}}e.IkConstraintData=n},99566:(t,e,i)=>{"use strict";i(77870);var s=i(59663),n=i(88434);i(55600),i(81845);var r=i(79546);const a=class{constructor(t,e){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(let i=0,s=t.bones.length;i<s;i++){const s=e.findBone(t.bones[i].name);if(!s)throw new Error(`Couldn't find bone ${t.bones[i].name}.`);this.bones.push(s)}const i=e.findSlot(t.target.name);if(!i)throw new Error(`Couldn't find target bone ${t.target.name}`);this.target=i,this.position=t.position,this.spacing=t.spacing,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY}isActive(){return this.active}update(){const t=this.target.getAttachment();if(!(t instanceof n.PathAttachment))return;const e=this.mixRotate,i=this.mixX,o=this.mixY;if(0==e&&0==i&&0==o)return;const h=this.data,l=h.rotateMode==s.RotateMode.Tangent,d=h.rotateMode==s.RotateMode.ChainScale,u=this.bones,c=u.length,p=l?c:c+1,m=s.Utils.setArraySize(this.spaces,p),f=d?this.lengths=s.Utils.setArraySize(this.lengths,c):[],g=this.spacing;switch(h.spacingMode){case r.SpacingMode.Percent:if(d)for(let t=0,e=p-1;t<e;t++){const e=u[t],i=e.data.length;if(i<a.epsilon)f[t]=0;else{const s=i*e.matrix.a,n=i*e.matrix.b;f[t]=Math.sqrt(s*s+n*n)}}s.Utils.arrayFill(m,1,p,g);break;case r.SpacingMode.Proportional:let t=0;for(let e=0,i=p-1;e<i;){const i=u[e],s=i.data.length;if(s<a.epsilon)d&&(f[e]=0),m[++e]=g;else{const n=s*i.matrix.a,r=s*i.matrix.b,a=Math.sqrt(n*n+r*r);d&&(f[e]=a),m[++e]=a,t+=a}}if(t>0){t=p/t*g;for(let e=1;e<p;e++)m[e]*=t}break;default:const e=h.spacingMode==r.SpacingMode.Length;for(let t=0,i=p-1;t<i;){const i=u[t],s=i.data.length;if(s<a.epsilon)d&&(f[t]=0),m[++t]=g;else{const n=s*i.matrix.a,r=s*i.matrix.b,a=Math.sqrt(n*n+r*r);d&&(f[t]=a),m[++t]=(e?s+g:g)*a/s}}}const y=this.computeWorldPositions(t,p,l);let x=y[0],_=y[1],b=h.offsetRotation,v=!1;if(0==b)v=h.rotateMode==s.RotateMode.Chain;else{v=!1;const t=this.target.bone.matrix;b*=t.a*t.d-t.b*t.c>0?s.MathUtils.degRad:-s.MathUtils.degRad}for(let t=0,n=3;t<c;t++,n+=3){const r=u[t],a=r.matrix;a.tx+=(x-a.tx)*i,a.ty+=(_-a.ty)*o;const h=y[n],c=y[n+1],p=h-x,g=c-_;if(d){const i=f[t];if(0!=i){const t=(Math.sqrt(p*p+g*g)/i-1)*e+1;a.a*=t,a.b*=t}}if(x=h,_=c,e>0){const i=a.a,o=a.c,h=a.b,d=a.d;let u=0,c=0,f=0;if(u=l?y[n-1]:0==m[t+1]?y[n+2]:Math.atan2(g,p),u-=Math.atan2(h,i),v){c=Math.cos(u),f=Math.sin(u);const t=r.data.length;x+=(t*(c*i-f*h)-p)*e,_+=(t*(f*i+c*h)-g)*e}else u+=b;u>s.MathUtils.PI?u-=s.MathUtils.PI2:u<-s.MathUtils.PI&&(u+=s.MathUtils.PI2),u*=e,c=Math.cos(u),f=Math.sin(u),a.a=c*i-f*h,a.c=c*o-f*d,a.b=f*i+c*h,a.d=f*o+c*d}r.updateAppliedTransform()}}computeWorldPositions(t,e,i){const n=this.target;let o=this.position;const h=this.spaces,l=s.Utils.setArraySize(this.positions,3*e+2);let d=this.world;const u=t.closed;let c=t.worldVerticesLength,p=c/6,m=a.NONE;if(!t.constantSpeed){const f=t.lengths;p-=u?1:2;const g=f[p];let y;switch(this.data.positionMode==s.PositionMode.Percent&&(o*=g),this.data.spacingMode){case r.SpacingMode.Percent:y=g;break;case r.SpacingMode.Proportional:y=g/e;break;default:y=1}d=s.Utils.setArraySize(this.world,8);for(let s=0,r=0,x=0;s<e;s++,r+=3){const e=h[s]*y;o+=e;let _=o;if(u)_%=g,_<0&&(_+=g),x=0;else{if(_<0){m!=a.BEFORE&&(m=a.BEFORE,t.computeWorldVertices(n,2,4,d,0,2)),this.addBeforePosition(_,d,0,l,r);continue}if(_>g){m!=a.AFTER&&(m=a.AFTER,t.computeWorldVertices(n,c-6,4,d,0,2)),this.addAfterPosition(_-g,d,0,l,r);continue}}for(;;x++){const t=f[x];if(!(_>t)){if(0==x)_/=t;else{const e=f[x-1];_=(_-e)/(t-e)}break}}x!=m&&(m=x,u&&x==p?(t.computeWorldVertices(n,c-4,4,d,0,2),t.computeWorldVertices(n,0,4,d,4,2)):t.computeWorldVertices(n,6*x+2,8,d,0,2)),this.addCurvePosition(_,d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],l,r,i||s>0&&0==e)}return l}u?(c+=2,d=s.Utils.setArraySize(this.world,c),t.computeWorldVertices(n,2,c-4,d,0,2),t.computeWorldVertices(n,0,2,d,c-4,2),d[c-2]=d[0],d[c-1]=d[1]):(p--,c-=4,d=s.Utils.setArraySize(this.world,c),t.computeWorldVertices(n,2,c,d,0,2));const f=s.Utils.setArraySize(this.curves,p);let g,y=0,x=d[0],_=d[1],b=0,v=0,S=0,T=0,w=0,E=0,C=0,A=0,M=0,P=0,B=0,R=0,I=0,k=0;for(let t=0,e=2;t<p;t++,e+=6)b=d[e],v=d[e+1],S=d[e+2],T=d[e+3],w=d[e+4],E=d[e+5],C=.1875*(x-2*b+S),A=.1875*(_-2*v+T),M=.09375*(3*(b-S)-x+w),P=.09375*(3*(v-T)-_+E),B=2*C+M,R=2*A+P,I=.75*(b-x)+C+.16666667*M,k=.75*(v-_)+A+.16666667*P,y+=Math.sqrt(I*I+k*k),I+=B,k+=R,B+=M,R+=P,y+=Math.sqrt(I*I+k*k),I+=B,k+=R,y+=Math.sqrt(I*I+k*k),I+=B+M,k+=R+P,y+=Math.sqrt(I*I+k*k),f[t]=y,x=w,_=E;switch(this.data.positionMode==s.PositionMode.Percent&&(o*=y),this.data.spacingMode){case r.SpacingMode.Percent:g=y;break;case r.SpacingMode.Proportional:g=y/e;break;default:g=1}const O=this.segments;let D=0;for(let t=0,s=0,n=0,r=0;t<e;t++,s+=3){const e=h[t]*g;o+=e;let a=o;if(u)a%=y,a<0&&(a+=y),n=0;else{if(a<0){this.addBeforePosition(a,d,0,l,s);continue}if(a>y){this.addAfterPosition(a-y,d,c-4,l,s);continue}}for(;;n++){const t=f[n];if(!(a>t)){if(0==n)a/=t;else{const e=f[n-1];a=(a-e)/(t-e)}break}}if(n!=m){m=n;let t=6*n;for(x=d[t],_=d[t+1],b=d[t+2],v=d[t+3],S=d[t+4],T=d[t+5],w=d[t+6],E=d[t+7],C=.03*(x-2*b+S),A=.03*(_-2*v+T),M=.006*(3*(b-S)-x+w),P=.006*(3*(v-T)-_+E),B=2*C+M,R=2*A+P,I=.3*(b-x)+C+.16666667*M,k=.3*(v-_)+A+.16666667*P,D=Math.sqrt(I*I+k*k),O[0]=D,t=1;t<8;t++)I+=B,k+=R,B+=M,R+=P,D+=Math.sqrt(I*I+k*k),O[t]=D;I+=B,k+=R,D+=Math.sqrt(I*I+k*k),O[8]=D,I+=B+M,k+=R+P,D+=Math.sqrt(I*I+k*k),O[9]=D,r=0}for(a*=D;;r++){const t=O[r];if(!(a>t)){if(0==r)a/=t;else{const e=O[r-1];a=r+(a-e)/(t-e)}break}}this.addCurvePosition(.1*a,x,_,b,v,S,T,w,E,l,s,i||t>0&&0==e)}return l}addBeforePosition(t,e,i,s,n){const r=e[i],a=e[i+1],o=e[i+2]-r,h=e[i+3]-a,l=Math.atan2(h,o);s[n]=r+t*Math.cos(l),s[n+1]=a+t*Math.sin(l),s[n+2]=l}addAfterPosition(t,e,i,s,n){const r=e[i+2],a=e[i+3],o=r-e[i],h=a-e[i+1],l=Math.atan2(h,o);s[n]=r+t*Math.cos(l),s[n+1]=a+t*Math.sin(l),s[n+2]=l}addCurvePosition(t,e,i,s,n,r,a,o,h,l,d,u){if(0==t||isNaN(t))return l[d]=e,l[d+1]=i,void(l[d+2]=Math.atan2(n-i,s-e));const c=t*t,p=c*t,m=1-t,f=m*m,g=f*m,y=m*t,x=3*y,_=m*x,b=x*t,v=e*g+s*_+r*b+o*p,S=i*g+n*_+a*b+h*p;l[d]=v,l[d+1]=S,u&&(l[d+2]=t<.001?Math.atan2(n-i,s-e):Math.atan2(S-(i*f+n*y*2+a*c),v-(e*f+s*y*2+r*c)))}};let o=a;o.NONE=-1,o.BEFORE=-2,o.AFTER=-3,o.epsilon=1e-5,e.PathConstraint=o},79546:(t,e,i)=>{"use strict";var s=i(38923),n=i(59663);class r extends s.ConstraintData{constructor(t){super(t,0,!1),this.bones=new Array,this._target=null,this.positionMode=n.PositionMode.Fixed,this.spacingMode=a.Fixed,this.rotateMode=n.RotateMode.Chain,this.offsetRotation=0,this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0}set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("SlotData not set.")}}var a=(t=>(t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional",t))(a||{});e.PathConstraintData=r,e.SpacingMode=a},92374:(t,e,i)=>{"use strict";i(77870);var s=i(59663),n=i(82803),r=i(88434),a=i(55600);i(81845);var o=i(75078),h=i(13633),l=i(19269),d=i(51442),u=i(99566);const c=class{constructor(t){if(this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(let e=0;e<t.bones.length;e++){const i=t.bones[e];let s;if(i.parent){const t=this.bones[i.parent.index];s=new o.Bone(i,this,t),t.children.push(s)}else s=new o.Bone(i,this,null);this.bones.push(s)}this.slots=new Array,this.drawOrder=new Array;for(let e=0;e<t.slots.length;e++){const i=t.slots[e],s=this.bones[i.boneData.index],n=new h.Slot(i,s);this.slots.push(n),this.drawOrder.push(n)}this.ikConstraints=new Array;for(let e=0;e<t.ikConstraints.length;e++){const i=t.ikConstraints[e];this.ikConstraints.push(new l.IkConstraint(i,this))}this.transformConstraints=new Array;for(let e=0;e<t.transformConstraints.length;e++){const i=t.transformConstraints[e];this.transformConstraints.push(new d.TransformConstraint(i,this))}this.pathConstraints=new Array;for(let e=0;e<t.pathConstraints.length;e++){const i=t.pathConstraints[e];this.pathConstraints.push(new u.PathConstraint(i,this))}this.color=new s.Color(1,1,1,1),this.updateCache()}updateCache(){this._updateCache.length=0;const t=this.bones;for(let e=0,i=t.length;e<i;e++){const i=t[e];i.sorted=i.data.skinRequired,i.active=!i.sorted}if(this.skin){const t=this.skin.bones;for(let e=0,i=this.skin.bones.length;e<i;e++){let i=this.bones[t[e].index];do{i.sorted=!1,i.active=!0,i=i.parent}while(i)}}const e=this.ikConstraints,i=this.transformConstraints,s=this.pathConstraints,n=e.length,r=i.length,a=s.length,o=n+r+a;t:for(let t=0;t<o;t++){for(let i=0;i<n;i++){const s=e[i];if(s.data.order==t){this.sortIkConstraint(s);continue t}}for(let e=0;e<r;e++){const s=i[e];if(s.data.order==t){this.sortTransformConstraint(s);continue t}}for(let e=0;e<a;e++){const i=s[e];if(i.data.order==t){this.sortPathConstraint(i);continue t}}}for(let e=0,i=t.length;e<i;e++)this.sortBone(t[e])}sortIkConstraint(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&s.Utils.contains(this.skin.constraints,t.data,!0)),!t.active)return;const e=t.target;this.sortBone(e);const i=t.bones,n=i[0];if(this.sortBone(n),1==i.length)this._updateCache.push(t),this.sortReset(n.children);else{const e=i[i.length-1];this.sortBone(e),this._updateCache.push(t),this.sortReset(n.children),e.sorted=!0}}sortPathConstraint(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||this.skin&&s.Utils.contains(this.skin.constraints,t.data,!0)),!t.active)return;const e=t.target,i=e.data.index,n=e.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,i,n),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,i,n);for(let t=0,e=this.data.skins.length;t<e;t++)this.sortPathConstraintAttachment(this.data.skins[t],i,n);const a=e.getAttachment();a instanceof r.PathAttachment&&this.sortPathConstraintAttachmentWith(a,n);const o=t.bones,h=o.length;for(let t=0;t<h;t++)this.sortBone(o[t]);this._updateCache.push(t);for(let t=0;t<h;t++)this.sortReset(o[t].children);for(let t=0;t<h;t++)o[t].sorted=!0}sortTransformConstraint(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&s.Utils.contains(this.skin.constraints,t.data,!0)),!t.active)return;this.sortBone(t.target);const e=t.bones,i=e.length;if(t.data.local)for(let t=0;t<i;t++){const i=e[t];this.sortBone(i.parent),this.sortBone(i)}else for(let t=0;t<i;t++)this.sortBone(e[t]);this._updateCache.push(t);for(let t=0;t<i;t++)this.sortReset(e[t].children);for(let t=0;t<i;t++)e[t].sorted=!0}sortPathConstraintAttachment(t,e,i){const s=t.attachments[e];if(s)for(const t in s)this.sortPathConstraintAttachmentWith(s[t],i)}sortPathConstraintAttachmentWith(t,e){if(!(t instanceof r.PathAttachment))return;const i=t.bones;if(i){const t=this.bones;for(let e=0,s=i.length;e<s;){let s=i[e++];for(s+=e;e<s;)this.sortBone(t[i[e++]])}}else this.sortBone(e)}sortBone(t){if(!t)return;if(t.sorted)return;const e=t.parent;e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}sortReset(t){for(let e=0,i=t.length;e<i;e++){const i=t[e];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}}updateWorldTransform(){const t=this.bones;for(let e=0,i=t.length;e<i;e++){const i=t[e];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}const e=this._updateCache;for(let t=0,i=e.length;t<i;t++)e[t].update()}updateWorldTransformWith(t){const e=this.getRootBone(),i=t.matrix.a,n=t.matrix.c,r=t.matrix.b,a=t.matrix.d;e.matrix.tx=i*this.x+n*this.y+t.worldX,e.matrix.ty=r*this.x+a*this.y+t.worldY;const o=e.rotation+90+e.shearY,h=s.MathUtils.cosDeg(e.rotation+e.shearX)*e.scaleX,l=s.MathUtils.cosDeg(o)*e.scaleY,d=s.MathUtils.sinDeg(e.rotation+e.shearX)*e.scaleX,u=s.MathUtils.sinDeg(o)*e.scaleY,c=this.scaleX,p=s.settings.yDown?-this.scaleY:this.scaleY;e.matrix.a=(i*h+n*d)*c,e.matrix.c=(i*l+n*u)*c,e.matrix.b=(r*h+a*d)*p,e.matrix.d=(r*l+a*u)*p;const m=this._updateCache;for(let t=0,i=m.length;t<i;t++){const i=m[t];i!=e&&i.update()}}setToSetupPose(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}setBonesToSetupPose(){const t=this.bones;for(let e=0,i=t.length;e<i;e++)t[e].setToSetupPose();const e=this.ikConstraints;for(let t=0,i=e.length;t<i;t++){const i=e[t];i.mix=i.data.mix,i.softness=i.data.softness,i.bendDirection=i.data.bendDirection,i.compress=i.data.compress,i.stretch=i.data.stretch}const i=this.transformConstraints;for(let t=0,e=i.length;t<e;t++){const e=i[t],s=e.data;e.mixRotate=s.mixRotate,e.mixX=s.mixX,e.mixY=s.mixY,e.mixScaleX=s.mixScaleX,e.mixScaleY=s.mixScaleY,e.mixShearY=s.mixShearY}const s=this.pathConstraints;for(let t=0,e=s.length;t<e;t++){const e=s[t],i=e.data;e.position=i.position,e.spacing=i.spacing,e.mixRotate=i.mixRotate,e.mixX=i.mixX,e.mixY=i.mixY}}setSlotsToSetupPose(){const t=this.slots;s.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(let e=0,i=t.length;e<i;e++)t[e].setToSetupPose()}getRootBone(){return 0==this.bones.length?null:this.bones[0]}findBone(t){if(!t)throw new Error("boneName cannot be null.");const e=this.bones;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.data.name==t)return s}return null}findBoneIndex(t){if(!t)throw new Error("boneName cannot be null.");const e=this.bones;for(let i=0,s=e.length;i<s;i++)if(e[i].data.name==t)return i;return-1}findSlot(t){if(!t)throw new Error("slotName cannot be null.");const e=this.slots;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.data.name==t)return s}return null}findSlotIndex(t){if(!t)throw new Error("slotName cannot be null.");const e=this.slots;for(let i=0,s=e.length;i<s;i++)if(e[i].data.name==t)return i;return-1}setSkinByName(t){const e=this.data.findSkin(t);if(!e)throw new Error(`Skin not found: ${t}`);this.setSkin(e)}setSkin(t){if(t!=this.skin){if(t)if(this.skin)t.attachAll(this,this.skin);else{const e=this.slots;for(let i=0,s=e.length;i<s;i++){const s=e[i],n=s.data.attachmentName;if(n){const e=t.getAttachment(i,n);e&&s.setAttachment(e)}}}this.skin=t,this.updateCache()}}getAttachmentByName(t,e){const i=this.data.findSlot(t);if(!i)throw new Error(`Can't find slot with name ${t}`);return this.getAttachment(i.index,e)}getAttachment(t,e){if(!e)throw new Error("attachmentName cannot be null.");if(this.skin){const i=this.skin.getAttachment(t,e);if(i)return i}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null}setAttachment(t,e){if(!t)throw new Error("slotName cannot be null.");const i=this.slots;for(let s=0,n=i.length;s<n;s++){const n=i[s];if(n.data.name==t){let i=null;if(e&&(i=this.getAttachment(s,e),!i))throw new Error(`Attachment not found: ${e}, for slot: ${t}`);return void n.setAttachment(i)}}throw new Error(`Slot not found: ${t}`)}findIkConstraint(t){if(!t)throw new Error("constraintName cannot be null.");const e=this.ikConstraints;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.data.name==t)return s}return null}findTransformConstraint(t){if(!t)throw new Error("constraintName cannot be null.");const e=this.transformConstraints;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.data.name==t)return s}return null}findPathConstraint(t){if(!t)throw new Error("constraintName cannot be null.");const e=this.pathConstraints;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.data.name==t)return s}return null}getBoundsRect(){const t=new s.Vector2,e=new s.Vector2;return this.getBounds(t,e),{x:t.x,y:t.y,width:e.x,height:e.y}}getBounds(t,e,i=new Array(2)){if(!t)throw new Error("offset cannot be null.");if(!e)throw new Error("size cannot be null.");const r=this.drawOrder;let o=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,d=Number.NEGATIVE_INFINITY;for(let t=0,e=r.length;t<e;t++){const e=r[t];if(!e.bone.active)continue;let u=0,c=null;const p=e.getAttachment();if(p instanceof a.RegionAttachment)u=8,c=s.Utils.setArraySize(i,u,0),p.computeWorldVertices(e,c,0,2);else if(p instanceof n.MeshAttachment){const t=p;u=t.worldVerticesLength,c=s.Utils.setArraySize(i,u,0),t.computeWorldVertices(e,0,u,c,0,2)}if(c)for(let t=0,e=c.length;t<e;t+=2){const e=c[t],i=c[t+1];o=Math.min(o,e),h=Math.min(h,i),l=Math.max(l,e),d=Math.max(d,i)}}t.set(o,h),e.set(l-o,d-h)}get flipX(){return-1==this.scaleX}set flipX(t){c.deprecatedWarning1||(c.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=t?1:-1}get flipY(){return-1==this.scaleY}set flipY(t){c.deprecatedWarning1||(c.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=t?1:-1}};let p=c;p.deprecatedWarning1=!1,e.Skeleton=p},31049:(t,e,i)=>{"use strict";var s=i(39111),n=i(91387),r=i(66983),a=i(61248),o=i(66329),h=i(25460),l=i(11262),d=i(79546),u=i(78745),c=i(78125),p=i(59663),m=i(48742);i(77870),i(55600);var f=i(81845);class g{constructor(t){this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}readSkeletonData(t){const e=this.scale,i=new r.SkeletonData;i.name="";const s=new p.BinaryInput(t),n=s.readInt32(),u=s.readInt32();i.hash=0==u&&0==n?null:u.toString(16)+n.toString(16),i.version=s.readString();const m=i.version.substr(0,3);if("4.0"!==m&&"4.1"!==m){const t=`Spine 4.1 loader cant load version ${i.version}. Please configure your pixi-spine bundle`;console.error(t)}this.ver40="4.0"===m,i.x=s.readFloat(),i.y=s.readFloat(),i.width=s.readFloat(),i.height=s.readFloat();const f=s.readBoolean();f&&(i.fps=s.readFloat(),i.imagesPath=s.readString(),i.audioPath=s.readString());let g=0;g=s.readInt(!0);for(let t=0;t<g;t++){const t=s.readString();if(!t)throw new Error("String in string table must not be null.");s.strings.push(t)}g=s.readInt(!0);for(let t=0;t<g;t++){const n=s.readString();if(!n)throw new Error("Bone name must not be null.");const r=0==t?null:i.bones[s.readInt(!0)],a=new o.BoneData(t,n,r);a.rotation=s.readFloat(),a.x=s.readFloat()*e,a.y=s.readFloat()*e,a.scaleX=s.readFloat(),a.scaleY=s.readFloat(),a.shearX=s.readFloat(),a.shearY=s.readFloat(),a.length=s.readFloat()*e,a.transformMode=s.readInt(!0),a.skinRequired=s.readBoolean(),f&&p.Color.rgba8888ToColor(a.color,s.readInt32()),i.bones.push(a)}g=s.readInt(!0);for(let t=0;t<g;t++){const e=s.readString();if(!e)throw new Error("Slot name must not be null.");const n=i.bones[s.readInt(!0)],r=new a.SlotData(t,e,n);p.Color.rgba8888ToColor(r.color,s.readInt32());const o=s.readInt32();-1!=o&&p.Color.rgb888ToColor(r.darkColor=new p.Color,o),r.attachmentName=s.readStringRef(),r.blendMode=s.readInt(!0),i.slots.push(r)}g=s.readInt(!0);for(let t,n=0;n<g;n++){const n=s.readString();if(!n)throw new Error("IK constraint data name must not be null.");const r=new h.IkConstraintData(n);r.order=s.readInt(!0),r.skinRequired=s.readBoolean(),t=s.readInt(!0);for(let e=0;e<t;e++)r.bones.push(i.bones[s.readInt(!0)]);r.target=i.bones[s.readInt(!0)],r.mix=s.readFloat(),r.softness=s.readFloat()*e,r.bendDirection=s.readByte(),r.compress=s.readBoolean(),r.stretch=s.readBoolean(),r.uniform=s.readBoolean(),i.ikConstraints.push(r)}g=s.readInt(!0);for(let t,n=0;n<g;n++){const n=s.readString();if(!n)throw new Error("Transform constraint data name must not be null.");const r=new l.TransformConstraintData(n);r.order=s.readInt(!0),r.skinRequired=s.readBoolean(),t=s.readInt(!0);for(let e=0;e<t;e++)r.bones.push(i.bones[s.readInt(!0)]);r.target=i.bones[s.readInt(!0)],r.local=s.readBoolean(),r.relative=s.readBoolean(),r.offsetRotation=s.readFloat(),r.offsetX=s.readFloat()*e,r.offsetY=s.readFloat()*e,r.offsetScaleX=s.readFloat(),r.offsetScaleY=s.readFloat(),r.offsetShearY=s.readFloat(),r.mixRotate=s.readFloat(),r.mixX=s.readFloat(),r.mixY=s.readFloat(),r.mixScaleX=s.readFloat(),r.mixScaleY=s.readFloat(),r.mixShearY=s.readFloat(),i.transformConstraints.push(r)}g=s.readInt(!0);for(let t,n=0;n<g;n++){const n=s.readString();if(!n)throw new Error("Path constraint data name must not be null.");const r=new d.PathConstraintData(n);r.order=s.readInt(!0),r.skinRequired=s.readBoolean(),t=s.readInt(!0);for(let e=0;e<t;e++)r.bones.push(i.bones[s.readInt(!0)]);r.target=i.slots[s.readInt(!0)],r.positionMode=s.readInt(!0),r.spacingMode=s.readInt(!0),r.rotateMode=s.readInt(!0),r.offsetRotation=s.readFloat(),r.position=s.readFloat(),r.positionMode==p.PositionMode.Fixed&&(r.position*=e),r.spacing=s.readFloat(),r.spacingMode!=d.SpacingMode.Length&&r.spacingMode!=d.SpacingMode.Fixed||(r.spacing*=e),r.mixRotate=s.readFloat(),r.mixX=s.readFloat(),r.mixY=s.readFloat(),i.pathConstraints.push(r)}const y=this.readSkin(s,i,!0,f);y&&(i.defaultSkin=y,i.skins.push(y));{let t=i.skins.length;for(p.Utils.setArraySize(i.skins,g=t+s.readInt(!0));t<g;t++){const e=this.readSkin(s,i,!1,f);if(!e)throw new Error("readSkin() should not have returned null.");i.skins[t]=e}}g=this.linkedMeshes.length;for(let t=0;t<g;t++){const e=this.linkedMeshes[t],s=e.skin?i.findSkin(e.skin):i.defaultSkin;if(!s)throw new Error("Not skin found for linked mesh.");if(!e.parent)throw new Error("Linked mesh parent must not be null");const n=s.getAttachment(e.slotIndex,e.parent);if(!n)throw new Error(`Parent mesh not found: ${e.parent}`);e.mesh.timelineAttachment=e.inheritTimeline?n:e.mesh,e.mesh.setParentMesh(n)}this.linkedMeshes.length=0,g=s.readInt(!0);for(let t=0;t<g;t++){const t=s.readStringRef();if(!t)throw new Error;const e=new c.EventData(t);e.intValue=s.readInt(!1),e.floatValue=s.readFloat(),e.stringValue=s.readString(),e.audioPath=s.readString(),e.audioPath&&(e.volume=s.readFloat(),e.balance=s.readFloat()),i.events.push(e)}g=s.readInt(!0);for(let t=0;t<g;t++){const t=s.readString();if(!t)throw new Error("Animatio name must not be null.");i.animations.push(this.readAnimation(s,t,i))}return i}readSkin(t,e,i,s){let n=null,r=0;if(i){if(r=t.readInt(!0),0==r)return null;n=new u.Skin("default")}else{const i=t.readStringRef();if(!i)throw new Error("Skin name must not be null.");n=new u.Skin(i),n.bones.length=t.readInt(!0);for(let i=0,s=n.bones.length;i<s;i++)n.bones[i]=e.bones[t.readInt(!0)];for(let i=0,s=t.readInt(!0);i<s;i++)n.constraints.push(e.ikConstraints[t.readInt(!0)]);for(let i=0,s=t.readInt(!0);i<s;i++)n.constraints.push(e.transformConstraints[t.readInt(!0)]);for(let i=0,s=t.readInt(!0);i<s;i++)n.constraints.push(e.pathConstraints[t.readInt(!0)]);r=t.readInt(!0)}for(let i=0;i<r;i++){const i=t.readInt(!0);for(let r=0,a=t.readInt(!0);r<a;r++){const r=t.readStringRef();if(!r)throw new Error("Attachment name must not be null");const a=this.readAttachment(t,e,n,i,r,s);a&&n.setAttachment(i,r,a)}}return n}readAttachment(t,e,i,s,n,r){const a=this.scale;let o=t.readStringRef();switch(o||(o=n),t.readByte()){case p.AttachmentType.Region:{let e=t.readStringRef();const s=t.readFloat(),n=t.readFloat(),r=t.readFloat(),h=t.readFloat(),l=t.readFloat(),d=t.readFloat(),u=t.readFloat(),c=t.readInt32(),m=this.readSequence(t);e||(e=o);const f=this.attachmentLoader.newRegionAttachment(i,o,e,m);return f?(f.path=e,f.x=n*a,f.y=r*a,f.scaleX=h,f.scaleY=l,f.rotation=s,f.width=d*a,f.height=u*a,p.Color.rgba8888ToColor(f.color,c),f.sequence=m,null==m&&f.updateRegion(),f):null}case p.AttachmentType.BoundingBox:{const e=t.readInt(!0),s=this.readVertices(t,e),n=r?t.readInt32():0,a=this.attachmentLoader.newBoundingBoxAttachment(i,o);return a?(a.worldVerticesLength=e<<1,a.vertices=s.vertices,a.bones=s.bones,r&&p.Color.rgba8888ToColor(a.color,n),a):null}case p.AttachmentType.Mesh:{let e=t.readStringRef();const s=t.readInt32(),n=t.readInt(!0),h=this.readFloatArray(t,n<<1,1),l=this.readShortArray(t),d=this.readVertices(t,n),u=t.readInt(!0),c=this.readSequence(t);let m=[],f=0,g=0;r&&(m=this.readShortArray(t),f=t.readFloat(),g=t.readFloat()),e||(e=o);const y=this.attachmentLoader.newMeshAttachment(i,o,e,c);return y?(y.path=e,p.Color.rgba8888ToColor(y.color,s),y.bones=d.bones,y.vertices=d.vertices,y.worldVerticesLength=n<<1,y.triangles=l,y.regionUVs=new Float32Array(h),y.hullLength=u<<1,y.sequence=c,r&&(y.edges=m,y.width=f*a,y.height=g*a),y):null}case p.AttachmentType.LinkedMesh:{let e=t.readStringRef();const n=t.readInt32(),h=t.readStringRef(),l=t.readStringRef(),d=t.readBoolean(),u=this.readSequence(t);let c=0,m=0;r&&(c=t.readFloat(),m=t.readFloat()),e||(e=o);const f=this.attachmentLoader.newMeshAttachment(i,o,e,u);return f?(f.path=e,p.Color.rgba8888ToColor(f.color,n),f.sequence=u,r&&(f.width=c*a,f.height=m*a),this.linkedMeshes.push(new y(f,h,s,l,d)),f):null}case p.AttachmentType.Path:{const e=t.readBoolean(),s=t.readBoolean(),n=t.readInt(!0),h=this.readVertices(t,n),l=p.Utils.newArray(n/3,0);for(let e=0,i=l.length;e<i;e++)l[e]=t.readFloat()*a;const d=r?t.readInt32():0,u=this.attachmentLoader.newPathAttachment(i,o);return u?(u.closed=e,u.constantSpeed=s,u.worldVerticesLength=n<<1,u.vertices=h.vertices,u.bones=h.bones,u.lengths=l,r&&p.Color.rgba8888ToColor(u.color,d),u):null}case p.AttachmentType.Point:{const e=t.readFloat(),s=t.readFloat(),n=t.readFloat(),h=r?t.readInt32():0,l=this.attachmentLoader.newPointAttachment(i,o);return l?(l.x=s*a,l.y=n*a,l.rotation=e,r&&p.Color.rgba8888ToColor(l.color,h),l):null}case p.AttachmentType.Clipping:{const s=t.readInt(!0),n=t.readInt(!0),a=this.readVertices(t,n),h=r?t.readInt32():0,l=this.attachmentLoader.newClippingAttachment(i,o);return l?(l.endSlot=e.slots[s],l.worldVerticesLength=n<<1,l.vertices=a.vertices,l.bones=a.bones,r&&p.Color.rgba8888ToColor(l.color,h),l):null}}return null}readSequence(t){if(this.ver40||!t.readBoolean())return null;const e=new f.Sequence(t.readInt(!0));return e.start=t.readInt(!0),e.digits=t.readInt(!0),e.setupIndex=t.readInt(!0),e}readDeformTimelineType(t){return this.ver40?N:t.readByte()}readVertices(t,e){const i=this.scale,s=e<<1,n=new x;if(!t.readBoolean())return n.vertices=this.readFloatArray(t,s,i),n;const r=new Array,a=new Array;for(let s=0;s<e;s++){const e=t.readInt(!0);a.push(e);for(let s=0;s<e;s++)a.push(t.readInt(!0)),r.push(t.readFloat()*i),r.push(t.readFloat()*i),r.push(t.readFloat())}return n.vertices=p.Utils.toFloatArray(r),n.bones=a,n}readFloatArray(t,e,i){const s=new Array(e);if(1==i)for(let i=0;i<e;i++)s[i]=t.readFloat();else for(let n=0;n<e;n++)s[n]=t.readFloat()*i;return s}readShortArray(t){const e=t.readInt(!0),i=new Array(e);for(let s=0;s<e;s++)i[s]=t.readShort();return i}readAnimation(t,e,i){t.readInt(!0);const r=new Array,a=this.scale;for(let e=0,i=t.readInt(!0);e<i;e++){const e=t.readInt(!0);for(let i=0,n=t.readInt(!0);i<n;i++){const i=t.readByte(),n=t.readInt(!0),a=n-1;switch(i){case I:{const i=new s.AttachmentTimeline(n,e);for(let e=0;e<n;e++)i.setFrame(e,t.readFloat(),t.readStringRef());r.push(i);break}case k:{const i=t.readInt(!0),o=new s.RGBATimeline(n,i,e);let h=t.readFloat(),l=t.readUnsignedByte()/255,d=t.readUnsignedByte()/255,u=t.readUnsignedByte()/255,c=t.readUnsignedByte()/255;for(let e=0,i=0;o.setFrame(e,h,l,d,u,c),e!=a;e++){const s=t.readFloat(),n=t.readUnsignedByte()/255,r=t.readUnsignedByte()/255,a=t.readUnsignedByte()/255,p=t.readUnsignedByte()/255;switch(t.readByte()){case W:o.setStepped(e);break;case Y:v(t,o,i++,e,0,h,s,l,n,1),v(t,o,i++,e,1,h,s,d,r,1),v(t,o,i++,e,2,h,s,u,a,1),v(t,o,i++,e,3,h,s,c,p,1)}h=s,l=n,d=r,u=a,c=p}r.push(o);break}case O:{const i=t.readInt(!0),o=new s.RGBTimeline(n,i,e);let h=t.readFloat(),l=t.readUnsignedByte()/255,d=t.readUnsignedByte()/255,u=t.readUnsignedByte()/255;for(let e=0,i=0;o.setFrame(e,h,l,d,u),e!=a;e++){const s=t.readFloat(),n=t.readUnsignedByte()/255,r=t.readUnsignedByte()/255,a=t.readUnsignedByte()/255;switch(t.readByte()){case W:o.setStepped(e);break;case Y:v(t,o,i++,e,0,h,s,l,n,1),v(t,o,i++,e,1,h,s,d,r,1),v(t,o,i++,e,2,h,s,u,a,1)}h=s,l=n,d=r,u=a}r.push(o);break}case D:{const i=t.readInt(!0),o=new s.RGBA2Timeline(n,i,e);let h=t.readFloat(),l=t.readUnsignedByte()/255,d=t.readUnsignedByte()/255,u=t.readUnsignedByte()/255,c=t.readUnsignedByte()/255,p=t.readUnsignedByte()/255,m=t.readUnsignedByte()/255,f=t.readUnsignedByte()/255;for(let e=0,i=0;o.setFrame(e,h,l,d,u,c,p,m,f),e!=a;e++){const s=t.readFloat(),n=t.readUnsignedByte()/255,r=t.readUnsignedByte()/255,a=t.readUnsignedByte()/255,g=t.readUnsignedByte()/255,y=t.readUnsignedByte()/255,x=t.readUnsignedByte()/255,_=t.readUnsignedByte()/255;switch(t.readByte()){case W:o.setStepped(e);break;case Y:v(t,o,i++,e,0,h,s,l,n,1),v(t,o,i++,e,1,h,s,d,r,1),v(t,o,i++,e,2,h,s,u,a,1),v(t,o,i++,e,3,h,s,c,g,1),v(t,o,i++,e,4,h,s,p,y,1),v(t,o,i++,e,5,h,s,m,x,1),v(t,o,i++,e,6,h,s,f,_,1)}h=s,l=n,d=r,u=a,c=g,p=y,m=x,f=_}r.push(o);break}case F:{const i=t.readInt(!0),o=new s.RGB2Timeline(n,i,e);let h=t.readFloat(),l=t.readUnsignedByte()/255,d=t.readUnsignedByte()/255,u=t.readUnsignedByte()/255,c=t.readUnsignedByte()/255,p=t.readUnsignedByte()/255,m=t.readUnsignedByte()/255;for(let e=0,i=0;o.setFrame(e,h,l,d,u,c,p,m),e!=a;e++){const s=t.readFloat(),n=t.readUnsignedByte()/255,r=t.readUnsignedByte()/255,a=t.readUnsignedByte()/255,f=t.readUnsignedByte()/255,g=t.readUnsignedByte()/255,y=t.readUnsignedByte()/255;switch(t.readByte()){case W:o.setStepped(e);break;case Y:v(t,o,i++,e,0,h,s,l,n,1),v(t,o,i++,e,1,h,s,d,r,1),v(t,o,i++,e,2,h,s,u,a,1),v(t,o,i++,e,3,h,s,c,f,1),v(t,o,i++,e,4,h,s,p,g,1),v(t,o,i++,e,5,h,s,m,y,1)}h=s,l=n,d=r,u=a,c=f,p=g,m=y}r.push(o);break}case L:{const i=new s.AlphaTimeline(n,t.readInt(!0),e);let o=t.readFloat(),h=t.readUnsignedByte()/255;for(let e=0,s=0;i.setFrame(e,o,h),e!=a;e++){const n=t.readFloat(),r=t.readUnsignedByte()/255;switch(t.readByte()){case W:i.setStepped(e);break;case Y:v(t,i,s++,e,0,o,n,h,r,1)}o=n,h=r}r.push(i)}}}}for(let e=0,i=t.readInt(!0);e<i;e++){const e=t.readInt(!0);for(let i=0,n=t.readInt(!0);i<n;i++){const i=t.readByte(),n=t.readInt(!0),o=t.readInt(!0);switch(i){case S:r.push(_(t,new s.RotateTimeline(n,o,e),1));break;case T:r.push(b(t,new s.TranslateTimeline(n,o,e),a));break;case w:r.push(_(t,new s.TranslateXTimeline(n,o,e),a));break;case E:r.push(_(t,new s.TranslateYTimeline(n,o,e),a));break;case C:r.push(b(t,new s.ScaleTimeline(n,o,e),1));break;case A:r.push(_(t,new s.ScaleXTimeline(n,o,e),1));break;case M:r.push(_(t,new s.ScaleYTimeline(n,o,e),1));break;case P:r.push(b(t,new s.ShearTimeline(n,o,e),1));break;case B:r.push(_(t,new s.ShearXTimeline(n,o,e),1));break;case R:r.push(_(t,new s.ShearYTimeline(n,o,e),1))}}}for(let e=0,i=t.readInt(!0);e<i;e++){const e=t.readInt(!0),i=t.readInt(!0),n=i-1,o=new s.IkConstraintTimeline(i,t.readInt(!0),e);let h=t.readFloat(),l=t.readFloat(),d=t.readFloat()*a;for(let e=0,i=0;o.setFrame(e,h,l,d,t.readByte(),t.readBoolean(),t.readBoolean()),e!=n;e++){const s=t.readFloat(),n=t.readFloat(),r=t.readFloat()*a;switch(t.readByte()){case W:o.setStepped(e);break;case Y:v(t,o,i++,e,0,h,s,l,n,1),v(t,o,i++,e,1,h,s,d,r,a)}h=s,l=n,d=r}r.push(o)}for(let e=0,i=t.readInt(!0);e<i;e++){const e=t.readInt(!0),i=t.readInt(!0),n=i-1,a=new s.TransformConstraintTimeline(i,t.readInt(!0),e);let o=t.readFloat(),h=t.readFloat(),l=t.readFloat(),d=t.readFloat(),u=t.readFloat(),c=t.readFloat(),p=t.readFloat();for(let e=0,i=0;a.setFrame(e,o,h,l,d,u,c,p),e!=n;e++){const s=t.readFloat(),n=t.readFloat(),r=t.readFloat(),m=t.readFloat(),f=t.readFloat(),g=t.readFloat(),y=t.readFloat();switch(t.readByte()){case W:a.setStepped(e);break;case Y:v(t,a,i++,e,0,o,s,h,n,1),v(t,a,i++,e,1,o,s,l,r,1),v(t,a,i++,e,2,o,s,d,m,1),v(t,a,i++,e,3,o,s,u,f,1),v(t,a,i++,e,4,o,s,c,g,1),v(t,a,i++,e,5,o,s,p,y,1)}o=s,h=n,l=r,d=m,u=f,c=g,p=y}r.push(a)}for(let e=0,n=t.readInt(!0);e<n;e++){const e=t.readInt(!0),n=i.pathConstraints[e];for(let i=0,o=t.readInt(!0);i<o;i++)switch(t.readByte()){case G:r.push(_(t,new s.PathConstraintPositionTimeline(t.readInt(!0),t.readInt(!0),e),n.positionMode==p.PositionMode.Fixed?a:1));break;case V:r.push(_(t,new s.PathConstraintSpacingTimeline(t.readInt(!0),t.readInt(!0),e),n.spacingMode==d.SpacingMode.Length||n.spacingMode==d.SpacingMode.Fixed?a:1));break;case j:const i=new s.PathConstraintMixTimeline(t.readInt(!0),t.readInt(!0),e);let o=t.readFloat(),h=t.readFloat(),l=t.readFloat(),u=t.readFloat();for(let e=0,s=0,n=i.getFrameCount()-1;i.setFrame(e,o,h,l,u),e!=n;e++){const n=t.readFloat(),r=t.readFloat(),a=t.readFloat(),d=t.readFloat();switch(t.readByte()){case W:i.setStepped(e);break;case Y:v(t,i,s++,e,0,o,n,h,r,1),v(t,i,s++,e,1,o,n,l,a,1),v(t,i,s++,e,2,o,n,u,d,1)}o=n,h=r,l=a,u=d}r.push(i)}}for(let e=0,n=t.readInt(!0);e<n;e++){const e=i.skins[t.readInt(!0)];for(let i=0,n=t.readInt(!0);i<n;i++){const i=t.readInt(!0);for(let n=0,o=t.readInt(!0);n<o;n++){const n=t.readStringRef();if(!n)throw new Error("attachmentName must not be null.");const o=e.getAttachment(i,n),h=this.readDeformTimelineType(t),l=t.readInt(!0),d=l-1;switch(h){case N:{const e=o,n=e.bones,h=e.vertices,u=n?h.length/3*2:h.length,c=t.readInt(!0),m=new s.DeformTimeline(l,c,i,e);let f=t.readFloat();for(let e=0,i=0;;e++){let s,r=t.readInt(!0);if(0==r)s=n?p.Utils.newFloatArray(u):h;else{s=p.Utils.newFloatArray(u);const e=t.readInt(!0);if(r+=e,1==a)for(let i=e;i<r;i++)s[i]=t.readFloat();else for(let i=e;i<r;i++)s[i]=t.readFloat()*a;if(!n)for(let t=0,e=s.length;t<e;t++)s[t]+=h[t]}if(m.setFrame(e,f,s),e==d)break;const o=t.readFloat();switch(t.readByte()){case W:m.setStepped(e);break;case Y:v(t,m,i++,e,0,f,o,0,1,1)}f=o}r.push(m);break}case U:{const e=new s.SequenceTimeline(l,i,o);for(let i=0;i<l;i++){const s=t.readFloat(),n=t.readInt32();e.setFrame(i,s,f.SequenceModeValues[15&n],n>>4,t.readFloat())}r.push(e);break}}}}}const o=t.readInt(!0);if(o>0){const e=new s.DrawOrderTimeline(o),n=i.slots.length;for(let i=0;i<o;i++){const s=t.readFloat(),r=t.readInt(!0),a=p.Utils.newArray(n,0);for(let t=n-1;t>=0;t--)a[t]=-1;const o=p.Utils.newArray(n-r,0);let h=0,l=0;for(let e=0;e<r;e++){const e=t.readInt(!0);for(;h!=e;)o[l++]=h++;a[h+t.readInt(!0)]=h++}for(;h<n;)o[l++]=h++;for(let t=n-1;t>=0;t--)-1==a[t]&&(a[t]=o[--l]);e.setFrame(i,s,a)}r.push(e)}const h=t.readInt(!0);if(h>0){const e=new s.EventTimeline(h);for(let s=0;s<h;s++){const r=t.readFloat(),a=i.events[t.readInt(!0)],o=new n.Event(r,a);o.intValue=t.readInt(!1),o.floatValue=t.readFloat(),o.stringValue=t.readBoolean()?t.readString():a.stringValue,o.data.audioPath&&(o.volume=t.readFloat(),o.balance=t.readFloat()),e.setFrame(s,o)}r.push(e)}let l=0;for(let t=0,e=r.length;t<e;t++)l=Math.max(l,r[t].getDuration());return new s.Animation(e,r,l)}}g.BlendModeValues=[m.BLEND_MODES.NORMAL,m.BLEND_MODES.ADD,m.BLEND_MODES.MULTIPLY,m.BLEND_MODES.SCREEN];class y{constructor(t,e,i,s,n){this.mesh=t,this.skin=e,this.slotIndex=i,this.parent=s,this.inheritTimeline=n}}class x{constructor(t=null,e=null){this.bones=t,this.vertices=e}}function _(t,e,i){let s=t.readFloat(),n=t.readFloat()*i;for(let r=0,a=0,o=e.getFrameCount()-1;e.setFrame(r,s,n),r!=o;r++){const o=t.readFloat(),h=t.readFloat()*i;switch(t.readByte()){case W:e.setStepped(r);break;case Y:v(t,e,a++,r,0,s,o,n,h,i)}s=o,n=h}return e}function b(t,e,i){let s=t.readFloat(),n=t.readFloat()*i,r=t.readFloat()*i;for(let a=0,o=0,h=e.getFrameCount()-1;e.setFrame(a,s,n,r),a!=h;a++){const h=t.readFloat(),l=t.readFloat()*i,d=t.readFloat()*i;switch(t.readByte()){case W:e.setStepped(a);break;case Y:v(t,e,o++,a,0,s,h,n,l,i),v(t,e,o++,a,1,s,h,r,d,i)}s=h,n=l,r=d}return e}function v(t,e,i,s,n,r,a,o,h,l){e.setBezier(i,s,n,r,o,t.readFloat(),t.readFloat()*l,t.readFloat(),t.readFloat()*l,a,h)}const S=0,T=1,w=2,E=3,C=4,A=5,M=6,P=7,B=8,R=9,I=0,k=1,O=2,D=3,F=4,L=5,N=0,U=1,G=0,V=1,j=2,W=1,Y=2;e.SkeletonBinary=g},86982:(t,e,i)=>{"use strict";var s=i(59663);class n extends s.SkeletonBoundsBase{}e.SkeletonBounds=n},66983:(t,e)=>{"use strict";e.SkeletonData=class{constructor(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}findBone(t){if(!t)throw new Error("boneName cannot be null.");const e=this.bones;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findBoneIndex(t){if(!t)throw new Error("boneName cannot be null.");const e=this.bones;for(let i=0,s=e.length;i<s;i++)if(e[i].name==t)return i;return-1}findSlot(t){if(!t)throw new Error("slotName cannot be null.");const e=this.slots;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findSlotIndex(t){if(!t)throw new Error("slotName cannot be null.");const e=this.slots;for(let i=0,s=e.length;i<s;i++)if(e[i].name==t)return i;return-1}findSkin(t){if(!t)throw new Error("skinName cannot be null.");const e=this.skins;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findEvent(t){if(!t)throw new Error("eventDataName cannot be null.");const e=this.events;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findAnimation(t){if(!t)throw new Error("animationName cannot be null.");const e=this.animations;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findIkConstraint(t){if(!t)throw new Error("constraintName cannot be null.");const e=this.ikConstraints;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findTransformConstraint(t){if(!t)throw new Error("constraintName cannot be null.");const e=this.transformConstraints;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findPathConstraint(t){if(!t)throw new Error("constraintName cannot be null.");const e=this.pathConstraints;for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.name==t)return s}return null}findPathConstraintIndex(t){if(null==t)throw new Error("pathConstraintName cannot be null.");const e=this.pathConstraints;for(let i=0,s=e.length;i<s;i++)if(e[i].name==t)return i;return-1}}},12185:(t,e,i)=>{"use strict";var s=i(39111),n=i(91387),r=i(66983),a=i(61248),o=i(66329),h=i(25460),l=i(11262),d=i(79546),u=i(78745),c=i(78125),p=i(59663),m=i(48742),f=i(81845);class g{constructor(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}readSkeletonData(t){const e=this.scale,i=new r.SkeletonData,s="string"==typeof t?JSON.parse(t):t,n=s.skeleton;if(n){i.hash=n.hash,i.version=n.spine;const t=i.version.substr(0,3);if("4.0"!==t&&"4.1"!==t){const t=`Spine 4.1 loader cant load version ${n.spine}. Please configure your pixi-spine bundle`;console.error(t)}i.x=n.x,i.y=n.y,i.width=n.width,i.height=n.height,i.fps=n.fps,i.imagesPath=n.images}if(s.bones)for(let t=0;t<s.bones.length;t++){const n=s.bones[t];let r=null;const a=v(n,"parent",null);if(null!=a&&(r=i.findBone(a),null==r))throw new Error(`Parent bone not found: ${a}`);const h=new o.BoneData(i.bones.length,n.name,r);h.length=v(n,"length",0)*e,h.x=v(n,"x",0)*e,h.y=v(n,"y",0)*e,h.rotation=v(n,"rotation",0),h.scaleX=v(n,"scaleX",1),h.scaleY=v(n,"scaleY",1),h.shearX=v(n,"shearX",0),h.shearY=v(n,"shearY",0),h.transformMode=p.Utils.enumValue(p.TransformMode,v(n,"transform","Normal")),h.skinRequired=v(n,"skin",!1);const l=v(n,"color",null);l&&h.color.setFromString(l),i.bones.push(h)}if(s.slots)for(let t=0;t<s.slots.length;t++){const e=s.slots[t],n=i.findBone(e.bone);if(!n)throw new Error(`Couldn't find bone ${e.bone} for slot ${e.name}`);const r=new a.SlotData(i.slots.length,e.name,n),o=v(e,"color",null);o&&r.color.setFromString(o);const h=v(e,"dark",null);h&&(r.darkColor=p.Color.fromString(h)),r.attachmentName=v(e,"attachment",null),r.blendMode=g.blendModeFromString(v(e,"blend","normal")),i.slots.push(r)}if(s.ik)for(let t=0;t<s.ik.length;t++){const n=s.ik[t],r=new h.IkConstraintData(n.name);r.order=v(n,"order",0),r.skinRequired=v(n,"skin",!1);for(let t=0;t<n.bones.length;t++){const e=n.bones[t],s=i.findBone(e);if(null==s)throw new Error(`IK bone not found: ${e}`);r.bones.push(s)}r.target=i.findBone(n.target),r.mix=v(n,"mix",1),r.softness=v(n,"softness",0)*e,r.bendDirection=v(n,"bendPositive",!0)?1:-1,r.compress=v(n,"compress",!1),r.stretch=v(n,"stretch",!1),r.uniform=v(n,"uniform",!1),i.ikConstraints.push(r)}if(s.transform)for(let t=0;t<s.transform.length;t++){const n=s.transform[t],r=new l.TransformConstraintData(n.name);r.order=v(n,"order",0),r.skinRequired=v(n,"skin",!1);for(let t=0;t<n.bones.length;t++){const e=n.bones[t],s=i.findBone(e);if(!s)throw new Error(`Couldn't find bone ${e} for transform constraint ${n.name}.`);r.bones.push(s)}const a=n.target,o=i.findBone(a);if(!o)throw new Error(`Couldn't find target bone ${a} for transform constraint ${n.name}.`);r.target=o,r.local=v(n,"local",!1),r.relative=v(n,"relative",!1),r.offsetRotation=v(n,"rotation",0),r.offsetX=v(n,"x",0)*e,r.offsetY=v(n,"y",0)*e,r.offsetScaleX=v(n,"scaleX",0),r.offsetScaleY=v(n,"scaleY",0),r.offsetShearY=v(n,"shearY",0),r.mixRotate=v(n,"mixRotate",1),r.mixX=v(n,"mixX",1),r.mixY=v(n,"mixY",r.mixX),r.mixScaleX=v(n,"mixScaleX",1),r.mixScaleY=v(n,"mixScaleY",r.mixScaleX),r.mixShearY=v(n,"mixShearY",1),i.transformConstraints.push(r)}if(s.path)for(let t=0;t<s.path.length;t++){const n=s.path[t],r=new d.PathConstraintData(n.name);r.order=v(n,"order",0),r.skinRequired=v(n,"skin",!1);for(let t=0;t<n.bones.length;t++){const e=n.bones[t],s=i.findBone(e);if(!s)throw new Error(`Couldn't find bone ${e} for path constraint ${n.name}.`);r.bones.push(s)}const a=n.target,o=i.findSlot(a);if(!o)throw new Error(`Couldn't find target slot ${a} for path constraint ${n.name}.`);r.target=o,r.positionMode=p.Utils.enumValue(p.PositionMode,v(n,"positionMode","Percent")),r.spacingMode=p.Utils.enumValue(d.SpacingMode,v(n,"spacingMode","Length")),r.rotateMode=p.Utils.enumValue(p.RotateMode,v(n,"rotateMode","Tangent")),r.offsetRotation=v(n,"rotation",0),r.position=v(n,"position",0),r.positionMode==p.PositionMode.Fixed&&(r.position*=e),r.spacing=v(n,"spacing",0),r.spacingMode!=d.SpacingMode.Length&&r.spacingMode!=d.SpacingMode.Fixed||(r.spacing*=e),r.mixRotate=v(n,"mixRotate",1),r.mixX=v(n,"mixX",1),r.mixY=v(n,"mixY",r.mixX),i.pathConstraints.push(r)}if(s.skins)for(let t=0;t<s.skins.length;t++){const e=s.skins[t],n=new u.Skin(e.name);if(e.bones)for(let t=0;t<e.bones.length;t++){const s=e.bones[t],r=i.findBone(s);if(!r)throw new Error(`Couldn't find bone ${s} for skin ${e.name}.`);n.bones.push(r)}if(e.ik)for(let t=0;t<e.ik.length;t++){const s=e.ik[t],r=i.findIkConstraint(s);if(!r)throw new Error(`Couldn't find IK constraint ${s} for skin ${e.name}.`);n.constraints.push(r)}if(e.transform)for(let t=0;t<e.transform.length;t++){const s=e.transform[t],r=i.findTransformConstraint(s);if(!r)throw new Error(`Couldn't find transform constraint ${s} for skin ${e.name}.`);n.constraints.push(r)}if(e.path)for(let t=0;t<e.path.length;t++){const s=e.path[t],r=i.findPathConstraint(s);if(!r)throw new Error(`Couldn't find path constraint ${s} for skin ${e.name}.`);n.constraints.push(r)}for(const t in e.attachments){const s=i.findSlot(t);if(!s)throw new Error(`Couldn't find slot ${t} for skin ${e.name}.`);const r=e.attachments[t];for(const t in r){const e=this.readAttachment(r[t],n,s.index,t,i);e&&n.setAttachment(s.index,t,e)}}i.skins.push(n),"default"==n.name&&(i.defaultSkin=n)}for(let t=0,e=this.linkedMeshes.length;t<e;t++){const e=this.linkedMeshes[t],s=e.skin?i.findSkin(e.skin):i.defaultSkin;if(!s)throw new Error(`Skin not found: ${e.skin}`);const n=s.getAttachment(e.slotIndex,e.parent);if(!n)throw new Error(`Parent mesh not found: ${e.parent}`);e.mesh.timelineAttachment=e.inheritTimeline?n:e.mesh,e.mesh.setParentMesh(n)}if(this.linkedMeshes.length=0,s.events)for(const t in s.events){const e=s.events[t],n=new c.EventData(t);n.intValue=v(e,"int",0),n.floatValue=v(e,"float",0),n.stringValue=v(e,"string",""),n.audioPath=v(e,"audio",null),n.audioPath&&(n.volume=v(e,"volume",1),n.balance=v(e,"balance",0)),i.events.push(n)}if(s.animations)for(const t in s.animations){const e=s.animations[t];this.readAnimation(e,t,i)}return i}readAttachment(t,e,i,s,n){const r=this.scale;switch(s=v(t,"name",s),v(t,"type","region")){case"region":{const i=v(t,"path",s),n=this.readSequence(v(t,"sequence",null)),a=this.attachmentLoader.newRegionAttachment(e,s,i,n);if(!a)return null;a.path=i,a.x=v(t,"x",0)*r,a.y=v(t,"y",0)*r,a.scaleX=v(t,"scaleX",1),a.scaleY=v(t,"scaleY",1),a.rotation=v(t,"rotation",0),a.width=t.width*r,a.height=t.height*r,a.sequence=n;const o=v(t,"color",null);return o&&a.color.setFromString(o),a}case"boundingbox":{const i=this.attachmentLoader.newBoundingBoxAttachment(e,s);if(!i)return null;this.readVertices(t,i,t.vertexCount<<1);const n=v(t,"color",null);return n&&i.color.setFromString(n),i}case"mesh":case"linkedmesh":{const n=v(t,"path",s),a=this.readSequence(v(t,"sequence",null)),o=this.attachmentLoader.newMeshAttachment(e,s,n,a);if(!o)return null;o.path=n;const h=v(t,"color",null);h&&o.color.setFromString(h),o.width=v(t,"width",0)*r,o.height=v(t,"height",0)*r,o.sequence=a;const l=v(t,"parent",null);if(l)return this.linkedMeshes.push(new y(o,v(t,"skin",null),i,l,v(t,"timelines",!0))),o;const d=t.uvs;return this.readVertices(t,o,d.length),o.triangles=t.triangles,o.regionUVs=new Float32Array(d),o.edges=v(t,"edges",null),o.hullLength=2*v(t,"hull",0),o}case"path":{const i=this.attachmentLoader.newPathAttachment(e,s);if(!i)return null;i.closed=v(t,"closed",!1),i.constantSpeed=v(t,"constantSpeed",!0);const n=t.vertexCount;this.readVertices(t,i,n<<1);const a=p.Utils.newArray(n/3,0);for(let e=0;e<t.lengths.length;e++)a[e]=t.lengths[e]*r;i.lengths=a;const o=v(t,"color",null);return o&&i.color.setFromString(o),i}case"point":{const i=this.attachmentLoader.newPointAttachment(e,s);if(!i)return null;i.x=v(t,"x",0)*r,i.y=v(t,"y",0)*r,i.rotation=v(t,"rotation",0);const n=v(t,"color",null);return n&&i.color.setFromString(n),i}case"clipping":{const i=this.attachmentLoader.newClippingAttachment(e,s);if(!i)return null;const r=v(t,"end",null);if(null!=r){const t=n.findSlot(r);if(null==t)throw new Error(`Clipping end slot not found: ${r}`);i.endSlot=t}const a=t.vertexCount;this.readVertices(t,i,a<<1);const o=v(t,"color",null);return o&&i.color.setFromString(o),i}}return null}readSequence(t){if(null==t)return null;const e=new f.Sequence(v(t,"count",0));return e.start=v(t,"start",1),e.digits=v(t,"digits",0),e.setupIndex=v(t,"setup",0),e}readVertices(t,e,i){const s=this.scale;e.worldVerticesLength=i;const n=t.vertices;if(i==n.length){const t=p.Utils.toFloatArray(n);if(1!=s)for(let e=0,i=n.length;e<i;e++)t[e]*=s;return void(e.vertices=t)}const r=new Array,a=new Array;for(let t=0,e=n.length;t<e;){const e=n[t++];a.push(e);for(let i=t+4*e;t<i;t+=4)a.push(n[t]),r.push(n[t+1]*s),r.push(n[t+2]*s),r.push(n[t+3])}e.bones=a,e.vertices=p.Utils.toFloatArray(r)}readAnimation(t,e,i){const r=this.scale,a=new Array;if(t.slots)for(const e in t.slots){const n=t.slots[e],r=i.findSlot(e);if(!r)throw new Error(`Slot not found: ${e}`);const o=r.index;for(const t in n){const e=n[t];if(!e)continue;const i=e.length;if("attachment"==t){const t=new s.AttachmentTimeline(i,o);for(let s=0;s<i;s++){const i=e[s];t.setFrame(s,v(i,"time",0),v(i,"name",null))}a.push(t)}else if("rgba"==t){const t=new s.RGBATimeline(i,i<<2,o);let n=e[0],r=v(n,"time",0),h=p.Color.fromString(n.color);for(let i=0,s=0;;i++){t.setFrame(i,r,h.r,h.g,h.b,h.a);const a=e[i+1];if(!a){t.shrink(s);break}const o=v(a,"time",0),l=p.Color.fromString(a.color),d=n.curve;d&&(s=b(d,t,s,i,0,r,o,h.r,l.r,1),s=b(d,t,s,i,1,r,o,h.g,l.g,1),s=b(d,t,s,i,2,r,o,h.b,l.b,1),s=b(d,t,s,i,3,r,o,h.a,l.a,1)),r=o,h=l,n=a}a.push(t)}else if("rgb"==t){const t=new s.RGBTimeline(i,3*i,o);let n=e[0],r=v(n,"time",0),h=p.Color.fromString(n.color);for(let i=0,s=0;;i++){t.setFrame(i,r,h.r,h.g,h.b);const a=e[i+1];if(!a){t.shrink(s);break}const o=v(a,"time",0),l=p.Color.fromString(a.color),d=n.curve;d&&(s=b(d,t,s,i,0,r,o,h.r,l.r,1),s=b(d,t,s,i,1,r,o,h.g,l.g,1),s=b(d,t,s,i,2,r,o,h.b,l.b,1)),r=o,h=l,n=a}a.push(t)}else if("alpha"==t)a.push(x(e,new s.AlphaTimeline(i,i,o),0,1));else if("rgba2"==t){const t=new s.RGBA2Timeline(i,7*i,o);let n=e[0],r=v(n,"time",0),h=p.Color.fromString(n.light),l=p.Color.fromString(n.dark);for(let i=0,s=0;;i++){t.setFrame(i,r,h.r,h.g,h.b,h.a,l.r,l.g,l.b);const a=e[i+1];if(!a){t.shrink(s);break}const o=v(a,"time",0),d=p.Color.fromString(a.light),u=p.Color.fromString(a.dark),c=n.curve;c&&(s=b(c,t,s,i,0,r,o,h.r,d.r,1),s=b(c,t,s,i,1,r,o,h.g,d.g,1),s=b(c,t,s,i,2,r,o,h.b,d.b,1),s=b(c,t,s,i,3,r,o,h.a,d.a,1),s=b(c,t,s,i,4,r,o,l.r,u.r,1),s=b(c,t,s,i,5,r,o,l.g,u.g,1),s=b(c,t,s,i,6,r,o,l.b,u.b,1)),r=o,h=d,l=u,n=a}a.push(t)}else if("rgb2"==t){const t=new s.RGB2Timeline(i,6*i,o);let n=e[0],r=v(n,"time",0),h=p.Color.fromString(n.light),l=p.Color.fromString(n.dark);for(let i=0,s=0;;i++){t.setFrame(i,r,h.r,h.g,h.b,l.r,l.g,l.b);const a=e[i+1];if(!a){t.shrink(s);break}const o=v(a,"time",0),d=p.Color.fromString(a.light),u=p.Color.fromString(a.dark),c=n.curve;c&&(s=b(c,t,s,i,0,r,o,h.r,d.r,1),s=b(c,t,s,i,1,r,o,h.g,d.g,1),s=b(c,t,s,i,2,r,o,h.b,d.b,1),s=b(c,t,s,i,3,r,o,l.r,u.r,1),s=b(c,t,s,i,4,r,o,l.g,u.g,1),s=b(c,t,s,i,5,r,o,l.b,u.b,1)),r=o,h=d,l=u,n=a}a.push(t)}}}if(t.bones)for(const e in t.bones){const n=t.bones[e],o=i.findBone(e);if(!o)throw new Error(`Bone not found: ${e}`);const h=o.index;for(const t in n){const e=n[t],i=e.length;if(0!=i)if("rotate"===t)a.push(x(e,new s.RotateTimeline(i,i,h),0,1));else if("translate"===t){const t=new s.TranslateTimeline(i,i<<1,h);a.push(_(e,t,"x","y",0,r))}else if("translatex"===t){const t=new s.TranslateXTimeline(i,i,h);a.push(x(e,t,0,r))}else if("translatey"===t){const t=new s.TranslateYTimeline(i,i,h);a.push(x(e,t,0,r))}else if("scale"===t){const t=new s.ScaleTimeline(i,i<<1,h);a.push(_(e,t,"x","y",1,1))}else if("scalex"===t){const t=new s.ScaleXTimeline(i,i,h);a.push(x(e,t,1,1))}else if("scaley"===t){const t=new s.ScaleYTimeline(i,i,h);a.push(x(e,t,1,1))}else if("shear"===t){const t=new s.ShearTimeline(i,i<<1,h);a.push(_(e,t,"x","y",0,1))}else if("shearx"===t){const t=new s.ShearXTimeline(i,i,h);a.push(x(e,t,0,1))}else if("sheary"===t){const t=new s.ShearYTimeline(i,i,h);a.push(x(e,t,0,1))}}}if(t.ik)for(const e in t.ik){const n=t.ik[e];let o=n[0];if(!o)continue;const h=i.findIkConstraint(e);if(!h)throw new Error(`IK Constraint not found: ${e}`);const l=i.ikConstraints.indexOf(h),d=new s.IkConstraintTimeline(n.length,n.length<<1,l);let u=v(o,"time",0),c=v(o,"mix",1),p=v(o,"softness",0)*r;for(let t=0,e=0;;t++){d.setFrame(t,u,c,p,v(o,"bendPositive",!0)?1:-1,v(o,"compress",!1),v(o,"stretch",!1));const i=n[t+1];if(!i){d.shrink(e);break}const s=v(i,"time",0),a=v(i,"mix",1),h=v(i,"softness",0)*r,l=o.curve;l&&(e=b(l,d,e,t,0,u,s,c,a,1),e=b(l,d,e,t,1,u,s,p,h,r)),u=s,c=a,p=h,o=i}a.push(d)}if(t.transform)for(const e in t.transform){const n=t.transform[e];let r=n[0];if(!r)continue;const o=i.findTransformConstraint(e);if(!o)throw new Error(`Transform constraint not found: ${e}`);const h=i.transformConstraints.indexOf(o),l=new s.TransformConstraintTimeline(n.length,6*n.length,h);let d=v(r,"time",0),u=v(r,"mixRotate",1),c=v(r,"mixX",1),p=v(r,"mixY",c),m=v(r,"mixScaleX",1),f=v(r,"mixScaleY",m);const g=v(r,"mixShearY",1);for(let t=0,e=0;;t++){l.setFrame(t,d,u,c,p,m,f,g);const i=n[t+1];if(!i){l.shrink(e);break}const s=v(i,"time",0),a=v(i,"mixRotate",1),o=v(i,"mixX",1),h=v(i,"mixY",o),y=v(i,"mixScaleX",1),x=v(i,"mixScaleY",y),_=v(i,"mixShearY",1),S=r.curve;S&&(e=b(S,l,e,t,0,d,s,u,a,1),e=b(S,l,e,t,1,d,s,c,o,1),e=b(S,l,e,t,2,d,s,p,h,1),e=b(S,l,e,t,3,d,s,m,y,1),e=b(S,l,e,t,4,d,s,f,x,1),e=b(S,l,e,t,5,d,s,g,_,1)),d=s,u=a,c=o,p=h,m=y,f=x,m=y,r=i}a.push(l)}if(t.path)for(const e in t.path){const n=t.path[e],o=i.findPathConstraint(e);if(!o)throw new Error(`Path constraint not found: ${e}`);const h=i.pathConstraints.indexOf(o);for(const t in n){const e=n[t];let i=e[0];if(!i)continue;const l=e.length;if("position"===t){const t=new s.PathConstraintPositionTimeline(l,l,h);a.push(x(e,t,0,o.positionMode==p.PositionMode.Fixed?r:1))}else if("spacing"===t){const t=new s.PathConstraintSpacingTimeline(l,l,h);a.push(x(e,t,0,o.spacingMode==d.SpacingMode.Length||o.spacingMode==d.SpacingMode.Fixed?r:1))}else if("mix"===t){const t=new s.PathConstraintMixTimeline(l,3*l,h);let n=v(i,"time",0),r=v(i,"mixRotate",1),o=v(i,"mixX",1),d=v(i,"mixY",o);for(let s=0,a=0;;s++){t.setFrame(s,n,r,o,d);const h=e[s+1];if(!h){t.shrink(a);break}const l=v(h,"time",0),u=v(h,"mixRotate",1),c=v(h,"mixX",1),p=v(h,"mixY",c),m=i.curve;m&&(a=b(m,t,a,s,0,n,l,r,u,1),a=b(m,t,a,s,1,n,l,o,c,1),a=b(m,t,a,s,2,n,l,d,p,1)),n=l,r=u,o=c,d=p,i=h}a.push(t)}}}if(t.deform){t.attachments={};for(const e in t.deform){const i=t.deform[e],s=t.attachments[e]={};for(const t in i){const e=i[t],n=s[t]={};for(const t in e)n[t]={deform:e[t]}}}}if(t.attachments)for(const e in t.attachments){const n=t.attachments[e],o=i.findSkin(e);if(null!=o)for(const t in n){const e=n[t],h=i.findSlot(t);if(!h)throw new Error(`Slot not found: ${t}`);const l=h.index;for(const t in e){const i=e[t],n=o.getAttachment(l,t);for(const t in i){const e=i[t];let o=e[0];if(o)if("deform"==t){const t=n.bones,i=n.vertices,h=t?i.length/3*2:i.length,d=new s.DeformTimeline(e.length,e.length,l,n);let u=v(o,"time",0);for(let s=0,n=0;;s++){let a;const l=v(o,"vertices",null);if(l){a=p.Utils.newFloatArray(h);const e=v(o,"offset",0);if(p.Utils.arrayCopy(l,0,a,e,l.length),1!=r)for(let t=e,i=t+l.length;t<i;t++)a[t]*=r;if(!t)for(let t=0;t<h;t++)a[t]+=i[t]}else a=t?p.Utils.newFloatArray(h):i;d.setFrame(s,u,a);const c=e[s+1];if(!c){d.shrink(n);break}const m=v(c,"time",0),f=o.curve;f&&(n=b(f,d,n,s,0,u,m,0,1,1)),u=m,o=c}a.push(d)}else if("sequence"==t){const t=new s.SequenceTimeline(e.length,l,n);let i=0;for(let s=0;s<e.length;s++){const n=v(o,"delay",i),r=v(o,"time",0),a=f.SequenceMode[v(o,"mode","hold")],h=v(o,"index",0);t.setFrame(s,r,a,h,n),i=n,o=e[s+1]}a.push(t)}}}}else if(p.settings.FAIL_ON_NON_EXISTING_SKIN)throw new Error(`Skin not found: ${e}`)}if(t.drawOrder){const e=new s.DrawOrderTimeline(t.drawOrder.length),n=i.slots.length;let r=0;for(let s=0;s<t.drawOrder.length;s++,r++){const a=t.drawOrder[s];let o=null;const h=v(a,"offsets",null);if(h){o=p.Utils.newArray(n,-1);const t=p.Utils.newArray(n-h.length,0);let e=0,s=0;for(let n=0;n<h.length;n++){const r=h[n],a=i.findSlot(r.slot);if(!a)throw new Error(`Slot not found: ${a}`);const l=a.index;for(;e!=l;)t[s++]=e++;o[e+r.offset]=e++}for(;e<n;)t[s++]=e++;for(let e=n-1;e>=0;e--)-1==o[e]&&(o[e]=t[--s])}e.setFrame(r,v(a,"time",0),o)}a.push(e)}if(t.events){const e=new s.EventTimeline(t.events.length);let r=0;for(let s=0;s<t.events.length;s++,r++){const a=t.events[s],o=i.findEvent(a.name);if(!o)throw new Error(`Event not found: ${a.name}`);const h=new n.Event(p.Utils.toSinglePrecision(v(a,"time",0)),o);h.intValue=v(a,"int",o.intValue),h.floatValue=v(a,"float",o.floatValue),h.stringValue=v(a,"string",o.stringValue),h.data.audioPath&&(h.volume=v(a,"volume",1),h.balance=v(a,"balance",0)),e.setFrame(r,h)}a.push(e)}let o=0;for(let t=0,e=a.length;t<e;t++)o=Math.max(o,a[t].getDuration());if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");i.animations.push(new s.Animation(e,a,o))}static blendModeFromString(t){if("normal"==(t=t.toLowerCase()))return m.BLEND_MODES.NORMAL;if("additive"==t)return m.BLEND_MODES.ADD;if("multiply"==t)return m.BLEND_MODES.MULTIPLY;if("screen"==t)return m.BLEND_MODES.SCREEN;throw new Error(`Unknown blend mode: ${t}`)}}class y{constructor(t,e,i,s,n){this.mesh=t,this.skin=e,this.slotIndex=i,this.parent=s,this.inheritTimeline=n}}function x(t,e,i,s){let n=t[0],r=v(n,"time",0),a=v(n,"value",i)*s,o=0;for(let h=0;;h++){e.setFrame(h,r,a);const l=t[h+1];if(!l)return e.shrink(o),e;const d=v(l,"time",0),u=v(l,"value",i)*s;n.curve&&(o=b(n.curve,e,o,h,0,r,d,a,u,s)),r=d,a=u,n=l}}function _(t,e,i,s,n,r){let a=t[0],o=v(a,"time",0),h=v(a,i,n)*r,l=v(a,s,n)*r,d=0;for(let u=0;;u++){e.setFrame(u,o,h,l);const c=t[u+1];if(!c)return e.shrink(d),e;const p=v(c,"time",0),m=v(c,i,n)*r,f=v(c,s,n)*r,g=a.curve;g&&(d=b(g,e,d,u,0,o,p,h,m,r),d=b(g,e,d,u,1,o,p,l,f,r)),o=p,h=m,l=f,a=c}}function b(t,e,i,s,n,r,a,o,h,l){if("stepped"==t)return e.setStepped(s),i;const d=n<<2,u=t[d],c=t[d+1]*l,p=t[d+2],m=t[d+3]*l;return e.setBezier(i,s,n,r,o,u,c,p,m,a,h),i+1}function v(t,e,i){return void 0!==t[e]?t[e]:i}e.SkeletonJson=g},78745:(t,e,i)=>{"use strict";i(77870),i(59663);var s=i(82803);i(55600),i(81845);class n{constructor(t,e,i){this.slotIndex=t,this.name=e,this.attachment=i}}e.Skin=class{constructor(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!t)throw new Error("name cannot be null.");this.name=t}setAttachment(t,e,i){if(!i)throw new Error("attachment cannot be null.");const s=this.attachments;t>=s.length&&(s.length=t+1),s[t]||(s[t]={}),s[t][e]=i}addSkin(t){for(let e=0;e<t.bones.length;e++){const i=t.bones[e];let s=!1;for(let t=0;t<this.bones.length;t++)if(this.bones[t]==i){s=!0;break}s||this.bones.push(i)}for(let e=0;e<t.constraints.length;e++){const i=t.constraints[e];let s=!1;for(let t=0;t<this.constraints.length;t++)if(this.constraints[t]==i){s=!0;break}s||this.constraints.push(i)}const e=t.getAttachments();for(let t=0;t<e.length;t++){const i=e[t];this.setAttachment(i.slotIndex,i.name,i.attachment)}}copySkin(t){for(let e=0;e<t.bones.length;e++){const i=t.bones[e];let s=!1;for(let t=0;t<this.bones.length;t++)if(this.bones[t]==i){s=!0;break}s||this.bones.push(i)}for(let e=0;e<t.constraints.length;e++){const i=t.constraints[e];let s=!1;for(let t=0;t<this.constraints.length;t++)if(this.constraints[t]==i){s=!0;break}s||this.constraints.push(i)}const e=t.getAttachments();for(let t=0;t<e.length;t++){const i=e[t];i.attachment&&(i.attachment instanceof s.MeshAttachment?(i.attachment=i.attachment.newLinkedMesh(),this.setAttachment(i.slotIndex,i.name,i.attachment)):(i.attachment=i.attachment.copy(),this.setAttachment(i.slotIndex,i.name,i.attachment)))}}getAttachment(t,e){const i=this.attachments[t];return i?i[e]:null}removeAttachment(t,e){const i=this.attachments[t];i&&delete i[e]}getAttachments(){const t=new Array;for(let e=0;e<this.attachments.length;e++){const i=this.attachments[e];if(i)for(const s in i){const r=i[s];r&&t.push(new n(e,s,r))}}return t}getAttachmentsForSlot(t,e){const i=this.attachments[t];if(i)for(const s in i){const r=i[s];r&&e.push(new n(t,s,r))}}clear(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}attachAll(t,e){let i=0;for(let s=0;s<t.slots.length;s++){const n=t.slots[s],r=n.getAttachment();if(r&&i<e.attachments.length){const t=e.attachments[i];for(const e in t){if(r==t[e]){const t=this.getAttachment(i,e);t&&n.setAttachment(t);break}}}i++}}},e.SkinEntry=n},13633:(t,e,i)=>{"use strict";var s=i(59663),n=i(77870);e.Slot=class{constructor(t,e){if(this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!t)throw new Error("data cannot be null.");if(!e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new s.Color,this.darkColor=t.darkColor?new s.Color:null,this.setToSetupPose(),this.blendMode=this.data.blendMode}getSkeleton(){return this.bone.skeleton}getAttachment(){return this.attachment}setAttachment(t){this.attachment!=t&&(t instanceof n.VertexAttachment&&this.attachment instanceof n.VertexAttachment&&t.timelineAttachment==this.attachment.timelineAttachment||(this.deform.length=0),this.attachment=t,this.sequenceIndex=-1)}setToSetupPose(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null}}},61248:(t,e,i)=>{"use strict";var s=i(59663),n=i(48742);e.SlotData=class{constructor(t,e,i){if(this.index=0,this.color=new s.Color(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=n.BLEND_MODES.NORMAL,t<0)throw new Error("index must be >= 0.");if(!e)throw new Error("name cannot be null.");if(!i)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=i}}},51442:(t,e,i)=>{"use strict";var s=i(59663);e.TransformConstraint=class{constructor(t,e){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new s.Vector2,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY,this.mixScaleX=t.mixScaleX,this.mixScaleY=t.mixScaleY,this.mixShearY=t.mixShearY,this.bones=new Array;for(let i=0;i<t.bones.length;i++){const s=e.findBone(t.bones[i].name);if(!s)throw new Error(`Couldn't find bone ${t.bones[i].name}.`);this.bones.push(s)}const i=e.findBone(t.target.name);if(!i)throw new Error(`Couldn't find target bone ${t.target.name}.`);this.target=i}isActive(){return this.active}update(){0==this.mixRotate&&0==this.mixX&&0==this.mixY&&0==this.mixScaleX&&0==this.mixScaleX&&0==this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())}applyAbsoluteWorld(){const t=this.mixRotate,e=this.mixX,i=this.mixY,n=this.mixScaleX,r=this.mixScaleY,a=this.mixShearY,o=0!=e||0!=i,h=this.target,l=h.matrix,d=l.a,u=l.c,c=l.b,p=l.d,m=d*p-u*c>0?s.MathUtils.degRad:-s.MathUtils.degRad,f=this.data.offsetRotation*m,g=this.data.offsetShearY*m,y=this.bones;for(let l=0,m=y.length;l<m;l++){const m=y[l],x=m.matrix;if(0!=t){const e=x.a,i=x.c,n=x.b,r=x.d;let a=Math.atan2(c,d)-Math.atan2(n,e)+f;a>s.MathUtils.PI?a-=s.MathUtils.PI2:a<-s.MathUtils.PI&&(a+=s.MathUtils.PI2),a*=t;const o=Math.cos(a),h=Math.sin(a);x.a=o*e-h*n,x.c=o*i-h*r,x.b=h*e+o*n,x.d=h*i+o*r}if(o){const t=this.temp;h.localToWorld(t.set(this.data.offsetX,this.data.offsetY)),x.tx+=(t.x-x.tx)*e,x.ty+=(t.y-x.ty)*i}if(0!=n){let t=Math.sqrt(x.a*x.a+x.b*x.b);0!=t&&(t=(t+(Math.sqrt(d*d+c*c)-t+this.data.offsetScaleX)*n)/t),x.a*=t,x.b*=t}if(0!=r){let t=Math.sqrt(x.c*x.c+x.d*x.d);0!=t&&(t=(t+(Math.sqrt(u*u+p*p)-t+this.data.offsetScaleY)*r)/t),x.c*=t,x.d*=t}if(a>0){const t=x.c,e=x.d,i=Math.atan2(e,t);let n=Math.atan2(p,u)-Math.atan2(c,d)-(i-Math.atan2(x.b,x.a));n>s.MathUtils.PI?n-=s.MathUtils.PI2:n<-s.MathUtils.PI&&(n+=s.MathUtils.PI2),n=i+(n+g)*a;const r=Math.sqrt(t*t+e*e);x.c=Math.cos(n)*r,x.d=Math.sin(n)*r}m.updateAppliedTransform()}}applyRelativeWorld(){const t=this.mixRotate,e=this.mixX,i=this.mixY,n=this.mixScaleX,r=this.mixScaleY,a=this.mixShearY,o=0!=e||0!=i,h=this.target,l=h.matrix,d=l.a,u=l.c,c=l.b,p=l.d,m=d*p-u*c>0?s.MathUtils.degRad:-s.MathUtils.degRad,f=this.data.offsetRotation*m,g=this.data.offsetShearY*m,y=this.bones;for(let l=0,m=y.length;l<m;l++){const m=y[l],x=m.matrix;if(0!=t){const e=x.a,i=x.c,n=x.b,r=x.d;let a=Math.atan2(c,d)+f;a>s.MathUtils.PI?a-=s.MathUtils.PI2:a<-s.MathUtils.PI&&(a+=s.MathUtils.PI2),a*=t;const o=Math.cos(a),h=Math.sin(a);x.a=o*e-h*n,x.c=o*i-h*r,x.b=h*e+o*n,x.d=h*i+o*r}if(o){const t=this.temp;h.localToWorld(t.set(this.data.offsetX,this.data.offsetY)),x.tx+=t.x*e,x.ty+=t.y*i}if(0!=n){const t=(Math.sqrt(d*d+c*c)-1+this.data.offsetScaleX)*n+1;x.a*=t,x.b*=t}if(0!=r){const t=(Math.sqrt(u*u+p*p)-1+this.data.offsetScaleY)*r+1;x.c*=t,x.d*=t}if(a>0){let t=Math.atan2(p,u)-Math.atan2(c,d);t>s.MathUtils.PI?t-=s.MathUtils.PI2:t<-s.MathUtils.PI&&(t+=s.MathUtils.PI2);const e=x.c,i=x.d;t=Math.atan2(i,e)+(t-s.MathUtils.PI/2+g)*a;const n=Math.sqrt(e*e+i*i);x.c=Math.cos(t)*n,x.d=Math.sin(t)*n}m.updateAppliedTransform()}}applyAbsoluteLocal(){const t=this.mixRotate,e=this.mixX,i=this.mixY,s=this.mixScaleX,n=this.mixScaleY,r=this.mixShearY,a=this.target,o=this.bones;for(let h=0,l=o.length;h<l;h++){const l=o[h];let d=l.arotation;if(0!=t){let e=a.arotation-d+this.data.offsetRotation;e-=360*(16384-(16384.499999999996-e/360|0)),d+=e*t}let u=l.ax,c=l.ay;u+=(a.ax-u+this.data.offsetX)*e,c+=(a.ay-c+this.data.offsetY)*i;let p=l.ascaleX,m=l.ascaleY;0!=s&&0!=p&&(p=(p+(a.ascaleX-p+this.data.offsetScaleX)*s)/p),0!=n&&0!=m&&(m=(m+(a.ascaleY-m+this.data.offsetScaleY)*n)/m);let f=l.ashearY;if(0!=r){let t=a.ashearY-f+this.data.offsetShearY;t-=360*(16384-(16384.499999999996-t/360|0)),f+=t*r}l.updateWorldTransformWith(u,c,d,p,m,l.ashearX,f)}}applyRelativeLocal(){const t=this.mixRotate,e=this.mixX,i=this.mixY,s=this.mixScaleX,n=this.mixScaleY,r=this.mixShearY,a=this.target,o=this.bones;for(let h=0,l=o.length;h<l;h++){const l=o[h],d=l.arotation+(a.arotation+this.data.offsetRotation)*t,u=l.ax+(a.ax+this.data.offsetX)*e,c=l.ay+(a.ay+this.data.offsetY)*i,p=l.ascaleX*((a.ascaleX-1+this.data.offsetScaleX)*s+1),m=l.ascaleY*((a.ascaleY-1+this.data.offsetScaleY)*n+1),f=l.ashearY+(a.ashearY+this.data.offsetShearY)*r;l.updateWorldTransformWith(u,c,d,p,m,l.ashearX,f)}}}},11262:(t,e,i)=>{"use strict";var s=i(38923);class n extends s.ConstraintData{constructor(t){super(t,0,!1),this.bones=new Array,this._target=null,this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1}set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}}e.TransformConstraintData=n},77870:(t,e,i)=>{"use strict";var s=i(59663);class n{constructor(t){if(!t)throw new Error("name cannot be null.");this.name=t}}const r=class extends n{constructor(t){super(t),this.id=r.nextID++,this.bones=null,this.vertices=[],this.worldVerticesLength=0,this.timelineAttachment=this}computeWorldVerticesOld(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)}computeWorldVertices(t,e,i,s,n,r){i=n+(i>>1)*r;const a=t.bone.skeleton,o=t.deform;let h=this.vertices;const l=this.bones;if(!l){o.length>0&&(h=o);const a=t.bone.matrix,l=a.tx,d=a.ty,u=a.a,c=a.c,p=a.b,m=a.d;for(let t=e,a=n;a<i;t+=2,a+=r){const e=h[t],i=h[t+1];s[a]=e*u+i*c+l,s[a+1]=e*p+i*m+d}return}let d=0,u=0;for(let t=0;t<e;t+=2){const t=l[d];d+=t+1,u+=t}const c=a.bones;if(0==o.length)for(let t=n,e=3*u;t<i;t+=r){let i=0,n=0,r=l[d++];for(r+=d;d<r;d++,e+=3){const t=c[l[d]].matrix,s=h[e],r=h[e+1],a=h[e+2];i+=(s*t.a+r*t.c+t.tx)*a,n+=(s*t.b+r*t.d+t.ty)*a}s[t]=i,s[t+1]=n}else{const t=o;for(let e=n,a=3*u,o=u<<1;e<i;e+=r){let i=0,n=0,r=l[d++];for(r+=d;d<r;d++,a+=3,o+=2){const e=c[l[d]].matrix,s=h[a]+t[o],r=h[a+1]+t[o+1],u=h[a+2];i+=(s*e.a+r*e.c+e.tx)*u,n+=(s*e.b+r*e.d+e.ty)*u}s[e]=i,s[e+1]=n}}}copyTo(t){this.bones?(t.bones=new Array(this.bones.length),s.Utils.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,this.vertices&&(t.vertices=s.Utils.newFloatArray(this.vertices.length),s.Utils.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)),t.worldVerticesLength=this.worldVerticesLength,t.timelineAttachment=this.timelineAttachment}};let a=r;a.nextID=0,e.Attachment=n,e.VertexAttachment=a},32064:(t,e,i)=>{"use strict";var s=i(77870),n=i(59663);class r extends s.VertexAttachment{constructor(t){super(t),this.type=n.AttachmentType.BoundingBox,this.color=new n.Color(1,1,1,1)}copy(){const t=new r(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t}}e.BoundingBoxAttachment=r},18226:(t,e,i)=>{"use strict";var s=i(77870),n=i(59663);class r extends s.VertexAttachment{constructor(t){super(t),this.type=n.AttachmentType.Clipping,this.endSlot=null,this.color=new n.Color(.2275,.2275,.8078,1)}copy(){const t=new r(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t}}e.ClippingAttachment=r},82803:(t,e,i)=>{"use strict";var s=i(77870),n=i(59663);class r extends s.VertexAttachment{constructor(t,e){super(t),this.type=n.AttachmentType.Mesh,this.region=null,this.triangles=[],this.color=new n.Color(1,1,1,1),this.width=0,this.height=0,this.hullLength=0,this.edges=[],this.parentMesh=null,this.sequence=null,this.tempColor=new n.Color(0,0,0,0),this.path=e}getParentMesh(){return this.parentMesh}setParentMesh(t){this.parentMesh=t,t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}copy(){if(this.parentMesh)return this.newLinkedMesh();const t=new r(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Float32Array(this.regionUVs.length),n.Utils.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.triangles=new Array(this.triangles.length),n.Utils.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,t.sequence=null!=this.sequence?this.sequence.copy():null,this.edges&&(t.edges=new Array(this.edges.length),n.Utils.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t}computeWorldVertices(t,e,i,s,n,r){null!=this.sequence&&this.sequence.apply(t,this),super.computeWorldVertices(t,e,i,s,n,r)}newLinkedMesh(){const t=new r(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),t.timelineAttachment=this.timelineAttachment,t.setParentMesh(this.parentMesh?this.parentMesh:this),t}}e.MeshAttachment=r},88434:(t,e,i)=>{"use strict";var s=i(77870),n=i(59663);class r extends s.VertexAttachment{constructor(t){super(t),this.type=n.AttachmentType.Path,this.lengths=[],this.closed=!1,this.constantSpeed=!1,this.color=new n.Color(1,1,1,1)}copy(){const t=new r(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),n.Utils.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t}}e.PathAttachment=r},12720:(t,e,i)=>{"use strict";var s=i(77870),n=i(59663);class r extends s.VertexAttachment{constructor(t){super(t),this.type=n.AttachmentType.Point,this.x=0,this.y=0,this.rotation=0,this.color=new n.Color(.38,.94,0,1)}computeWorldPosition(t,e){const i=t.matrix;return e.x=this.x*i.a+this.y*i.c+t.worldX,e.y=this.x*i.b+this.y*i.d+t.worldY,e}computeWorldRotation(t){const e=t.matrix,i=n.MathUtils.cosDeg(this.rotation),s=n.MathUtils.sinDeg(this.rotation),r=i*e.a+s*e.c,a=i*e.b+s*e.d;return Math.atan2(a,r)*n.MathUtils.radDeg}copy(){const t=new r(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t}}e.PointAttachment=r},55600:(t,e,i)=>{"use strict";var s=i(77870),n=i(59663);const r=class extends s.Attachment{constructor(t,e){super(t),this.type=n.AttachmentType.Region,this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.width=0,this.height=0,this.color=new n.Color(1,1,1,1),this.rendererObject=null,this.region=null,this.sequence=null,this.offset=n.Utils.newFloatArray(8),this.uvs=n.Utils.newFloatArray(8),this.tempColor=new n.Color(1,1,1,1),this.path=e}updateRegion(){if(!this.region)throw new Error("Region not set.");const t=this.region,e=this.width/this.region.originalWidth*this.scaleX,i=this.height/this.region.originalHeight*this.scaleY,s=-this.width/2*this.scaleX+this.region.offsetX*e,n=-this.height/2*this.scaleY+this.region.offsetY*i,r=s+this.region.width*e,a=n+this.region.height*i,o=this.rotation*Math.PI/180,h=Math.cos(o),l=Math.sin(o),d=this.x,u=this.y,c=s*h+d,p=s*l,m=n*h+u,f=n*l,g=r*h+d,y=r*l,x=a*h+u,_=a*l,b=this.offset;b[0]=c-f,b[1]=m+p,b[2]=c-_,b[3]=x+p,b[4]=g-_,b[5]=x+y,b[6]=g-f,b[7]=m+y;const v=this.uvs;90==t.degrees?(v[2]=t.u,v[3]=t.v2,v[4]=t.u,v[5]=t.v,v[6]=t.u2,v[7]=t.v,v[0]=t.u2,v[1]=t.v2):(v[0]=t.u,v[1]=t.v2,v[2]=t.u,v[3]=t.v,v[4]=t.u2,v[5]=t.v,v[6]=t.u2,v[7]=t.v2)}computeWorldVertices(t,e,i,s){null!=this.sequence&&this.sequence.apply(t,this);const n=t.bone,r=this.offset,a=n.matrix,o=a.tx,h=a.ty,l=a.a,d=a.c,u=a.b,c=a.d;let p=0,m=0;p=r[0],m=r[1],e[i]=p*l+m*d+o,e[i+1]=p*u+m*c+h,i+=s,p=r[2],m=r[3],e[i]=p*l+m*d+o,e[i+1]=p*u+m*c+h,i+=s,p=r[4],m=r[5],e[i]=p*l+m*d+o,e[i+1]=p*u+m*c+h,i+=s,p=r[6],m=r[7],e[i]=p*l+m*d+o,e[i+1]=p*u+m*c+h}copy(){const t=new r(this.name,this.path);return t.region=this.region,t.rendererObject=this.rendererObject,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,n.Utils.arrayCopy(this.uvs,0,t.uvs,0,8),n.Utils.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t.sequence=null!=this.sequence?this.sequence.copy():null,t}};let a=r;a.X1=0,a.Y1=1,a.C1R=2,a.C1G=3,a.C1B=4,a.C1A=5,a.U1=6,a.V1=7,a.X2=8,a.Y2=9,a.C2R=10,a.C2G=11,a.C2B=12,a.C2A=13,a.U2=14,a.V2=15,a.X3=16,a.Y3=17,a.C3R=18,a.C3G=19,a.C3B=20,a.C3A=21,a.U3=22,a.V3=23,a.X4=24,a.Y4=25,a.C4R=26,a.C4G=27,a.C4B=28,a.C4A=29,a.U4=30,a.V4=31,e.RegionAttachment=a},81845:(t,e,i)=>{"use strict";var s=i(59663);const n=class{constructor(t){this.id=n.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(t)}copy(){const t=new n(this.regions.length);return s.Utils.arrayCopy(this.regions,0,t.regions,0,this.regions.length),t.start=this.start,t.digits=this.digits,t.setupIndex=this.setupIndex,t}apply(t,e){let i=t.sequenceIndex;-1==i&&(i=this.setupIndex),i>=this.regions.length&&(i=this.regions.length-1);const s=this.regions[i];e.region!=s&&(e.region=s)}getPath(t,e){let i=t;const s=(this.start+e).toString();for(let t=this.digits-s.length;t>0;t--)i+="0";return i+=s,i}static nextID(){return n._nextID++}};let r=n;r._nextID=0;var a=(t=>(t[t.hold=0]="hold",t[t.once=1]="once",t[t.loop=2]="loop",t[t.pingpong=3]="pingpong",t[t.onceReverse=4]="onceReverse",t[t.loopReverse=5]="loopReverse",t[t.pingpongReverse=6]="pingpongReverse",t))(a||{});e.Sequence=r,e.SequenceMode=a,e.SequenceModeValues=[0,1,2,3,4,5,6]},3531:(t,e,i)=>{"use strict";var s=i(77870),n=i(32064),r=i(18226),a=i(82803),o=i(88434),h=i(12720),l=i(55600),d=i(81845),u=i(39111),c=i(62425),p=i(5899),m=i(85219),f=i(75078),g=i(66329),y=i(38923),x=i(91387),_=i(78125),b=i(19269),v=i(25460),S=i(99566),T=i(79546),w=i(92374),E=i(31049),C=i(86982),A=i(66983),M=i(12185),P=i(78745),B=i(13633),R=i(61248),I=i(51442),k=i(11262),O=i(50417);e.Attachment=s.Attachment,e.VertexAttachment=s.VertexAttachment,e.BoundingBoxAttachment=n.BoundingBoxAttachment,e.ClippingAttachment=r.ClippingAttachment,e.MeshAttachment=a.MeshAttachment,e.PathAttachment=o.PathAttachment,e.PointAttachment=h.PointAttachment,e.RegionAttachment=l.RegionAttachment,e.Sequence=d.Sequence,e.SequenceMode=d.SequenceMode,e.SequenceModeValues=d.SequenceModeValues,e.AlphaTimeline=u.AlphaTimeline,e.Animation=u.Animation,e.AttachmentTimeline=u.AttachmentTimeline,e.CurveTimeline=u.CurveTimeline,e.CurveTimeline1=u.CurveTimeline1,e.CurveTimeline2=u.CurveTimeline2,e.DeformTimeline=u.DeformTimeline,e.DrawOrderTimeline=u.DrawOrderTimeline,e.EventTimeline=u.EventTimeline,e.IkConstraintTimeline=u.IkConstraintTimeline,e.PathConstraintMixTimeline=u.PathConstraintMixTimeline,e.PathConstraintPositionTimeline=u.PathConstraintPositionTimeline,e.PathConstraintSpacingTimeline=u.PathConstraintSpacingTimeline,e.RGB2Timeline=u.RGB2Timeline,e.RGBA2Timeline=u.RGBA2Timeline,e.RGBATimeline=u.RGBATimeline,e.RGBTimeline=u.RGBTimeline,e.RotateTimeline=u.RotateTimeline,e.ScaleTimeline=u.ScaleTimeline,e.ScaleXTimeline=u.ScaleXTimeline,e.ScaleYTimeline=u.ScaleYTimeline,e.SequenceTimeline=u.SequenceTimeline,e.ShearTimeline=u.ShearTimeline,e.ShearXTimeline=u.ShearXTimeline,e.ShearYTimeline=u.ShearYTimeline,e.Timeline=u.Timeline,e.TransformConstraintTimeline=u.TransformConstraintTimeline,e.TranslateTimeline=u.TranslateTimeline,e.TranslateXTimeline=u.TranslateXTimeline,e.TranslateYTimeline=u.TranslateYTimeline,e.AnimationState=c.AnimationState,e.AnimationStateAdapter=c.AnimationStateAdapter,e.EventQueue=c.EventQueue,e.EventType=c.EventType,e.TrackEntry=c.TrackEntry,e.AnimationStateData=p.AnimationStateData,e.AtlasAttachmentLoader=m.AtlasAttachmentLoader,e.Bone=f.Bone,e.BoneData=g.BoneData,e.ConstraintData=y.ConstraintData,e.Event=x.Event,e.EventData=_.EventData,e.IkConstraint=b.IkConstraint,e.IkConstraintData=v.IkConstraintData,e.PathConstraint=S.PathConstraint,e.PathConstraintData=T.PathConstraintData,e.SpacingMode=T.SpacingMode,e.Skeleton=w.Skeleton,e.SkeletonBinary=E.SkeletonBinary,e.SkeletonBounds=C.SkeletonBounds,e.SkeletonData=A.SkeletonData,e.SkeletonJson=M.SkeletonJson,e.Skin=P.Skin,e.SkinEntry=P.SkinEntry,e.Slot=B.Slot,e.SlotData=R.SlotData,e.TransformConstraint=I.TransformConstraint,e.TransformConstraintData=k.TransformConstraintData,e.Spine=O.Spine},76048:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(27191),r=i(79743),a=i(87373);n.DisplayObject.mixin(a.accessibleTarget);class o{constructor(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(s.utils.isMobile.tablet||s.utils.isMobile.phone)&&this.createTouchHook();const e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const t=document.createElement("button");t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.style.zIndex=2..toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",(()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()})),document.body.appendChild(t),this._hookDiv=t}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(t){if(!t.visible||!t.accessibleChildren)return;t.accessible&&t.isInteractive()&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);const e=t.children;if(e)for(let t=0;t<e.length;t++)this.updateAccessibleObjects(e[t])}update(){const t=performance.now();if(s.utils.isMobile.android.device&&t<this.androidUpdateCount)return;if(this.androidUpdateCount=t+this.androidUpdateFrequency,!this.renderer.renderingToScreen)return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:e,y:i,width:n,height:r}=this.renderer.view.getBoundingClientRect(),{width:a,height:o,resolution:h}=this.renderer,l=n/a*h,d=r/o*h;let u=this.div;u.style.left=`${e}px`,u.style.top=`${i}px`,u.style.width=`${a}px`,u.style.height=`${o}px`;for(let t=0;t<this.children.length;t++){const e=this.children[t];if(e.renderId!==this.renderId)e._accessibleActive=!1,s.utils.removeItems(this.children,t,1),this.div.removeChild(e._accessibleDiv),this.pool.push(e._accessibleDiv),e._accessibleDiv=null,t--;else{u=e._accessibleDiv;let t=e.hitArea;const i=e.worldTransform;e.hitArea?(u.style.left=(i.tx+t.x*i.a)*l+"px",u.style.top=(i.ty+t.y*i.d)*d+"px",u.style.width=t.width*i.a*l+"px",u.style.height=t.height*i.d*d+"px"):(t=e.getBounds(),this.capHitArea(t),u.style.left=t.x*l+"px",u.style.top=t.y*d+"px",u.style.width=t.width*l+"px",u.style.height=t.height*d+"px",u.title!==e.accessibleTitle&&null!==e.accessibleTitle&&(u.title=e.accessibleTitle),u.getAttribute("aria-label")!==e.accessibleHint&&null!==e.accessibleHint&&u.setAttribute("aria-label",e.accessibleHint)),e.accessibleTitle===u.title&&e.tabIndex===u.tabIndex||(u.title=e.accessibleTitle,u.tabIndex=e.tabIndex,this.debug&&this.updateDebugHTML(u))}}this.renderId++}updateDebugHTML(t){t.innerHTML=`type: ${t.type}</br> title : ${t.title}</br> tabIndex: ${t.tabIndex}`}capHitArea(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);const{width:e,height:i}=this.renderer;t.x+t.width>e&&(t.width=e-t.x),t.y+t.height>i&&(t.height=i-t.y)}addChild(t){let e=this.pool.pop();e||(e=document.createElement("button"),e.style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title=`displayObject ${t.tabIndex}`),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex}_dispatchEvent(t,e){const{displayObject:i}=t.target,s=this.renderer.events.rootBoundary,n=Object.assign(new r.FederatedEvent(s),{target:i});s.rootTarget=this.renderer.lastObjectRendered,e.forEach((t=>s.dispatchEvent(n,t)))}_onClick(t){this._dispatchEvent(t,["click","pointertap","tap"])}_onFocus(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive"),this._dispatchEvent(t,["mouseover"])}_onFocusOut(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite"),this._dispatchEvent(t,["mouseout"])}_onKeyDown(t){9===t.keyCode&&this.activate()}_onMouseMove(t){0===t.movementX&&0===t.movementY||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}o.extension={name:"accessibility",type:[s.ExtensionType.RendererPlugin,s.ExtensionType.CanvasRendererPlugin]},s.extensions.add(o),e.AccessibilityManager=o},87373:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.accessibleTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1}},75649:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(76048),n=i(87373);e.AccessibilityManager=s.AccessibilityManager,e.accessibleTarget=n.accessibleTarget},57450:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(27191);const r=class{constructor(t){this.stage=new n.Container,t=Object.assign({forceCanvas:!1},t),this.renderer=s.autoDetectRenderer(t),r._plugins.forEach((e=>{e.init.call(this,t)}))}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const i=r._plugins.slice(0);i.reverse(),i.forEach((t=>{t.destroy.call(this)})),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let a=r;a._plugins=[],s.extensions.handleByList(s.ExtensionType.Application,a._plugins),e.Application=a},45581:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);class n{static init(t){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame((()=>this.resize())))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let t,e;if(this.cancelResize(),this._resizeTo===globalThis.window)t=globalThis.innerWidth,e=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;t=i,e=s}this.renderer.resize(t,e),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}n.extension=s.ExtensionType.Application,s.extensions.add(n),e.ResizePlugin=n},21827:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57450),n=i(45581);e.Application=s.Application,e.ResizePlugin=n.ResizePlugin},93238:(t,e,i)=>{"use strict";var s=i(48742);const n={loader:s.ExtensionType.LoadParser,resolver:s.ExtensionType.ResolveParser,cache:s.ExtensionType.CacheParser,detection:s.ExtensionType.DetectionParser};s.extensions.handle(s.ExtensionType.Asset,(t=>{const e=t.ref;Object.entries(n).filter((([t])=>!!e[t])).forEach((([t,i])=>s.extensions.add(Object.assign(e[t],{extension:e[t].extension??i}))))}),(t=>{const e=t.ref;Object.keys(n).filter((t=>!!e[t])).forEach((t=>s.extensions.remove(e[t])))}))},82961:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(36845),r=i(50241),a=i(76480);i(94498);var o=i(67847),h=i(51331),l=i(81114),d=i(63195);class u{constructor(){this._detections=[],this._initialized=!1,this.resolver=new o.Resolver,this.loader=new a.Loader,this.cache=r.Cache,this._backgroundLoader=new n.BackgroundLoader(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized)return void console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let e=t.manifest;"string"==typeof e&&(e=await this.load(e)),this.resolver.addManifest(e)}const e=t.texturePreference?.resolution??1,i="number"==typeof e?[e]:e;let s=[];if(t.texturePreference?.format){const e=t.texturePreference?.format;s="string"==typeof e?[e]:e;for(const t of this._detections)await t.test()||(s=await t.remove(s))}else for(const t of this._detections)await t.test()&&(s=await t.add(s));this.resolver.prefer({params:{format:s,resolution:i}}),t.preferences&&this.setPreferences(t.preferences)}add(t,e,i){this.resolver.add(t,e,i)}async load(t,e){this._initialized||await this.init();const i=l.isSingleItem(t),s=h.convertToList(t).map((t=>"string"!=typeof t?(this.resolver.add(t.src,t),t.src):(this.resolver.hasKey(t)||this.resolver.add(t,t),t))),n=this.resolver.resolve(s),r=await this._mapLoadToResolve(n,e);return i?r[s[0]]:r}addBundle(t,e){this.resolver.addBundle(t,e)}async loadBundle(t,e){this._initialized||await this.init();let i=!1;"string"==typeof t&&(i=!0,t=[t]);const s=this.resolver.resolveBundle(t),n={},r=Object.keys(s);let a=0,o=0;const h=()=>{e?.(++a/o)},l=r.map((t=>{const e=s[t];return o+=Object.keys(e).length,this._mapLoadToResolve(e,h).then((e=>{n[t]=e}))}));return await Promise.all(l),i?n[t[0]]:n}async backgroundLoad(t){this._initialized||await this.init(),"string"==typeof t&&(t=[t]);const e=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(e))}async backgroundLoadBundle(t){this._initialized||await this.init(),"string"==typeof t&&(t=[t]);const e=this.resolver.resolveBundle(t);Object.values(e).forEach((t=>{this._backgroundLoader.add(Object.values(t))}))}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if("string"==typeof t)return r.Cache.get(t);const e={};for(let i=0;i<t.length;i++)e[i]=r.Cache.get(t[i]);return e}async _mapLoadToResolve(t,e){const i=Object.values(t),s=Object.keys(t);this._backgroundLoader.active=!1;const n=await this.loader.load(i,e);this._backgroundLoader.active=!0;const a={};return i.forEach(((t,e)=>{const i=n[t.src],o=[t.src];t.alias&&o.push(...t.alias),a[s[e]]=i,r.Cache.set(o,i)})),a}async unload(t){this._initialized||await this.init();const e=h.convertToList(t).map((t=>"string"!=typeof t?t.src:t)),i=this.resolver.resolve(e);await this._unloadFromResolved(i)}async unloadBundle(t){this._initialized||await this.init(),t=h.convertToList(t);const e=this.resolver.resolveBundle(t),i=Object.keys(e).map((t=>this._unloadFromResolved(e[t])));await Promise.all(i)}async _unloadFromResolved(t){const e=Object.values(t);e.forEach((t=>{r.Cache.remove(t.src)})),await this.loader.unload(e)}get detections(){return this._detections}get preferWorkers(){return d.loadTextures.config.preferWorkers}set preferWorkers(t){s.utils.deprecation("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:t})}setPreferences(t){this.loader.parsers.forEach((e=>{e.config&&Object.keys(e.config).filter((e=>e in t)).forEach((i=>{e.config[i]=t[i]}))}))}}const c=new u;s.extensions.handleByList(s.ExtensionType.LoadParser,c.loader.parsers).handleByList(s.ExtensionType.ResolveParser,c.resolver.parsers).handleByList(s.ExtensionType.CacheParser,c.cache.parsers).handleByList(s.ExtensionType.DetectionParser,c.detections),e.Assets=c,e.AssetsClass=u},36845:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.BackgroundLoader=class{constructor(t,e=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=e}add(t){t.forEach((t=>{this._assetList.push(t)})),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],e=Math.min(this._assetList.length,this._maxConcurrent);for(let i=0;i<e;i++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}},50241:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);i(99973);var n=i(51331);const r=new class{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const e=this._cache.get(t);return e||console.warn(`[Assets] Asset id ${t} was not found in the Cache`),e}set(t,e){const i=n.convertToList(t);let r;for(let t=0;t<this.parsers.length;t++){const s=this.parsers[t];if(s.test(e)){r=s.getCacheableAssets(i,e);break}}r||(r={},i.forEach((t=>{r[t]=e})));const a=Object.keys(r),o={cacheKeys:a,keys:i};if(i.forEach((t=>{this._cacheMap.set(t,o)})),a.forEach((t=>{this._cache.has(t)&&this._cache.get(t)!==e&&console.warn("[Cache] already has key:",t),this._cache.set(t,r[t])})),e instanceof s.Texture){const t=e;i.forEach((e=>{t.baseTexture!==s.Texture.EMPTY.baseTexture&&s.BaseTexture.addToCache(t.baseTexture,e),s.Texture.addToCache(t,e)}))}}remove(t){if(this._cacheMap.get(t),!this._cacheMap.has(t))return void console.warn(`[Assets] Asset id ${t} was not found in the Cache`);const e=this._cacheMap.get(t);e.cacheKeys.forEach((t=>{this._cache.delete(t)})),e.keys.forEach((t=>{this._cacheMap.delete(t)}))}get parsers(){return this._parsers}};e.Cache=r},28799:()=>{},38570:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(50241);i(28799),i(97911),e.Cache=s.Cache},47880:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);const n={extension:s.ExtensionType.CacheParser,test:t=>Array.isArray(t)&&t.every((t=>t instanceof s.Texture)),getCacheableAssets:(t,e)=>{const i={};return t.forEach((t=>{e.forEach(((e,s)=>{i[t+(0===s?"":s+1)]=e}))})),i}};s.extensions.add(n),e.cacheTextureArray=n},97911:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(47880);e.cacheTextureArray=s.cacheTextureArray},86158:(t,e,i)=>{"use strict";i(28001)},39231:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);const n={extension:{type:s.ExtensionType.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t=await s.settings.ADAPTER.fetch("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=").then((t=>t.blob()));return createImageBitmap(t).then((()=>!0),(()=>!1))},add:async t=>[...t,"avif"],remove:async t=>t.filter((t=>"avif"!==t))};s.extensions.add(n),e.detectAvif=n},94041:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);const n=["png","jpg","jpeg"],r={extension:{type:s.ExtensionType.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...n],remove:async t=>t.filter((t=>!n.includes(t)))};s.extensions.add(r),e.detectDefaults=r},91133:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);const n={extension:{type:s.ExtensionType.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t=await s.settings.ADAPTER.fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=").then((t=>t.blob()));return createImageBitmap(t).then((()=>!0),(()=>!1))},add:async t=>[...t,"webp"],remove:async t=>t.filter((t=>"webp"!==t))};s.extensions.add(n),e.detectWebp=n},28001:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(39231),n=i(91133),r=i(94041);e.detectAvif=s.detectAvif,e.detectWebp=n.detectWebp,e.detectDefaults=r.detectDefaults},8415:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(93238);var s=i(82961);i(38570),i(86158),i(30807),i(69076),i(99973);var n=i(50241),r=i(47880),a=i(39231),o=i(91133),h=i(94041),l=i(14265),d=i(64176),u=i(44899),c=i(12321),p=i(49568),m=i(63195),f=i(61002),g=i(80819),y=i(25458),x=i(39007),_=i(51331),b=i(66048),v=i(54878),S=i(81114);e.Assets=s.Assets,e.AssetsClass=s.AssetsClass,e.Cache=n.Cache,e.cacheTextureArray=r.cacheTextureArray,e.detectAvif=a.detectAvif,e.detectWebp=o.detectWebp,e.detectDefaults=h.detectDefaults,e.LoaderParserPriority=l.LoaderParserPriority,e.loadJson=d.loadJson,e.loadTxt=u.loadTxt,e.getFontFamilyName=c.getFontFamilyName,e.loadWebFont=c.loadWebFont,e.loadSVG=p.loadSVG,e.loadImageBitmap=m.loadImageBitmap,e.loadTextures=m.loadTextures,e.createTexture=f.createTexture,e.resolveTextureUrl=g.resolveTextureUrl,e.checkDataUrl=y.checkDataUrl,e.checkExtension=x.checkExtension,e.convertToList=_.convertToList,e.copySearchParams=b.copySearchParams,e.createStringVariations=v.createStringVariations,e.isSingleItem=S.isSingleItem},76480:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);i(99973);var n=i(81114),r=i(51331);e.Loader=class{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,e,i)=>(this._parsersValidated=!1,t[e]=i,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,e){const i={promise:null,parser:null};return i.promise=(async()=>{let s=null,n=null;if(e.loadParser&&(n=this._parserHash[e.loadParser],n||console.warn(`[Assets] specified load parser "${e.loadParser}" not found while loading ${t}`)),!n){for(let i=0;i<this.parsers.length;i++){const s=this.parsers[i];if(s.load&&s.test?.(t,e,this)){n=s;break}}if(!n)return console.warn(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}s=await n.load(t,e,this),i.parser=n;for(let t=0;t<this.parsers.length;t++){const n=this.parsers[t];n.parse&&n.parse&&await(n.testParse?.(s,e,this))&&(s=await n.parse(s,e,this)||s,i.parser=n)}return s})(),i}async load(t,e){this._parsersValidated||this._validateParsers();let i=0;const a={},o=n.isSingleItem(t),h=r.convertToList(t,(t=>({src:t}))),l=h.length,d=h.map((async t=>{const n=s.utils.path.toAbsolute(t.src);if(!a[t.src])try{this.promiseCache[n]||(this.promiseCache[n]=this._getLoadPromiseAndParser(n,t)),a[t.src]=await this.promiseCache[n].promise,e&&e(++i/l)}catch(e){throw delete this.promiseCache[n],delete a[t.src],new Error(`[Loader.load] Failed to load ${n}.\n${e}`)}}));return await Promise.all(d),o?a[h[0].src]:a}async unload(t){const e=r.convertToList(t,(t=>({src:t}))).map((async t=>{const e=s.utils.path.toAbsolute(t.src),i=this.promiseCache[e];if(i){const s=await i.promise;i.parser?.unload?.(s,t,this),delete this.promiseCache[e]}}));await Promise.all(e)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter((t=>t.name)).reduce(((t,e)=>(t[e.name]&&console.warn(`[Assets] loadParser name conflict "${e.name}"`),{...t,[e.name]:e})),{})}}},30807:(t,e,i)=>{"use strict";i(94498),i(40530)},14265:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(i||{});e.LoaderParserPriority=i},96585:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});let i,s=0;const n={id:"checkImageBitmap",code:"\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    "},r={id:"loadImageBitmap",code:"\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: `\n                + `${response.status} ${response.statusText}`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };"};let a;const o=new class{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise((t=>{const e=URL.createObjectURL(new Blob([n.code],{type:"application/javascript"})),i=new Worker(e);i.addEventListener("message",(s=>{i.terminate(),URL.revokeObjectURL(e),t(s.data)}))}))),this._isImageBitmapSupported}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){void 0===i&&(i=navigator.hardwareConcurrency||4);let t=this.workerPool.pop();return!t&&this._createdWorkers<i&&(a||(a=URL.createObjectURL(new Blob([r.code],{type:"application/javascript"}))),this._createdWorkers++,t=new Worker(a),t.addEventListener("message",(t=>{this.complete(t.data),this.returnWorker(t.target),this.next()}))),t}returnWorker(t){this.workerPool.push(t)}complete(t){void 0!==t.error?this.resolveHash[t.uuid].reject(t.error):this.resolveHash[t.uuid].resolve(t.data),this.resolveHash[t.uuid]=null}async _run(t,e){await this._initWorkers();const i=new Promise(((i,s)=>{this.queue.push({id:t,arguments:e,resolve:i,reject:s})}));return this.next(),i}next(){if(!this.queue.length)return;const t=this.getWorker();if(!t)return;const e=this.queue.pop(),i=e.id;this.resolveHash[s]={resolve:e.resolve,reject:e.reject},t.postMessage({data:e.arguments,uuid:s++,id:i})}};e.WorkerManager=o},94498:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(14265),n=i(64176),r=i(44899),a=i(12321);i(36577),e.LoaderParserPriority=s.LoaderParserPriority,e.loadJson=n.loadJson,e.loadTxt=r.loadTxt,e.getFontFamilyName=a.getFontFamilyName,e.loadWebFont=a.loadWebFont},64176:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(25458),r=i(39007),a=i(14265);const o={extension:{type:s.ExtensionType.LoadParser,priority:a.LoaderParserPriority.Low},name:"loadJson",test:t=>n.checkDataUrl(t,"application/json")||r.checkExtension(t,".json"),async load(t){const e=await s.settings.ADAPTER.fetch(t);return await e.json()}};s.extensions.add(o),e.loadJson=o},44899:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(25458),r=i(39007),a=i(14265);const o={name:"loadTxt",extension:{type:s.ExtensionType.LoadParser,priority:a.LoaderParserPriority.Low},test:t=>n.checkDataUrl(t,"text/plain")||r.checkExtension(t,".txt"),async load(t){const e=await s.settings.ADAPTER.fetch(t);return await e.text()}};s.extensions.add(o),e.loadTxt=o},12321:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(25458),r=i(39007),a=i(14265);const o=["normal","bold","100","200","300","400","500","600","700","800","900"],h=[".ttf",".otf",".woff",".woff2"],l=["font/ttf","font/otf","font/woff","font/woff2"],d=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function u(t){const e=s.utils.path.extname(t),i=s.utils.path.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map((t=>t.charAt(0).toUpperCase()+t.slice(1)));let n=i.length>0;for(const t of i)if(!t.match(d)){n=!1;break}let r=i.join(" ");return n||(r=`"${r.replace(/[\\"]/g,"\\$&")}"`),r}const c={extension:{type:s.ExtensionType.LoadParser,priority:a.LoaderParserPriority.Low},name:"loadWebFont",test:t=>n.checkDataUrl(t,l)||r.checkExtension(t,h),async load(t,e){const i=s.settings.ADAPTER.getFontFaceSet();if(i){const s=[],n=e.data?.family??u(t),r=e.data?.weights?.filter((t=>o.includes(t)))??["normal"],a=e.data??{};for(let e=0;e<r.length;e++){const o=r[e],h=new FontFace(n,`url(${encodeURI(t)})`,{...a,weight:o});await h.load(),i.add(h),s.push(h)}return 1===s.length?s[0]:s}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach((t=>s.settings.ADAPTER.getFontFaceSet().delete(t)))}};s.extensions.add(c),e.getFontFamilyName=u,e.loadWebFont=c},36577:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(49568),n=i(63195);i(26602),e.loadSVG=s.loadSVG,e.loadImageBitmap=n.loadImageBitmap,e.loadTextures=n.loadTextures},49568:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(25458),r=i(39007),a=i(14265),o=i(63195),h=i(61002);const l={extension:{type:s.ExtensionType.LoadParser,priority:a.LoaderParserPriority.High},name:"loadSVG",test:t=>n.checkDataUrl(t,"image/svg+xml")||r.checkExtension(t,".svg"),testParse:async t=>s.SVGResource.test(t),async parse(t,e,i){const n=new s.SVGResource(t,e?.data?.resourceOptions);await n.load();const r=new s.BaseTexture(n,{resolution:s.utils.getResolutionOfUrl(t),...e?.data});r.resource.src=t;return h.createTexture(r,i,t)},load:async(t,e)=>(await s.settings.ADAPTER.fetch(t)).text(),unload:o.loadTextures.unload};s.extensions.add(l),e.loadSVG=l},63195:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(25458),r=i(39007),a=i(14265),o=i(96585),h=i(61002);const l=[".jpeg",".jpg",".png",".webp",".avif"],d=["image/jpeg","image/png","image/webp","image/avif"];async function u(t){const e=await s.settings.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const i=await e.blob();return await createImageBitmap(i)}const c={name:"loadTextures",extension:{type:s.ExtensionType.LoadParser,priority:a.LoaderParserPriority.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:t=>n.checkDataUrl(t,d)||r.checkExtension(t,l),async load(t,e,i){let n=null;n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await o.WorkerManager.isImageBitmapSupported()?await o.WorkerManager.loadImageBitmap(t):await u(t):await new Promise((e=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?e(n):n.onload=()=>{e(n)}}));const r=new s.BaseTexture(n,{resolution:s.utils.getResolutionOfUrl(t),...e.data});return r.resource.src=t,h.createTexture(r,i,t)},unload(t){t.destroy(!0)}};s.extensions.add(c),e.loadImageBitmap=u,e.loadTextures=c},61002:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);e.createTexture=function(t,e,i){const n=new s.Texture(t);return n.baseTexture.on("dispose",(()=>{delete e.promiseCache[i]})),n}},26602:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(61002);e.createTexture=s.createTexture},40530:()=>{},67847:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(51331),r=i(54878),a=i(81114);e.Resolver=class{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>`${t}${this._bundleIdConnector}${e}`,extractAssetIdFromBundle:(t,e)=>e.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach((t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))})),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if("string"==typeof t)this._defaultSearchParams=t;else{const e=t;this._defaultSearchParams=Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}}addManifest(t){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach((t=>{this.addBundle(t.name,t.assets)}))}addBundle(t,e){const i=[];Array.isArray(e)?e.forEach((e=>{if("string"==typeof e.name){const s=this._createBundleAssetId(t,e.name);i.push(s),this.add([e.name,s],e.srcs,e.data)}else{const s=e.name.map((e=>this._createBundleAssetId(t,e)));s.forEach((t=>{i.push(t)})),this.add([...e.name,...s],e.srcs)}})):Object.keys(e).forEach((s=>{i.push(this._createBundleAssetId(t,s)),this.add([s,this._createBundleAssetId(t,s)],e[s])})),this._bundles[t]=i}add(t,e,i){const a=n.convertToList(t);a.forEach((t=>{this.hasKey(t)&&console.warn(`[Resolver] already has key: ${t} overwriting`)})),Array.isArray(e)||(e="string"==typeof e?r.createStringVariations(e):[e]);const o=e.map((t=>{let e=t;if("string"==typeof t){let i=!1;for(let s=0;s<this._parsers.length;s++){const n=this._parsers[s];if(n.test(t)){e=n.parse(t),i=!0;break}}i||(e={src:t})}return e.format||(e.format=e.src.split(".").pop()),e.alias||(e.alias=a),(this._basePath||this._rootPath)&&(e.src=s.utils.path.toAbsolute(e.src,this._basePath,this._rootPath)),e.src=this._appendDefaultSearchParams(e.src),e.data=e.data??i,e}));a.forEach((t=>{this._assetMap[t]=o}))}resolveBundle(t){const e=a.isSingleItem(t);t=n.convertToList(t);const i={};return t.forEach((t=>{const e=this._bundles[t];if(e){const s=this.resolve(e),n={};for(const e in s){const i=s[e];n[this._extractAssetIdFromBundle(t,e)]=i}i[t]=n}})),e?i[t[0]]:i}resolveUrl(t){const e=this.resolve(t);if("string"!=typeof t){const t={};for(const i in e)t[i]=e[i].src;return t}return e.src}resolve(t){const e=a.isSingleItem(t);t=n.convertToList(t);const i={};return t.forEach((t=>{if(!this._resolverHash[t])if(this._assetMap[t]){let e=this._assetMap[t];const i=this._getPreferredOrder(e),s=e[0];i?.priority.forEach((t=>{i.params[t].forEach((i=>{const s=e.filter((e=>!!e[t]&&e[t]===i));s.length&&(e=s)}))})),this._resolverHash[t]=e[0]??s}else{let e=t;(this._basePath||this._rootPath)&&(e=s.utils.path.toAbsolute(e,this._basePath,this._rootPath)),e=this._appendDefaultSearchParams(e),this._resolverHash[t]={src:e}}i[t]=this._resolverHash[t]})),e?i[t[0]]:i}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){const e=t[0],i=this._preferredOrder.find((t=>t.params.format.includes(e.format)));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;return`${t}${/\?/.test(t)?"&":"?"}${this._defaultSearchParams}`}}},69076:(t,e,i)=>{"use strict";i(68404),i(41998)},68404:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(80819);e.resolveTextureUrl=s.resolveTextureUrl},80819:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);i(30807);var n=i(63195);const r={extension:s.ExtensionType.ResolveParser,test:n.loadTextures.test,parse:t=>({resolution:parseFloat(s.settings.RETINA_PREFIX.exec(t)?.[1]??"1"),format:t.split(".").pop(),src:t})};s.extensions.add(r),e.resolveTextureUrl=r},41998:()=>{},25458:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkDataUrl=function(t,e){if(Array.isArray(e)){for(const i of e)if(t.startsWith(`data:${i}`))return!0;return!1}return t.startsWith(`data:${e}`)}},39007:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);e.checkExtension=function(t,e){const i=t.split("?")[0],n=s.utils.path.extname(i).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}},51331:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.convertToList=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map((t=>"string"==typeof t?e(t):t)):t)},66048:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.copySearchParams=(t,e)=>{const i=e.split("?")[1];return i&&(t+=`?${i}`),t}},54878:(t,e)=>{"use strict";function i(t,e,s,n,r){const a=e[s];for(let o=0;o<a.length;o++){const h=a[o];s<e.length-1?i(t.replace(n[s],h),e,s+1,n,r):r.push(t.replace(n[s],h))}}Object.defineProperty(e,"__esModule",{value:!0}),e.createStringVariations=function(t){const e=t.match(/\{(.*?)\}/g),s=[];if(e){const n=[];e.forEach((t=>{const e=t.substring(1,t.length-1).split(",");n.push(e)})),i(t,n,0,e,s)}else s.push(t);return s}},99973:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(25458),n=i(39007),r=i(51331),a=i(66048),o=i(54878),h=i(81114);e.checkDataUrl=s.checkDataUrl,e.checkExtension=n.checkExtension,e.convertToList=r.convertToList,e.copySearchParams=a.copySearchParams,e.createStringVariations=o.createStringVariations,e.isSingleItem=h.isSingleItem},81114:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.isSingleItem=t=>!Array.isArray(t)},36250:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(96872);function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=n(i(12121));s.extend([r.default]);const a=class{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof a)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(null===t)throw new Error("Cannot set PIXI.Color#value to null");null!==this._value&&this.isSourceEqual(this._value,t)||(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return"string"==typeof t||"number"==typeof t||t instanceof Number||null===t?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):"object"==typeof t&&null!==t?{...t}:t}isSourceEqual(t,e){const i=typeof t;if(i!==typeof e)return!1;if("number"===i||"string"===i||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length===e.length&&t.every(((t,i)=>t===e[i]));if(null!==t&&null!==e){const i=Object.keys(t),s=Object.keys(e);return i.length===s.length&&i.every((i=>t[i]===e[i]))}return t===e}toRgba(){const[t,e,i,s]=this._components;return{r:t,g:e,b:i,a:s}}toRgb(){const[t,e,i]=this._components;return{r:t,g:e,b:i}}toRgbaString(){const[t,e,i]=this.toUint8RgbArray();return`rgba(${t},${e},${i},${this.alpha})`}toUint8RgbArray(t){const[e,i,s]=this._components;return(t=t??[])[0]=Math.round(255*e),t[1]=Math.round(255*i),t[2]=Math.round(255*s),t}toRgbArray(t){t=t??[];const[e,i,s]=this._components;return t[0]=e,t[1]=i,t[2]=s,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(65280&t)+((255&t)<<16)}multiply(t){const[e,i,s,n]=a.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=i,this._components[2]*=s,this._components[3]*=n,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(1===t)return(255<<24)+this._int;if(0===t)return e?0:this._int;let i=this._int>>16&255,s=this._int>>8&255,n=255&this._int;return e&&(i=i*t+.5|0,s=s*t+.5|0,n=n*t+.5|0),(255*t<<24)+(i<<16)+(s<<8)+n}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const t=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,i,s]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(i*t)/t,this._components[2]=Math.round(s*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,i,s,n]=this._components;return t[0]=e,t[1]=i,t[2]=s,t[3]=n,t}normalize(t){let e,i,n,r;if(("number"==typeof t||t instanceof Number)&&t>=0&&t<=16777215){e=(t>>16&255)/255,i=(t>>8&255)/255,n=(255&t)/255,r=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,i,n,r=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,i,n,r=255]=t,e/=255,i/=255,n/=255,r/=255;else if("string"==typeof t||"object"==typeof t){if("string"==typeof t){const e=a.HEX_PATTERN.exec(t);e&&(t=`#${e[2]}`)}const o=s.colord(t);o.isValid()&&(({r:e,g:i,b:n,a:r}=o.rgba),e/=255,i/=255,n/=255)}if(void 0===e)throw new Error(`Unable to convert color ${t}`);this._components[0]=e,this._components[1]=i,this._components[2]=n,this._components[3]=r,this.refreshInt()}refreshInt(){this._clamp(this._components);const[t,e,i]=this._components;this._int=(255*t<<16)+(255*e<<8)+(255*i|0)}_clamp(t,e=0,i=1){return"number"==typeof t?Math.min(Math.max(t,e),i):(t.forEach(((s,n)=>{t[n]=Math.min(Math.max(s,e),i)})),t)}};let o=a;o.shared=new a,o.temp=new a,o.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i,e.Color=o},1122:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(36250);e.Color=s.Color},9133:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(i||{});const s={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};e.INTERNAL_FORMATS=i,e.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=s},63438:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(9133);i(27424),i(71807),i(35534);var n=i(12005),r=i(80869),a=i(5192),o=i(83291),h=i(1620),l=i(42581),d=i(91788),u=i(49947);e.INTERNAL_FORMATS=s.INTERNAL_FORMATS,e.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=s.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL,e.detectCompressedTextures=n.detectCompressedTextures,e.loadDDS=r.loadDDS,e.loadKTX=a.loadKTX,e.resolveCompressedTextureUrl=o.resolveCompressedTextureUrl,e.parseDDS=h.parseDDS,e.FORMATS_TO_COMPONENTS=l.FORMATS_TO_COMPONENTS,e.TYPES_TO_BYTES_PER_COMPONENT=l.TYPES_TO_BYTES_PER_COMPONENT,e.TYPES_TO_BYTES_PER_PIXEL=l.TYPES_TO_BYTES_PER_PIXEL,e.parseKTX=l.parseKTX,e.BlobResource=d.BlobResource,e.CompressedTextureResource=u.CompressedTextureResource},88256:()=>{},12005:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);let n,r;function a(){r={s3tc:n.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:n.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:n.getExtension("WEBGL_compressed_texture_etc"),etc1:n.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:n.getExtension("WEBGL_compressed_texture_atc"),astc:n.getExtension("WEBGL_compressed_texture_astc")}}const o={extension:{type:s.ExtensionType.DetectionParser,priority:2},test:async()=>{const t=s.settings.ADAPTER.createCanvas().getContext("webgl");return t?(n=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{r||a();const e=[];for(const t in r){r[t]&&e.push(t)}return[...e,...t]},remove:async t=>(r||a(),t.filter((t=>!(t in r))))};s.extensions.add(o),e.detectCompressedTextures=o},27424:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(88256);var s=i(12005),n=i(80869),r=i(5192),a=i(83291);e.detectCompressedTextures=s.detectCompressedTextures,e.loadDDS=n.loadDDS,e.loadKTX=r.loadKTX,e.resolveCompressedTextureUrl=a.resolveCompressedTextureUrl},80869:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(8415),n=i(48742);i(71807);var r=i(1620);const a={extension:{type:n.ExtensionType.LoadParser,priority:s.LoaderParserPriority.High},name:"loadDDS",test:t=>s.checkExtension(t,".dds"),async load(t,e,i){const a=await n.settings.ADAPTER.fetch(t),o=await a.arrayBuffer(),h=r.parseDDS(o).map((r=>{const a=new n.BaseTexture(r,{mipmap:n.MIPMAP_MODES.OFF,alphaMode:n.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:n.utils.getResolutionOfUrl(t),...e.data});return s.createTexture(a,i,t)}));return 1===h.length?h[0]:h},unload(t){Array.isArray(t)?t.forEach((t=>t.destroy(!0))):t.destroy(!0)}};n.extensions.add(a),e.loadDDS=a},5192:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(8415),n=i(48742);i(71807);var r=i(42581);const a={extension:{type:n.ExtensionType.LoadParser,priority:s.LoaderParserPriority.High},name:"loadKTX",test:t=>s.checkExtension(t,".ktx"),async load(t,e,i){const a=await n.settings.ADAPTER.fetch(t),o=await a.arrayBuffer(),{compressed:h,uncompressed:l,kvData:d}=r.parseKTX(t,o),u=h??l,c={mipmap:n.MIPMAP_MODES.OFF,alphaMode:n.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:n.utils.getResolutionOfUrl(t),...e.data},p=u.map((e=>{u===l&&Object.assign(c,{type:e.type,format:e.format});const r=new n.BaseTexture(e,c);return r.ktxKeyValueData=d,s.createTexture(r,i,t)}));return 1===p.length?p[0]:p},unload(t){Array.isArray(t)?t.forEach((t=>t.destroy(!0))):t.destroy(!0)}};n.extensions.add(a),e.loadKTX=a},83291:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);const n={extension:s.ExtensionType.ResolveParser,test:t=>{const e=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(e)},parse:t=>{if("ktx"===t.split("?")[0].split(".").pop()){const e=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(e.some((e=>t.endsWith(e))))return{resolution:parseFloat(s.settings.RETINA_PREFIX.exec(t)?.[1]??"1"),format:e.find((e=>t.endsWith(e))),src:t}}return{resolution:parseFloat(s.settings.RETINA_PREFIX.exec(t)?.[1]??"1"),format:t.split(".").pop(),src:t}}};s.extensions.add(n),e.resolveCompressedTextureUrl=n},71807:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1620),n=i(42581);e.parseDDS=s.parseDDS,e.FORMATS_TO_COMPONENTS=n.FORMATS_TO_COMPONENTS,e.TYPES_TO_BYTES_PER_COMPONENT=n.TYPES_TO_BYTES_PER_COMPONENT,e.TYPES_TO_BYTES_PER_PIXEL=n.TYPES_TO_BYTES_PER_PIXEL,e.parseKTX=n.parseKTX},1620:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(9133);i(35534);var n=i(49947);const r=124,a=3,o=4,h=7,l=19,d=2,u=0,c=1,p=2,m=3;const f={827611204:s.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,861165636:s.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,894720068:s.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT},g={70:s.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:s.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:s.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:s.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:s.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:s.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:s.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:s.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:s.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};e.parseDDS=function(t){const e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");const i=new Uint32Array(t,0,r/Uint32Array.BYTES_PER_ELEMENT),y=i[a],x=i[o],_=i[h],b=new Uint32Array(t,l*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),v=b[1];if(4&v){const i=b[d];if(808540228!==i){const e=f[i],s=new Uint8Array(t,128);return[new n.CompressedTextureResource(s,{format:e,width:x,height:y,levels:_})]}const r=128,a=new Uint32Array(e.buffer,r,20/Uint32Array.BYTES_PER_ELEMENT),o=a[u],h=a[c],l=a[p],v=a[m],S=g[o];if(void 0===S)throw new Error(`DDSParser cannot parse texture data with DXGI format ${o}`);if(4===l)throw new Error("DDSParser does not support cubemap textures");if(6===h)throw new Error("DDSParser does not supported 3D texture data");const T=new Array,w=148;if(1===v)T.push(new Uint8Array(t,w));else{const e=s.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[S];let i=0,n=x,r=y;for(let t=0;t<_;t++){i+=Math.max(1,n+3&-4)*Math.max(1,r+3&-4)*e,n>>>=1,r>>>=1}let a=w;for(let e=0;e<v;e++)T.push(new Uint8Array(t,a,i)),a+=i}return T.map((t=>new n.CompressedTextureResource(t,{format:S,width:x,height:y,levels:_})))}if(64&v)throw new Error("DDSParser does not support uncompressed texture data.");if(512&v)throw new Error("DDSParser does not supported YUV uncompressed texture data.");if(131072&v)throw new Error("DDSParser does not support single-channel (lumninance) texture data!");if(2&v)throw new Error("DDSParser does not support single-channel (alpha) texture data!");throw new Error("DDSParser failed to load a texture file due to an unknown reason!")}},42581:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(9133);i(35534);var r=i(49947);const a=[171,75,84,88,32,49,49,187,13,10,26,10],o=12,h=16,l=24,d=28,u=36,c=40,p=44,m=48,f=52,g=56,y=60,x=64,_={[s.TYPES.UNSIGNED_BYTE]:1,[s.TYPES.UNSIGNED_SHORT]:2,[s.TYPES.INT]:4,[s.TYPES.UNSIGNED_INT]:4,[s.TYPES.FLOAT]:4,[s.TYPES.HALF_FLOAT]:8},b={[s.FORMATS.RGBA]:4,[s.FORMATS.RGB]:3,[s.FORMATS.RG]:2,[s.FORMATS.RED]:1,[s.FORMATS.LUMINANCE]:1,[s.FORMATS.LUMINANCE_ALPHA]:2,[s.FORMATS.ALPHA]:1},v={[s.TYPES.UNSIGNED_SHORT_4_4_4_4]:2,[s.TYPES.UNSIGNED_SHORT_5_5_5_1]:2,[s.TYPES.UNSIGNED_SHORT_5_6_5]:2};function S(t){switch(t){case s.FORMATS.RGBA:return s.FORMATS.RGBA_INTEGER;case s.FORMATS.RGB:return s.FORMATS.RGB_INTEGER;case s.FORMATS.RG:return s.FORMATS.RG_INTEGER;case s.FORMATS.RED:return s.FORMATS.RED_INTEGER;default:return t}}e.FORMATS_TO_COMPONENTS=b,e.TYPES_TO_BYTES_PER_COMPONENT=_,e.TYPES_TO_BYTES_PER_PIXEL=v,e.parseKTX=function(t,e,i=!1){const T=new DataView(e);if(!function(t,e){for(let i=0;i<a.length;i++)if(e.getUint8(i)!==a[i])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}(t,T))return null;const w=67305985===T.getUint32(o,!0),E=T.getUint32(h,w),C=T.getUint32(l,w),A=T.getUint32(d,w),M=T.getUint32(u,w),P=T.getUint32(c,w)||1,B=T.getUint32(p,w)||1,R=T.getUint32(m,w)||1,I=T.getUint32(f,w),k=T.getUint32(g,w),O=T.getUint32(y,w);if(0===P||1!==B)throw new Error("Only 2D textures are supported");if(1!==I)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==R)throw new Error("WebGL does not support array textures");const D=M+3&-4,F=P+3&-4,L=new Array(R);let N,U=M*P;if(0===E&&(U=D*F),N=0!==E?_[E]?_[E]*b[C]:v[E]:n.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[A],void 0===N)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const G=i?function(t,e,i){const s=new Map;let n=0;for(;n<e;){const r=t.getUint32(x+n,i),a=x+n+4,o=3-(r+3)%4;if(0===r||r>e-n){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let h=0;for(;h<r&&0!==t.getUint8(a+h);h++);if(-1===h){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const l=(new TextDecoder).decode(new Uint8Array(t.buffer,a,h)),d=new DataView(t.buffer,a+h+1,r-h-1);s.set(l,d),n+=4+r+o}return s}(T,O,w):null;let V=U*N,j=M,W=P,Y=D,X=F,H=x+O;for(let t=0;t<k;t++){const i=T.getUint32(H,w);let s=H+4;for(let i=0;i<R;i++){let n=L[i];n||(n=L[i]=new Array(k)),n[t]={levelID:t,levelWidth:k>1||0!==E?j:Y,levelHeight:k>1||0!==E?W:X,levelBuffer:new Uint8Array(e,s,V)},s+=V}H+=i+4,H=H%4!=0?H+4-H%4:H,j=j>>1||1,W=W>>1||1,Y=j+4-1&-4,X=W+4-1&-4,V=Y*X*N}return 0!==E?{uncompressed:L.map((t=>{let e=t[0].levelBuffer,i=!1;return E===s.TYPES.FLOAT?e=new Float32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4):E===s.TYPES.UNSIGNED_INT?(i=!0,e=new Uint32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)):E===s.TYPES.INT&&(i=!0,e=new Int32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)),{resource:new s.BufferResource(e,{width:t[0].levelWidth,height:t[0].levelHeight}),type:E,format:i?S(C):C}})),kvData:G}:{compressed:L.map((t=>new r.CompressedTextureResource(null,{format:A,width:M,height:P,levels:k,levelBuffers:t}))),kvData:G}}},91788:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);class n extends s.BufferResource{constructor(t,e={width:1,height:1,autoLoad:!0}){let i,n;"string"==typeof t?(i=t,n=new Uint8Array):(i=null,n=t),super(n,e),this.origin=i,this.buffer=n?new s.ViewableBuffer(n):null,this._load=null,this.loaded=!1,null!==this.origin&&!1!==e.autoLoad&&this.load(),null===this.origin&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(t){}load(){return this._load||(this._load=fetch(this.origin).then((t=>t.blob())).then((t=>t.arrayBuffer())).then((t=>(this.data=new Uint32Array(t),this.buffer=new s.ViewableBuffer(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),this)))),this._load}}e.BlobResource=n},49947:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(9133),n=i(91788);class r extends n.BlobResource{constructor(t,e){super(t,e),this.format=e.format,this.levels=e.levels||1,this._width=e.width,this._height=e.height,this._extension=r._formatToExtension(this.format),(e.levelBuffers||this.buffer)&&(this._levelBuffers=e.levelBuffers||r._createLevelBuffers(t instanceof Uint8Array?t:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(t,e,i){const s=t.gl;if(!t.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let t=0,e=this.levels;t<e;t++){const{levelID:e,levelWidth:i,levelHeight:n,levelBuffer:r}=this._levelBuffers[t];s.compressedTexImage2D(s.TEXTURE_2D,e,this.format,i,n,0,r)}return!0}onBlobLoaded(){this._levelBuffers=r._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t>=36196)return"etc1";if(t>=35986&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(t,e,i,n,r,a,o){const h=new Array(i);let l=t.byteOffset,d=a,u=o,c=d+n-1&~(n-1),p=u+r-1&~(r-1),m=c*p*s.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[e];for(let a=0;a<i;a++)h[a]={levelID:a,levelWidth:i>1?d:c,levelHeight:i>1?u:p,levelBuffer:new Uint8Array(t.buffer,l,m)},l+=m,d=d>>1||1,u=u>>1||1,c=d+n-1&~(n-1),p=u+r-1&~(r-1),m=c*p*s.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[e];return h}}e.CompressedTextureResource=r},35534:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(91788),n=i(49947);e.BlobResource=s.BlobResource,e.CompressedTextureResource=n.CompressedTextureResource},57616:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(i||{}),s=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(s||{}),n=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(n||{}),r=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(r||{}),a=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(a||{}),o=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(o||{}),h=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(h||{}),l=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(l||{}),d=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(d||{}),u=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(u||{}),c=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(c||{}),p=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(p||{}),m=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(m||{}),f=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(f||{}),g=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(g||{}),y=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(y||{}),x=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(x||{}),_=(t=>(t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA",t))(_||{}),b=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(b||{}),v=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(v||{});e.ALPHA_MODES=m,e.BLEND_MODES=r,e.BUFFER_BITS=n,e.BUFFER_TYPE=v,e.CLEAR_MODES=f,e.COLOR_MASK_BITS=_,e.DRAW_MODES=a,e.ENV=i,e.FORMATS=o,e.GC_MODES=g,e.MASK_TYPES=x,e.MIPMAP_MODES=p,e.MSAA_QUALITY=b,e.PRECISION=y,e.RENDERER_TYPE=s,e.SAMPLER_TYPES=d,e.SCALE_MODES=u,e.TARGETS=h,e.TYPES=l,e.WRAP_MODES=c},64665:()=>{},97032:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(71648),r=i(40435),a=i(82101),o=i(12191),h=i(44240),l=i(8065);const d=class extends l.SystemManager{constructor(t){super(),this.type=s.RENDERER_TYPE.WEBGL,t=Object.assign({},a.settings.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new h.UniformGroup({projectionMatrix:new r.Matrix},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:d.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(o.deprecation("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&"notMultiplied"!==t.useContextAlpha,t.backgroundAlpha=!1===t.useContextAlpha?1:t.backgroundAlpha),this._plugin.rendererPlugins=d.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return!t?.forceCanvas&&o.isWebGLSupported()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return o.deprecation("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return o.deprecation("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return o.deprecation("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return o.deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){o.deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return o.deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){o.deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return o.deprecation("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let u=d;u.extension={type:n.ExtensionType.Renderer,priority:1},u.__plugins={},u.__systems={},n.extensions.handleByMap(n.ExtensionType.RendererPlugin,u.__plugins),n.extensions.handleByMap(n.ExtensionType.RendererSystem,u.__systems),n.extensions.add(u),e.Renderer=u},83947:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71648);const n=[];s.extensions.handleByList(s.ExtensionType.Renderer,n),e.autoDetectRenderer=function(t){for(const e of n)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}},31110:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1122),n=i(71648);class r{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new s.Color(0),this.alpha=1}init(t){this.clearBeforeRender=t.clearBeforeRender;const{backgroundColor:e,background:i,backgroundAlpha:s}=t,n=i??e;void 0!==n&&(this.color=n),this.alpha=s}get color(){return this._backgroundColor.value}set color(t){this._backgroundColor.setValue(t)}get alpha(){return this._backgroundColor.alpha}set alpha(t){this._backgroundColor.setAlpha(t)}get backgroundColor(){return this._backgroundColor}destroy(){}}r.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},r.extension={type:[n.ExtensionType.RendererSystem,n.ExtensionType.CanvasRendererSystem],name:"background"},n.extensions.add(r),e.BackgroundSystem=r},49731:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616);e.BatchDrawCall=class{constructor(){this.texArray=null,this.blend=0,this.type=s.DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null}}},91197:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(44518),r=i(82736);class a extends r.Geometry{constructor(t=!1){super(),this._buffer=new n.Buffer(null,t,!1),this._indexBuffer=new n.Buffer(null,t,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,s.TYPES.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,s.TYPES.FLOAT).addAttribute("aColor",this._buffer,4,!0,s.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,s.TYPES.FLOAT).addIndex(this._indexBuffer)}}e.BatchGeometry=a},68615:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1122),n=i(57616),r=i(71648),a=i(82101),o=i(12191),h=i(60403),l=i(27863),d=i(37387),u=i(43396),c=i(49731),p=i(91197),m=i(24616),f=i(26512),g=i(24332),y=i(15278),x=i(40619),_=i(43873),b=i(42525);const v=class extends x.ObjectRenderer{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=p.BatchGeometry,this.vertexSize=6,this.state=d.State.for2d(),this.size=4*v.defaultBatchSize,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??y.maxRecommendedTextures(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??g.canUploadSameBuffer(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return o.deprecation("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return b.default}static get defaultFragmentTemplate(){return _.default}setShaderGenerator({vertex:t=v.defaultVertexSrc,fragment:e=v.defaultFragmentTemplate}={}){this.shaderGenerator=new m.BatchShaderGenerator(t,e)}contextChange(){const t=this.renderer.gl;a.settings.PREFER_ENV===n.ENV.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v.defaultMaxTextures),this.maxTextures=l.checkMaxIfStatementsInShader(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=v,i=this.size/4,s=Math.floor(i/this.maxTextures)+1;for(;t.length<i;)t.push(new c.BatchDrawCall);for(;e.length<s;)e.push(new f.BatchTextureArray);for(let t=0;t<this.maxTextures;t++)this._tempBoundTextures[t]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,i=v._textureArrayPool,s=this.renderer.batch,n=this._tempBoundTextures,r=this.renderer.textureGC.count;let a=++u.BaseTexture._globalBatch,o=0,h=i[0],l=0;s.copyBoundTextures(n,e);for(let d=0;d<this._bufferSize;++d){const u=t[d];t[d]=null,u._batchEnabled!==a&&(h.count>=e&&(s.boundArray(h,n,a,e),this.buildDrawCalls(h,l,d),l=d,h=i[++o],++a),u._batchEnabled=a,u.touched=r,h.elements[h.count++]=u)}h.count>0&&(s.boundArray(h,n,a,e),this.buildDrawCalls(h,l,this._bufferSize),++o,++a);for(let t=0;t<n.length;t++)n[t]=null;u.BaseTexture._globalBatch=a}buildDrawCalls(t,e,i){const{_bufferedElements:s,_attributeBuffer:n,_indexBuffer:r,vertexSize:a}=this,h=v._drawCallPool;let l=this._dcIndex,d=this._aIndex,u=this._iIndex,c=h[l];c.start=this._iIndex,c.texArray=t;for(let p=e;p<i;++p){const i=s[p],m=i._texture.baseTexture,f=o.premultiplyBlendMode[m.alphaMode?1:0][i.blendMode];s[p]=null,e<p&&c.blend!==f&&(c.size=u-c.start,e=p,c=h[++l],c.texArray=t,c.start=u),this.packInterleavedGeometry(i,n,r,d,u),d+=i.vertexData.length/2*a,u+=i.indices.length,c.blend=f}e<i&&(c.size=u-c.start,++l),this._dcIndex=l,this._aIndex=d,this._iIndex=u}bindAndClearTexArray(t){const e=this.renderer.texture;for(let i=0;i<t.count;i++)e.bind(t.elements[i],t.ids[i]),t.elements[i]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:i}=this;v.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:i}=this.renderer,s=v._drawCallPool;let n=null;for(let r=0;r<t;r++){const{texArray:t,type:a,size:o,start:h,blend:l}=s[r];n!==t&&(n=t,this.bindAndClearTexArray(t)),this.state.blendMode=l,i.set(this.state),e.drawElements(a,o,e.UNSIGNED_SHORT,2*h)}}flush(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),v.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=o.nextPow2(Math.ceil(t/8)),i=o.log2(e),s=8*e;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);let n=this._aBuffers[s];return n||(this._aBuffers[s]=n=new h.ViewableBuffer(s*this.vertexSize*4)),n}getIndexBuffer(t){const e=o.nextPow2(Math.ceil(t/12)),i=o.log2(e),s=12*e;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);let n=this._iBuffers[i];return n||(this._iBuffers[i]=n=new Uint16Array(s)),n}packInterleavedGeometry(t,e,i,n,r){const{uint32View:a,float32View:o}=e,h=n/this.vertexSize,l=t.uvs,d=t.indices,u=t.vertexData,c=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),m=s.Color.shared.setValue(t._tintRGB).toPremultiplied(p,t._texture.baseTexture.alphaMode>0);for(let t=0;t<u.length;t+=2)o[n++]=u[t],o[n++]=u[t+1],o[n++]=l[t],o[n++]=l[t+1],a[n++]=m,o[n++]=c;for(let t=0;t<d.length;t++)i[r++]=h+d[t]}};let S=v;S.defaultBatchSize=4096,S.extension={name:"batch",type:r.ExtensionType.RendererPlugin},S._drawCallPool=[],S._textureArrayPool=[],r.extensions.add(S),e.BatchRenderer=S},24616:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(40435),n=i(89906),r=i(87398),a=i(44240);e.BatchShaderGenerator=class{constructor(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},!e.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!e.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(t){if(!this.programCache[t]){const e=new Int32Array(t);for(let i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=a.UniformGroup.from({uSamplers:e},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${t}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new n.Program(this.vertexSrc,i)}const e={tint:new Float32Array([1,1,1,1]),translationMatrix:new s.Matrix,default:this.defaultGroupCache[t]};return new r.Shader(this.programCache[t],e)}generateSampleSrc(t){let e="";e+="\n",e+="\n";for(let i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+=`if(vTextureId < ${i}.5)`),e+="\n{",e+=`\n\tcolor = texture2D(uSamplers[${i}], vTextureCoord);`,e+="\n}";return e+="\n",e+="\n",e}}},95309:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71648),n=i(40619);class r{constructor(t){this.renderer=t,this.emptyRenderer=new n.ObjectRenderer(t),this.currentRenderer=this.emptyRenderer}setObjectRenderer(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(t,e){const{boundTextures:i}=this.renderer.texture;for(let s=e-1;s>=0;--s)t[s]=i[s]||null,t[s]&&(t[s]._batchLocation=s)}boundArray(t,e,i,s){const{elements:n,ids:r,count:a}=t;let o=0;for(let t=0;t<a;t++){const a=n[t],h=a._batchLocation;if(h>=0&&h<s&&e[h]===a)r[t]=h;else for(;o<s;){const s=e[o];if(!s||s._batchEnabled!==i||s._batchLocation!==o){r[t]=o,a._batchLocation=o,e[o]=a;break}o++}}}destroy(){this.renderer=null}}r.extension={type:s.ExtensionType.RendererSystem,name:"batch"},s.extensions.add(r),e.BatchSystem=r},26512:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.BatchTextureArray=class{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let t=0;t<this.count;t++)this.elements[t]=null;this.count=0}}},40619:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ObjectRenderer=class{constructor(t){this.renderer=t}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(t){}}},24332:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(82101);e.canUploadSameBuffer=function(){return!s.isMobile.apple.device}},15278:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(82101);e.maxRecommendedTextures=function(t){let e=!0;const i=s.settings.ADAPTER.getNavigator();if(s.isMobile.tablet||s.isMobile.phone){if(s.isMobile.apple.device){const t=i.userAgent.match(/OS (\d+)_(\d+)?/);if(t){parseInt(t[1],10)<11&&(e=!1)}}if(s.isMobile.android.device){const t=i.userAgent.match(/Android\s([0-9.]*)/);if(t){parseInt(t[1],10)<7&&(e=!1)}}}return e?t:4}},43873:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"},42525:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"},21673:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(71648),r=i(82101);let a=0;class o{constructor(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=a++}init(t){if(t.context)this.initFromContext(t.context);else{const e=this.renderer.background.alpha<1,i=t.premultipliedAlpha;this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.useContextAlpha=t.useContextAlpha,this.powerPreference=t.powerPreference,this.initFromOptions({alpha:e,premultipliedAlpha:i,antialias:t.antialias,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:t.powerPreference})}}initFromContext(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=a++,this.renderer.runners.contextChange.emit(t);const e=this.renderer.view;void 0!==e.addEventListener&&(e.addEventListener("webglcontextlost",this.handleContextLost,!1),e.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(t){const e=this.createContext(this.renderer.view,t);this.initFromContext(e)}createContext(t,e){let i;if(r.settings.PREFER_ENV>=s.ENV.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl}getExtensions(){const{gl:t}=this,e={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})}handleContextLost(t){t.preventDefault(),setTimeout((()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()}),0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const t=this.renderer.view;this.renderer=null,void 0!==t.removeEventListener&&(t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(t){const e=t.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),e&&!e.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const s=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}o.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},o.extension={type:n.ExtensionType.RendererSystem,name:"context"},n.extensions.add(o),e.ContextSystem=o},21316:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(89906),r=i(87398),a=i(37387),o=i(89400),h=i(40459);const l=class extends r.Shader{constructor(t,e,i){super(n.Program.from(t||l.defaultVertexSrc,e||l.defaultFragmentSrc),i),this.padding=0,this.resolution=l.defaultResolution,this.multisample=l.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new a.State}apply(t,e,i,s,n){t.applyFilter(this,e,i,s)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return h.default}static get defaultFragmentSrc(){return o.default}};let d=l;d.defaultResolution=1,d.defaultMultisample=s.MSAA_QUALITY.NONE,e.Filter=d},33092:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(40435);e.FilterState=class{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=s.MSAA_QUALITY.NONE,this.sourceFrame=new n.Rectangle,this.destinationFrame=new n.Rectangle,this.bindingSourceFrame=new n.Rectangle,this.bindingDestinationFrame=new n.Rectangle,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}},28994:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(71648),r=i(40435),a=i(26516),o=i(44240),h=i(342),l=i(72953),d=i(33092);const u=[new r.Point,new r.Point,new r.Point,new r.Point],c=new r.Matrix;class p{constructor(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new a.RenderTexturePool,this.statePool=[],this.quad=new h.Quad,this.quadUv=new l.QuadUv,this.tempRect=new r.Rectangle,this.activeState={},this.globalUniforms=new o.UniformGroup({outputFrame:new r.Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(t,e){const i=this.renderer,s=this.defaultFilterStack,n=this.statePool.pop()||new d.FilterState,r=this.renderer.renderTexture;let a=e[0].resolution,o=e[0].multisample,h=e[0].padding,l=e[0].autoFit,u=e[0].legacy??!0;for(let t=1;t<e.length;t++){const i=e[t];a=Math.min(a,i.resolution),o=Math.min(o,i.multisample),h=this.useMaxPadding?Math.max(h,i.padding):h+i.padding,l=l&&i.autoFit,u=u||(i.legacy??!0)}1===s.length&&(this.defaultFilterStack[0].renderTexture=r.current),s.push(n),n.resolution=a,n.multisample=o,n.legacy=u,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(h);const p=this.tempRect.copyFrom(r.sourceFrame);i.projection.transform&&this.transformAABB(c.copyFrom(i.projection.transform).invert(),p),l?(n.sourceFrame.fit(p),(n.sourceFrame.width<=0||n.sourceFrame.height<=0)&&(n.sourceFrame.width=0,n.sourceFrame.height=0)):n.sourceFrame.intersects(p)||(n.sourceFrame.width=0,n.sourceFrame.height=0),this.roundFrame(n.sourceFrame,r.current?r.current.resolution:i.resolution,r.sourceFrame,r.destinationFrame,i.projection.transform),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,a,o),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;const m=this.tempRect;m.x=0,m.y=0,m.width=n.sourceFrame.width,m.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,n.bindingSourceFrame.copyFrom(r.sourceFrame),n.bindingDestinationFrame.copyFrom(r.destinationFrame),n.transform=i.projection.transform,i.projection.transform=null,r.bind(n.renderTexture,n.sourceFrame,m),i.framebuffer.clear(0,0,0,0)}pop(){const t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;const n=this.globalUniforms.uniforms;n.outputFrame=e.sourceFrame,n.resolution=e.resolution;const r=n.inputSize,a=n.inputPixel,o=n.inputClamp;if(r[0]=e.destinationFrame.width,r[1]=e.destinationFrame.height,r[2]=1/r[0],r[3]=1/r[1],a[0]=Math.round(r[0]*e.resolution),a[1]=Math.round(r[1]*e.resolution),a[2]=1/a[0],a[3]=1/a[1],o[0]=.5*a[2],o[1]=.5*a[3],o[2]=e.sourceFrame.width*r[2]-.5*a[2],o[3]=e.sourceFrame.height*r[3]-.5*a[3],e.legacy){const t=n.filterArea;t[0]=e.destinationFrame.width,t[1]=e.destinationFrame.height,t[2]=e.sourceFrame.x,t[3]=e.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();const h=t[t.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,h.renderTexture,s.CLEAR_MODES.BLEND,e),this.returnFilterTexture(e.renderTexture);else{let t=e.renderTexture,n=this.getOptimalFilterTexture(t.width,t.height,e.resolution);n.filterFrame=t.filterFrame;let r=0;for(r=0;r<i.length-1;++r){1===r&&e.multisample>1&&(n=this.getOptimalFilterTexture(t.width,t.height,e.resolution),n.filterFrame=t.filterFrame),i[r].apply(this,t,n,s.CLEAR_MODES.CLEAR,e);const a=t;t=n,n=a}i[r].apply(this,t,h.renderTexture,s.CLEAR_MODES.BLEND,e),r>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(t),this.returnFilterTexture(n)}e.clear(),this.statePool.push(e)}bindAndClear(t,e=s.CLEAR_MODES.CLEAR){const{renderTexture:i,state:n}=this.renderer;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t?.filterFrame){const e=this.tempRect;e.x=0,e.y=0,e.width=t.filterFrame.width,e.height=t.filterFrame.height,i.bind(t,t.filterFrame,e)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const r=1&n.stateId||this.forceClear;(e===s.CLEAR_MODES.CLEAR||e===s.CLEAR_MODES.BLIT&&r)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(t,e,i,n){const r=this.renderer;r.state.set(t.state),this.bindAndClear(i,n),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,r.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),r.geometry.bind(this.quadUv),r.geometry.draw(s.DRAW_MODES.TRIANGLES)):(r.geometry.bind(this.quad),r.geometry.draw(s.DRAW_MODES.TRIANGLE_STRIP))}calculateSpriteMatrix(t,e){const{sourceFrame:i,destinationFrame:s}=this.activeState,{orig:n}=e._texture,a=t.set(s.width,0,0,s.height,i.x,i.y),o=e.worldTransform.copyTo(r.Matrix.TEMP_MATRIX);return o.invert(),a.prepend(o),a.scale(1/n.width,1/n.height),a.translate(e.anchor.x,e.anchor.y),a}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(t,e,i=1,n=s.MSAA_QUALITY.NONE){return this.texturePool.getOptimalTexture(t,e,i,n)}getFilterTexture(t,e,i){if("number"==typeof t){const i=t;t=e,e=i}t=t||this.activeState.renderTexture;const n=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,i||s.MSAA_QUALITY.NONE);return n.filterFrame=t.filterFrame,n}returnFilterTexture(t){this.texturePool.returnTexture(t)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(t,e){const i=u[0],s=u[1],n=u[2],r=u[3];i.set(e.left,e.top),s.set(e.left,e.bottom),n.set(e.right,e.top),r.set(e.right,e.bottom),t.apply(i,i),t.apply(s,s),t.apply(n,n),t.apply(r,r);const a=Math.min(i.x,s.x,n.x,r.x),o=Math.min(i.y,s.y,n.y,r.y),h=Math.max(i.x,s.x,n.x,r.x),l=Math.max(i.y,s.y,n.y,r.y);e.x=a,e.y=o,e.width=h-a,e.height=l-o}roundFrame(t,e,i,s,n){if(!(t.width<=0||t.height<=0||i.width<=0||i.height<=0)){if(n){const{a:t,b:e,c:i,d:s}=n;if((Math.abs(e)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(s)>1e-4))return}(n=n?c.copyFrom(n):c.identity()).translate(-i.x,-i.y).scale(s.width/i.width,s.height/i.height).translate(s.x,s.y),this.transformAABB(n,t),t.ceil(e),this.transformAABB(n.invert(),t)}}}p.extension={type:n.ExtensionType.RendererSystem,name:"filter"},n.extensions.add(p),e.FilterSystem=p},11975:()=>{},89400:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},40459:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},48977:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(40435),n=i(67772),r=i(21316),a=i(79058),o=i(67231);class h extends r.Filter{constructor(t,e,i){let n=null;"string"!=typeof t&&void 0===e&&void 0===i&&(n=t,t=void 0,e=void 0,i=void 0),super(t||o.default,e||a.default,i),this.maskSprite=n,this.maskMatrix=new s.Matrix}get maskSprite(){return this._maskSprite}set maskSprite(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(t,e,i,s){const r=this._maskSprite,a=r._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new n.TextureMatrix(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,r).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,t.applyFilter(this,e,i,s))}}e.SpriteMaskFilter=h},79058:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n"},67231:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n"},30979:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}"},23412:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},11517:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(30979),n=i(23412);const r=s.default,a=n.default;e.defaultFilterVertex=a,e.defaultVertex=r},96268:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(82156),r=i(43396),a=i(50911);e.Framebuffer=class{constructor(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new n.Runner("disposeFramebuffer"),this.multisample=s.MSAA_QUALITY.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(t=0,e){return this.colorTextures[t]=e||new r.BaseTexture(null,{scaleMode:s.SCALE_MODES.NEAREST,resolution:1,mipmap:s.MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(t){return this.depthTexture=t||new r.BaseTexture(new a.DepthResource(null,{width:this.width,height:this.height}),{scaleMode:s.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:s.MIPMAP_MODES.OFF,format:s.FORMATS.DEPTH_COMPONENT,type:s.TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(let i=0;i<this.colorTextures.length;i++){const s=this.colorTextures[i],n=s.resolution;s.setSize(t/n,e/n)}if(this.depthTexture){const i=this.depthTexture.resolution;this.depthTexture.setSize(t/i,e/i)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}},66548:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(71648),r=i(40435),a=i(82101),o=i(96268),h=i(15465);const l=new r.Rectangle;class d{constructor(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new o.Framebuffer(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new r.Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){let e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;a.settings.PREFER_ENV===s.ENV.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=t=>e.drawBuffersWEBGL(t):(this.hasMRT=!1,t.drawBuffers=()=>{}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}bind(t,e,i=0){const{gl:s}=this;if(t){const n=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,s.bindFramebuffer(s.FRAMEBUFFER,n.framebuffer)),n.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,n.mipLevel=i),n.dirtyId!==t.dirtyId&&(n.dirtyId=t.dirtyId,n.dirtyFormat!==t.dirtyFormat?(n.dirtyFormat=t.dirtyFormat,n.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):n.dirtySize!==t.dirtySize&&(n.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(let e=0;e<t.colorTextures.length;e++){const i=t.colorTextures[e];this.renderer.texture.unbind(i.parentTextureArray||i)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){const t=e.width>>i,s=e.height>>i,n=t/e.width;this.setViewport(e.x*n,e.y*n,t,s)}else{const e=t.width>>i,s=t.height>>i;this.setViewport(0,0,e,s)}}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(t,e,i,s){const n=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),s=Math.round(s),n.width===i&&n.height===s&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=i,n.height=s,this.gl.viewport(t,e,i,s))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(t,e,i,n,r=s.BUFFER_BITS.COLOR|s.BUFFER_BITS.DEPTH){const{gl:a}=this;a.clearColor(t,e,i,n),a.clear(r)}initFramebuffer(t){const{gl:e}=this,i=new h.GLFramebuffer(e.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i}resizeFramebuffer(t){const{gl:e}=this,i=t.glFramebuffers[this.CONTEXT_UID];i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));const s=t.colorTextures;let n=s.length;e.drawBuffers||(n=Math.min(n,1));for(let r=0;r<n;r++){const n=s[r],a=n.parentTextureArray||n;this.renderer.texture.bind(a,0),0===r&&i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,a._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height))}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)}updateFramebuffer(t,e){const{gl:i}=this,s=t.glFramebuffers[this.CONTEXT_UID],n=t.colorTextures;let r=n.length;i.drawBuffers||(r=Math.min(r,1)),s.multisample>1&&this.canMultisampleFramebuffer(t)?s.msaaBuffer=s.msaaBuffer||i.createRenderbuffer():s.msaaBuffer&&(i.deleteRenderbuffer(s.msaaBuffer),s.msaaBuffer=null,s.blitFramebuffer&&(s.blitFramebuffer.dispose(),s.blitFramebuffer=null));const a=[];for(let o=0;o<r;o++){const r=n[o],h=r.parentTextureArray||r;this.renderer.texture.bind(h,0),0===o&&s.msaaBuffer?(i.bindRenderbuffer(i.RENDERBUFFER,s.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,s.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,s.msaaBuffer)):(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+o,r.target,h._glTextures[this.CONTEXT_UID].texture,e),a.push(i.COLOR_ATTACHMENT0+o))}if(a.length>1&&i.drawBuffers(a),t.depthTexture){if(this.writeDepthTexture){const s=t.depthTexture;this.renderer.texture.bind(s,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,s._glTextures[this.CONTEXT_UID].texture,e)}}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?s.stencil&&(i.deleteRenderbuffer(s.stencil),s.stencil=null):(s.stencil=s.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,s.stencil),s.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,s.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,s.stencil))}canMultisampleFramebuffer(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture}detectSamples(t){const{msaaSamples:e}=this;let i=s.MSAA_QUALITY.NONE;if(t<=1||null===e)return i;for(let s=0;s<e.length;s++)if(e[s]<=t){i=e[s];break}return 1===i&&(i=s.MSAA_QUALITY.NONE),i}blit(t,e,i){const{current:s,renderer:n,gl:r,CONTEXT_UID:a}=this;if(2!==n.context.webGLVersion)return;if(!s)return;const h=s.glFramebuffers[a];if(!h)return;if(!t){if(!h.msaaBuffer)return;const e=s.colorTextures[0];if(!e)return;h.blitFramebuffer||(h.blitFramebuffer=new o.Framebuffer(s.width,s.height),h.blitFramebuffer.addColorTexture(0,e)),(t=h.blitFramebuffer).colorTextures[0]!==e&&(t.colorTextures[0]=e,t.dirtyId++,t.dirtyFormat++),t.width===s.width&&t.height===s.height||(t.width=s.width,t.height=s.height,t.dirtyId++,t.dirtySize++)}e||((e=l).width=s.width,e.height=s.height),i||(i=e);const d=e.width===i.width&&e.height===i.height;this.bind(t),r.bindFramebuffer(r.READ_FRAMEBUFFER,h.framebuffer),r.blitFramebuffer(e.left,e.top,e.right,e.bottom,i.left,i.top,i.right,i.bottom,r.COLOR_BUFFER_BIT,d?r.NEAREST:r.LINEAR),r.bindFramebuffer(r.READ_FRAMEBUFFER,t.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(t,e){const i=t.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!i)return;delete t.glFramebuffers[this.CONTEXT_UID];const n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(s.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&s.deleteRenderbuffer(i.msaaBuffer),i.stencil&&s.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&this.disposeFramebuffer(i.blitFramebuffer,e)}disposeAll(t){const e=this.managedFramebuffers;this.managedFramebuffers=[];for(let i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)}forceStencil(){const t=this.current;if(!t)return;const e=t.glFramebuffers[this.CONTEXT_UID];if(!e||e.stencil)return;t.stencil=!0;const i=t.width,s=t.height,n=this.gl,r=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,r),e.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,e.multisample,n.DEPTH24_STENCIL8,i,s):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,i,s),e.stencil=r,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,r)}reset(){this.current=this.unknownFramebuffer,this.viewport=new r.Rectangle}destroy(){this.renderer=null}}d.extension={type:n.ExtensionType.RendererSystem,name:"framebuffer"},n.extensions.add(d),e.FramebufferSystem=d},15465:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616);e.GLFramebuffer=class{constructor(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=s.MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}},82124:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(71648);class r{constructor(t){this.renderer=t}contextChange(t){let e;if(1===this.renderer.context.webGLVersion){const i=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,i)}else{const i=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,i)}e>=s.MSAA_QUALITY.HIGH?this.multisample=s.MSAA_QUALITY.HIGH:e>=s.MSAA_QUALITY.MEDIUM?this.multisample=s.MSAA_QUALITY.MEDIUM:e>=s.MSAA_QUALITY.LOW?this.multisample=s.MSAA_QUALITY.LOW:this.multisample=s.MSAA_QUALITY.NONE}destroy(){}}r.extension={type:n.ExtensionType.RendererSystem,name:"_multisample"},n.extensions.add(r),e.MultisampleSystem=r},8069:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616);class n{constructor(t,e=0,i=!1,n=s.TYPES.FLOAT,r,a,o,h=1){this.buffer=t,this.size=e,this.normalized=i,this.type=n,this.stride=r,this.start=a,this.instance=o,this.divisor=h}destroy(){this.buffer=null}static from(t,e,i,s,r){return new n(t,e,i,s,r)}}e.Attribute=n},44518:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(82156);let r=0;class a{constructor(t,e=!0,i=!1){this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=r++,this.disposeRunner=new n.Runner("disposeBuffer")}update(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(t){this.type=t?s.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER:s.BUFFER_TYPE.ARRAY_BUFFER}get index(){return this.type===s.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new a(t)}}e.Buffer=a},13313:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71648),n=i(81204);class r{constructor(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:e,CONTEXT_UID:i}=this,s=t._glBuffers[i]||this.createGLBuffer(t);e.bindBuffer(t.type,s.buffer)}unbind(t){const{gl:e}=this;e.bindBuffer(t,null)}bindBufferBase(t,e){const{gl:i,CONTEXT_UID:s}=this;if(this.boundBufferBases[e]!==t){const n=t._glBuffers[s]||this.createGLBuffer(t);this.boundBufferBases[e]=t,i.bindBufferBase(i.UNIFORM_BUFFER,e,n.buffer)}}bindBufferRange(t,e,i){const{gl:s,CONTEXT_UID:n}=this;i=i||0;const r=t._glBuffers[n]||this.createGLBuffer(t);s.bindBufferRange(s.UNIFORM_BUFFER,e||0,r.buffer,256*i,256)}update(t){const{gl:e,CONTEXT_UID:i}=this,s=t._glBuffers[i]||this.createGLBuffer(t);if(t._updateID!==s.updateID)if(s.updateID=t._updateID,e.bindBuffer(t.type,s.buffer),s.byteLength>=t.data.byteLength)e.bufferSubData(t.type,0,t.data);else{const i=t.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;s.byteLength=t.data.byteLength,e.bufferData(t.type,t.data,i)}}dispose(t,e){if(!this.managedBuffers[t.id])return;delete this.managedBuffers[t.id];const i=t._glBuffers[this.CONTEXT_UID],s=this.gl;t.disposeRunner.remove(this),i&&(e||s.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}disposeAll(t){const e=Object.keys(this.managedBuffers);for(let i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)}createGLBuffer(t){const{CONTEXT_UID:e,gl:i}=this;return t._glBuffers[e]=new n.GLBuffer(i.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[e]}}r.extension={type:s.ExtensionType.RendererSystem,name:"buffer"},s.extensions.add(r),e.BufferSystem=r},81204:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.GLBuffer=class{constructor(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}},82736:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(82156),r=i(12191),a=i(8069),o=i(44518),h=i(72281);const l={5126:4,5123:2,5121:1};let d=0;const u={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class c{constructor(t=[],e={}){this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=d++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new n.Runner("disposeGeometry"),this.refCount=0}addAttribute(t,e,i=0,s=!1,n,r,h,l=!1){if(!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof o.Buffer||(e instanceof Array&&(e=new Float32Array(e)),e=new o.Buffer(e));const d=t.split("|");if(d.length>1){for(let t=0;t<d.length;t++)this.addAttribute(d[t],e,i,s,n);return this}let u=this.buffers.indexOf(e);return-1===u&&(this.buffers.push(e),u=this.buffers.length-1),this.attributes[t]=new a.Attribute(u,i,s,n,r,h,l),this.instanced=this.instanced||l,this}getAttribute(t){return this.attributes[t]}getBuffer(t){return this.buffers[this.getAttribute(t).buffer]}addIndex(t){return t instanceof o.Buffer||(t instanceof Array&&(t=new Uint16Array(t)),t=new o.Buffer(t)),t.type=s.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.includes(t)||this.buffers.push(t),this}getIndex(){return this.indexBuffer}interleave(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;const t=[],e=[],i=new o.Buffer;let s;for(s in this.attributes){const i=this.attributes[s],n=this.buffers[i.buffer];t.push(n.data),e.push(i.size*l[i.type]/4),i.buffer=0}for(i.data=h.interleaveTypedArrays(t,e),s=0;s<this.buffers.length;s++)this.buffers[s]!==this.indexBuffer&&this.buffers[s].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const t in this.attributes){const e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const t=new c;for(let e=0;e<this.buffers.length;e++)t.buffers[e]=new o.Buffer(this.buffers[e].data.slice(0));for(const e in this.attributes){const i=this.attributes[e];t.attributes[e]=new a.Attribute(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=s.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER),t}static merge(t){const e=new c,i=[],n=[],a=[];let h;for(let e=0;e<t.length;e++){h=t[e];for(let t=0;t<h.buffers.length;t++)n[t]=n[t]||0,n[t]+=h.buffers[t].data.length,a[t]=0}for(let t=0;t<h.buffers.length;t++)i[t]=new(u[r.getBufferType(h.buffers[t].data)])(n[t]),e.buffers[t]=new o.Buffer(i[t]);for(let e=0;e<t.length;e++){h=t[e];for(let t=0;t<h.buffers.length;t++)i[t].set(h.buffers[t].data,a[t]),a[t]+=h.buffers[t].data.length}if(e.attributes=h.attributes,h.indexBuffer){e.indexBuffer=e.buffers[h.buffers.indexOf(h.indexBuffer)],e.indexBuffer.type=s.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;let i=0,n=0,r=0,a=0;for(let t=0;t<h.buffers.length;t++)if(h.buffers[t]!==h.indexBuffer){a=t;break}for(const t in h.attributes){const e=h.attributes[t];(0|e.buffer)===a&&(n+=e.size*l[e.type]/4)}for(let s=0;s<t.length;s++){const o=t[s].indexBuffer.data;for(let t=0;t<o.length;t++)e.indexBuffer.data[t+r]+=i;i+=t[s].buffers[a].data.length/n,r+=o.length}}return e}}e.Geometry=c},98911:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(71648),r=i(82101);const a={5126:4,5123:2,5121:1};class o{constructor(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){let e=this.renderer.context.extensions.vertexArrayObject;r.settings.PREFER_ENV===s.ENV.WEBGL_LEGACY&&(e=null),e?(t.createVertexArray=()=>e.createVertexArrayOES(),t.bindVertexArray=t=>e.bindVertexArrayOES(t),t.deleteVertexArray=t=>e.deleteVertexArrayOES(t)):(this.hasVao=!1,t.createVertexArray=()=>null,t.bindVertexArray=()=>null,t.deleteVertexArray=()=>null)}if(2!==e.webGLVersion){const e=t.getExtension("ANGLE_instanced_arrays");e?(t.vertexAttribDivisor=(t,i)=>e.vertexAttribDivisorANGLE(t,i),t.drawElementsInstanced=(t,i,s,n,r)=>e.drawElementsInstancedANGLE(t,i,s,n,r),t.drawArraysInstanced=(t,i,s,n)=>e.drawArraysInstancedANGLE(t,i,s,n)):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex}bind(t,e){e=e||this.renderer.shader.shader;const{gl:i}=this;let s=t.glVertexArrayObjects[this.CONTEXT_UID],n=!1;s||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=s={},n=!0);const r=s[e.program.id]||this.initGeometryVao(t,e,n);this._activeGeometry=t,this._activeVao!==r&&(this._activeVao=r,this.hasVao?i.bindVertexArray(r):this.activateVao(t,e.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const t=this._activeGeometry,e=this.renderer.buffer;for(let i=0;i<t.buffers.length;i++){const s=t.buffers[i];e.update(s)}}checkCompatibility(t,e){const i=t.attributes,s=e.attributeData;for(const t in s)if(!i[t])throw new Error(`shader and geometry incompatible, geometry missing the "${t}" attribute`)}getSignature(t,e){const i=t.attributes,s=e.attributeData,n=["g",t.id];for(const t in i)s[t]&&n.push(t,s[t].location);return n.join("-")}initGeometryVao(t,e,i=!0){const n=this.gl,r=this.CONTEXT_UID,o=this.renderer.buffer,h=e.program;h.glPrograms[r]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,h);const l=this.getSignature(t,h),d=t.glVertexArrayObjects[this.CONTEXT_UID];let u=d[l];if(u)return d[h.id]=u,u;const c=t.buffers,p=t.attributes,m={},f={};for(const t in c)m[t]=0,f[t]=0;for(const t in p)!p[t].size&&h.attributeData[t]?p[t].size=h.attributeData[t].size:p[t].size||console.warn(`PIXI Geometry attribute '${t}' size cannot be determined (likely the bound shader does not have the attribute)`),m[p[t].buffer]+=p[t].size*a[p[t].type];for(const t in p){const e=p[t],i=e.size;void 0===e.stride&&(m[e.buffer]===i*a[e.type]?e.stride=0:e.stride=m[e.buffer]),void 0===e.start&&(e.start=f[e.buffer],f[e.buffer]+=i*a[e.type])}u=n.createVertexArray(),n.bindVertexArray(u);for(let t=0;t<c.length;t++){const e=c[t];o.bind(e),i&&e._glBuffers[r].refCount++}return this.activateVao(t,h),d[h.id]=u,d[l]=u,n.bindVertexArray(null),o.unbind(s.BUFFER_TYPE.ARRAY_BUFFER),u}disposeGeometry(t,e){if(!this.managedGeometries[t.id])return;delete this.managedGeometries[t.id];const i=t.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,n=t.buffers,r=this.renderer?.buffer;if(t.disposeRunner.remove(this),i){if(r)for(let t=0;t<n.length;t++){const i=n[t]._glBuffers[this.CONTEXT_UID];i&&(i.refCount--,0!==i.refCount||e||r.dispose(n[t],e))}if(!e)for(const t in i)if("g"===t[0]){const e=i[t];this._activeVao===e&&this.unbind(),s.deleteVertexArray(e)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(t){const e=Object.keys(this.managedGeometries);for(let i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)}activateVao(t,e){const i=this.gl,s=this.CONTEXT_UID,n=this.renderer.buffer,r=t.buffers,a=t.attributes;t.indexBuffer&&n.bind(t.indexBuffer);let o=null;for(const t in a){const h=a[t],l=r[h.buffer],d=l._glBuffers[s];if(e.attributeData[t]){o!==d&&(n.bind(l),o=d);const s=e.attributeData[t].location;if(i.enableVertexAttribArray(s),i.vertexAttribPointer(s,h.size,h.type||i.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(s,h.divisor)}}}}draw(t,e,i,s){const{gl:n}=this,r=this._activeGeometry;if(r.indexBuffer){const a=r.indexBuffer.data.BYTES_PER_ELEMENT,o=2===a?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?r.instanced?n.drawElementsInstanced(t,e||r.indexBuffer.data.length,o,(i||0)*a,s||1):n.drawElements(t,e||r.indexBuffer.data.length,o,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else r.instanced?n.drawArraysInstanced(t,i,e||r.getSize(),s||1):n.drawArrays(t,i,e||r.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}o.extension={type:n.ExtensionType.RendererSystem,name:"geometry"},n.extensions.add(o),e.GeometrySystem=o},60403:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ViewableBuffer=class{constructor(t){"number"==typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}},72281:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(12191);const n={Float32Array,Uint32Array,Int32Array,Uint8Array};e.interleaveTypedArrays=function(t,e){let i=0,r=0;const a={};for(let s=0;s<t.length;s++)r+=e[s],i+=t[s].length;const o=new ArrayBuffer(4*i);let h=null,l=0;for(let i=0;i<t.length;i++){const d=e[i],u=t[i],c=s.getBufferType(u);a[c]||(a[c]=new n[c](o)),h=a[c];for(let t=0;t<u.length;t++){h[(t/d|0)*r+l+t%d]=u[t]}l+=d}return new Float32Array(o)}},48742:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(31970);var s=i(1122),n=i(57616),r=i(71648),a=i(40435),o=i(82156),h=i(82101),l=i(36082),d=i(12191),u=i(83947),c=i(31110),p=i(49731),m=i(91197),f=i(68615),g=i(24616),y=i(95309),x=i(26512),_=i(40619),b=i(21673),v=i(21316),S=i(33092),T=i(28994);i(11975);var w=i(48977),E=i(11517),C=i(96268),A=i(66548),M=i(15465),P=i(82124),B=i(8069),R=i(44518),I=i(13313),k=i(82736),O=i(98911),D=i(60403);i(64665);var F=i(96676),L=i(73839),N=i(9832),U=i(25782),G=i(34800),V=i(64910),j=i(54353),W=i(97032),Y=i(8399),X=i(34914),H=i(41020),$=i(26516),z=i(62109),q=i(73784),K=i(89906),Z=i(87398),J=i(49535),Q=i(44240),tt=i(27863),et=i(91366),it=i(9124),st=i(47465),nt=i(49145),rt=i(94652),at=i(3382),ot=i(37387),ht=i(8389);i(64807),i(69774);var lt=i(43396),dt=i(50701);i(64535);var ut=i(65453),ct=i(21811),pt=i(67772),mt=i(1546),ft=i(46487),gt=i(23574),yt=i(58228),xt=i(342),_t=i(72953),bt=i(45711),vt=i(8065),St=i(93748),Tt=i(79421),wt=i(34627),Et=i(82696),Ct=i(11105),At=i(95737),Mt=i(30544),Pt=i(40073),Bt=i(11638),Rt=i(79137),It=i(23868),kt=i(41540);function Ot(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(i){if("default"!==i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}})),e.default=t,e}var Dt=Ot(d);e.utils=Dt,e.autoDetectRenderer=u.autoDetectRenderer,e.BackgroundSystem=c.BackgroundSystem,e.BatchDrawCall=p.BatchDrawCall,e.BatchGeometry=m.BatchGeometry,e.BatchRenderer=f.BatchRenderer,e.BatchShaderGenerator=g.BatchShaderGenerator,e.BatchSystem=y.BatchSystem,e.BatchTextureArray=x.BatchTextureArray,e.ObjectRenderer=_.ObjectRenderer,e.ContextSystem=b.ContextSystem,e.Filter=v.Filter,e.FilterState=S.FilterState,e.FilterSystem=T.FilterSystem,e.SpriteMaskFilter=w.SpriteMaskFilter,e.defaultFilterVertex=E.defaultFilterVertex,e.defaultVertex=E.defaultVertex,e.Framebuffer=C.Framebuffer,e.FramebufferSystem=A.FramebufferSystem,e.GLFramebuffer=M.GLFramebuffer,e.MultisampleSystem=P.MultisampleSystem,e.Attribute=B.Attribute,e.Buffer=R.Buffer,e.BufferSystem=I.BufferSystem,e.Geometry=k.Geometry,e.GeometrySystem=O.GeometrySystem,e.ViewableBuffer=D.ViewableBuffer,e.MaskData=F.MaskData,e.MaskSystem=L.MaskSystem,e.ScissorSystem=N.ScissorSystem,e.StencilSystem=U.StencilSystem,e.PluginSystem=G.PluginSystem,e.ProjectionSystem=V.ProjectionSystem,e.ObjectRendererSystem=j.ObjectRendererSystem,e.Renderer=W.Renderer,e.BaseRenderTexture=Y.BaseRenderTexture,e.GenerateTextureSystem=X.GenerateTextureSystem,e.RenderTexture=H.RenderTexture,e.RenderTexturePool=$.RenderTexturePool,e.RenderTextureSystem=z.RenderTextureSystem,e.GLProgram=q.GLProgram,e.IGLUniformData=q.IGLUniformData,e.Program=K.Program,e.Shader=Z.Shader,e.ShaderSystem=J.ShaderSystem,e.UniformGroup=Q.UniformGroup,e.checkMaxIfStatementsInShader=tt.checkMaxIfStatementsInShader,e.generateProgram=et.generateProgram,e.createUBOElements=it.createUBOElements,e.generateUniformBufferSync=it.generateUniformBufferSync,e.getUBOData=it.getUBOData,e.getTestContext=st.getTestContext,e.uniformParsers=nt.uniformParsers,e.unsafeEvalSupported=rt.unsafeEvalSupported,e.StartupSystem=at.StartupSystem,e.State=ot.State,e.StateSystem=ht.StateSystem,e.BaseTexture=lt.BaseTexture,e.GLTexture=dt.GLTexture,e.Texture=ut.Texture,e.TextureGCSystem=ct.TextureGCSystem,e.TextureMatrix=pt.TextureMatrix,e.TextureSystem=mt.TextureSystem,e.TextureUvs=ft.TextureUvs,e.TransformFeedback=gt.TransformFeedback,e.TransformFeedbackSystem=yt.TransformFeedbackSystem,e.Quad=xt.Quad,e.QuadUv=_t.QuadUv,e.ViewSystem=bt.ViewSystem,e.SystemManager=vt.SystemManager,e.BaseImageResource=St.BaseImageResource,e.Resource=Tt.Resource,e.AbstractMultiResource=wt.AbstractMultiResource,e.ArrayResource=Et.ArrayResource,e.INSTALLED=Ct.INSTALLED,e.autoDetectResource=Ct.autoDetectResource,e.BufferResource=At.BufferResource,e.CanvasResource=Mt.CanvasResource,e.CubeResource=Pt.CubeResource,e.ImageBitmapResource=Bt.ImageBitmapResource,e.ImageResource=Rt.ImageResource,e.SVGResource=It.SVGResource,e.VideoResource=kt.VideoResource,e.VERSION="7.2.4",Object.keys(s).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})})),Object.keys(n).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})),Object.keys(r).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})),Object.keys(a).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})})),Object.keys(o).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})})),Object.keys(h).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}})})),Object.keys(l).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})}))},86510:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.AbstractMaskSystem=class{constructor(t){this.renderer=t,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(t){const{gl:e}=this.renderer,i=this.getStackLength();this.maskStack=t;const s=this.getStackLength();s!==i&&(0===s?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}},96676:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(21316);e.MaskData=class{constructor(t=null){this.type=s.MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=n.Filter.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=s.MASK_TYPES.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}},73839:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(71648),r=i(48977),a=i(96676);class o{constructor(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)}push(t,e){let i=e;if(!i.isMaskData){const t=this.maskDataPool.pop()||new a.MaskData;t.pooled=!0,t.maskObject=e,i=t}const n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(n),i._colorMask=n?n._colorMask:15,i.autoDetect&&this.detect(i),i._target=t,i.type!==s.MASK_TYPES.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case s.MASK_TYPES.SCISSOR:this.renderer.scissor.push(i);break;case s.MASK_TYPES.STENCIL:this.renderer.stencil.push(i);break;case s.MASK_TYPES.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i);break;case s.MASK_TYPES.COLOR:this.pushColorMask(i)}i.type===s.MASK_TYPES.SPRITE&&this.maskStack.push(i)}pop(t){const e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case s.MASK_TYPES.SCISSOR:this.renderer.scissor.pop(e);break;case s.MASK_TYPES.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case s.MASK_TYPES.SPRITE:this.popSpriteMask(e);break;case s.MASK_TYPES.COLOR:this.popColorMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){const t=this.maskStack[this.maskStack.length-1];t.type===s.MASK_TYPES.SPRITE&&t._filters&&(t._filters[0].maskSprite=t.maskObject)}}}detect(t){const e=t.maskObject;e?e.isSprite?t.type=s.MASK_TYPES.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=s.MASK_TYPES.SCISSOR:t.type=s.MASK_TYPES.STENCIL:t.type=s.MASK_TYPES.COLOR}pushSpriteMask(t){const{maskObject:e}=t,i=t._target;let s=t._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex],s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new r.SpriteMaskFilter]));const n=this.renderer,a=n.renderTexture;let o,h;if(a.current){const e=a.current;o=t.resolution||e.resolution,h=t.multisample??e.multisample}else o=t.resolution||n.resolution,h=t.multisample??n.multisample;s[0].resolution=o,s[0].multisample=h,s[0].maskSprite=e;const l=i.filterArea;i.filterArea=e.getBounds(!0),n.filter.push(i,s),i.filterArea=l,t._filters||this.alphaMaskIndex++}popSpriteMask(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(t){const e=t._colorMask,i=t._colorMask=e&t.colorMask;i!==e&&this.renderer.gl.colorMask(0!=(1&i),0!=(2&i),0!=(4&i),0!=(8&i))}popColorMask(t){const e=t._colorMask,i=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;i!==e&&this.renderer.gl.colorMask(0!=(1&i),0!=(2&i),0!=(4&i),0!=(8&i))}destroy(){this.renderer=null}}o.extension={type:n.ExtensionType.RendererSystem,name:"mask"},n.extensions.add(o),e.MaskSystem=o},9832:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71648),n=i(40435),r=i(82101),a=i(86510);const o=new n.Matrix,h=[],l=class extends a.AbstractMaskSystem{constructor(t){super(t),this.glConst=r.settings.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:i}=t,{renderer:s}=this,r=s.renderTexture,a=i.getBounds(!0,h.pop()??new n.Rectangle);this.roundFrameToPixels(a,r.current?r.current.resolution:s.resolution,r.sourceFrame,r.destinationFrame,s.projection.transform),e&&a.fit(e),t._scissorRectLocal=a}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:i,c:s,d:n}=t;return(Math.abs(i)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(n)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect())return!1;if(l.isMatrixRotated(e.worldTransform))return!1;if(l.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const i=t._scissorRectLocal;return i.width>0&&i.height>0}roundFrameToPixels(t,e,i,s,n){l.isMatrixRotated(n)||((n=n?o.copyFrom(n):o.identity()).translate(-i.x,-i.y).scale(s.width/i.width,s.height/i.height).translate(s.x,s.y),this.renderer.filter.transformAABB(n,t),t.fit(s),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&h.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;e=this.renderer.renderTexture.current?t.y:this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let d=l;d.extension={type:s.ExtensionType.RendererSystem,name:"scissor"},s.extensions.add(d),e.ScissorSystem=d},25782:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71648),n=i(82101),r=i(86510);class a extends r.AbstractMaskSystem{constructor(t){super(t),this.glConst=n.settings.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0}push(t){const e=t.maskObject,{gl:i}=this.renderer,s=t._stencilCounter;0===s&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),t._stencilCounter++;const n=t._colorMask;0!==n&&(t._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,s,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==n&&(t._colorMask=n,i.colorMask(0!=(1&n),0!=(2&n),0!=(4&n),0!=(8&n))),this._useCurrent()}pop(t){const e=this.renderer.gl;if(0===this.getStackLength())e.disable(e.STENCIL_TEST);else{const i=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,s=i?i._colorMask:15;0!==s&&(i._colorMask=0,e.colorMask(!1,!1,!1,!1)),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==s&&(i._colorMask=s,e.colorMask(0!=(1&s),0!=(2&s),0!=(4&s),0!=(8&s))),this._useCurrent()}}_useCurrent(){const t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}}a.extension={type:s.ExtensionType.RendererSystem,name:"stencil"},s.extensions.add(a),e.StencilSystem=a},34800:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71648),n=i(12191);class r{constructor(t){this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:()=>(n.deprecation("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract)},prepare:{enumerable:!1,get:()=>(n.deprecation("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare)},interaction:{enumerable:!1,get:()=>(n.deprecation("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events)}})}init(){const t=this.rendererPlugins;for(const e in t)this.plugins[e]=new t[e](this.renderer)}destroy(){for(const t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null}}r.extension={type:[s.ExtensionType.RendererSystem,s.ExtensionType.CanvasRendererSystem],name:"_plugin"},s.extensions.add(r),e.PluginSystem=r},64910:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71648),n=i(40435);class r{constructor(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new n.Matrix,this.transform=null}update(t,e,i,s){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,s),this.transform&&this.projectionMatrix.append(this.transform);const n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)}calculateProjection(t,e,i,s){const n=this.projectionMatrix,r=s?-1:1;n.identity(),n.a=1/e.width*2,n.d=r*(1/e.height*2),n.tx=-1-e.x*n.a,n.ty=-r-e.y*n.d}setTransform(t){}destroy(){this.renderer=null}}r.extension={type:s.ExtensionType.RendererSystem,name:"projection"},s.extensions.add(r),e.ProjectionSystem=r},8399:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1122),n=i(57616),r=i(96268),a=i(43396);class o extends a.BaseTexture{constructor(t={}){if("number"==typeof t){t={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}}t.width=t.width||100,t.height=t.height||100,t.multisample??(t.multisample=n.MSAA_QUALITY.NONE),super(null,t),this.mipmap=n.MIPMAP_MODES.OFF,this.valid=!0,this._clear=new s.Color([0,0,0,0]),this.framebuffer=new r.Framebuffer(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=t.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(t){this._clear.setValue(t)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}e.BaseRenderTexture=o},34914:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71648),n=i(40435),r=i(41020);const a=new n.Transform;class o{constructor(t){this.renderer=t,this._tempMatrix=new n.Matrix}generateTexture(t,e){const{region:i,...s}=e||{},n=i||t.getLocalBounds(null,!0);0===n.width&&(n.width=1),0===n.height&&(n.height=1);const o=r.RenderTexture.create({width:n.width,height:n.height,...s});this._tempMatrix.tx=-n.x,this._tempMatrix.ty=-n.y;const h=t.transform;return t.transform=a,this.renderer.render(t,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!t.parent,blit:!0}),t.transform=h,o}destroy(){}}o.extension={type:[s.ExtensionType.RendererSystem,s.ExtensionType.CanvasRendererSystem],name:"textureGenerator"},s.extensions.add(o),e.GenerateTextureSystem=o},41020:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(65453),n=i(8399);class r extends s.Texture{constructor(t,e){super(t,e),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,e,i=!0){const s=this.baseTexture.resolution,n=Math.round(t*s)/s,r=Math.round(e*s)/s;this.valid=n>0&&r>0,this._frame.width=this.orig.width=n,this._frame.height=this.orig.height=r,i&&this.baseTexture.resize(n,r),this.updateUvs()}setResolution(t){const{baseTexture:e}=this;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))}static create(t){return new r(new n.BaseRenderTexture(t))}}e.RenderTexture=r},26516:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(12191),r=i(8399),a=i(41020);class o{constructor(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(t,e,i=s.MSAA_QUALITY.NONE){const n=new r.BaseRenderTexture(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new a.RenderTexture(n)}getOptimalTexture(t,e,i=1,r=s.MSAA_QUALITY.NONE){let a;t=Math.ceil(t*i-1e-6),e=Math.ceil(e*i-1e-6),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?a=r>1?-r:-1:(a=((65535&(t=n.nextPow2(t)))<<16|65535&(e=n.nextPow2(e)))>>>0,r>1&&(a+=4294967296*r)),this.texturePool[a]||(this.texturePool[a]=[]);let o=this.texturePool[a].pop();return o||(o=this.createTexture(t,e,r)),o.filterPoolKey=a,o.setResolution(i),o}getFilterTexture(t,e,i){const n=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||s.MSAA_QUALITY.NONE);return n.filterFrame=t.filterFrame,n}returnTexture(t){const e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)}returnFilterTexture(t){this.returnTexture(t)}clear(t){if(t=!1!==t)for(const t in this.texturePool){const e=this.texturePool[t];if(e)for(let t=0;t<e.length;t++)e[t].destroy(!0)}this.texturePool={}}setScreenSize(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){this.enableFullScreen=t.width>0&&t.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const e=this.texturePool[t];if(e)for(let t=0;t<e.length;t++)e[t].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}o.SCREEN_KEY=-1,e.RenderTexturePool=o},62109:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1122),n=i(71648),r=i(40435);const a=new r.Rectangle,o=new r.Rectangle;class h{constructor(t){this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new r.Rectangle,this.destinationFrame=new r.Rectangle,this.viewportFrame=new r.Rectangle}contextChange(){const t=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(t=null,e,i){const s=this.renderer;let n,r,h;this.current=t,t?(n=t.baseTexture,h=n.resolution,e||(a.width=t.frame.width,a.height=t.frame.height,e=a),i||(o.x=t.frame.x,o.y=t.frame.y,o.width=e.width,o.height=e.height,i=o),r=n.framebuffer):(h=s.resolution,e||(a.width=s._view.screen.width,a.height=s._view.screen.height,e=a),i||((i=a).width=e.width,i.height=e.height));const l=this.viewportFrame;l.x=i.x*h,l.y=i.y*h,l.width=i.width*h,l.height=i.height*h,t||(l.y=s.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(r,l),this.renderer.projection.update(i,e,h,!r),t?this.renderer.mask.setMaskStack(n.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)}clear(t,e){const i=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,n=s.Color.shared.setValue(t||i);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&n.premultiply(n.alpha);const r=this.destinationFrame,a=this.current?this.current.baseTexture:this.renderer._view.screen,o=r.width!==a.width||r.height!==a.height;if(o){let{x:t,y:e,width:i,height:s}=this.viewportFrame;t=Math.round(t),e=Math.round(e),i=Math.round(i),s=Math.round(s),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(t,e,i,s)}this.renderer.framebuffer.clear(n.red,n.green,n.blue,n.alpha,e),o&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}h.extension={type:n.ExtensionType.RendererSystem,name:"renderTexture"},n.extensions.add(h),e.RenderTextureSystem=h},54353:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71648);class n{constructor(t){this.renderer=t}render(t,e){const i=this.renderer;let s,n,r,a;if(e&&(s=e.renderTexture,n=e.clear,r=e.transform,a=e.skipUpdateTransform),this.renderingToScreen=!s,i.runners.prerender.emit(),i.emit("prerender"),i.projection.transform=r,!i.context.isLost){if(s||(this.lastObjectRendered=t),!a){const e=t.enableTempParent();t.updateTransform(),t.disableTempParent(e)}i.renderTexture.bind(s),i.batch.currentRenderer.start(),(n??i.background.clearBeforeRender)&&i.renderTexture.clear(),t.render(i),i.batch.currentRenderer.flush(),s&&(e.blit&&i.framebuffer.blit(),s.baseTexture.update()),i.runners.postrender.emit(),i.projection.transform=null,i.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}n.extension={type:s.ExtensionType.RendererSystem,name:"objectRenderer"},s.extensions.add(n),e.ObjectRendererSystem=n},31970:(t,e,i)=>{"use strict";var s=i(57616),n=i(82101),r=i(12191),a=i(68615),o=i(21316),h=i(89906);i(69774);var l=i(43396),d=i(21673),u=i(31110),c=i(45711),p=i(3382),m=i(21811);n.settings.PREFER_ENV=s.ENV.WEBGL2,n.settings.STRICT_TEXTURE_CACHE=!1,n.settings.RENDER_OPTIONS={...d.ContextSystem.defaultOptions,...u.BackgroundSystem.defaultOptions,...c.ViewSystem.defaultOptions,...p.StartupSystem.defaultOptions},Object.defineProperties(n.settings,{WRAP_MODE:{get:()=>l.BaseTexture.defaultOptions.wrapMode,set(t){r.deprecation("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),l.BaseTexture.defaultOptions.wrapMode=t}},SCALE_MODE:{get:()=>l.BaseTexture.defaultOptions.scaleMode,set(t){r.deprecation("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),l.BaseTexture.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get:()=>l.BaseTexture.defaultOptions.mipmap,set(t){r.deprecation("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),l.BaseTexture.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get:()=>l.BaseTexture.defaultOptions.anisotropicLevel,set(t){r.deprecation("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),l.BaseTexture.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get:()=>(r.deprecation("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),o.Filter.defaultResolution),set(t){o.Filter.defaultResolution=t}},FILTER_MULTISAMPLE:{get:()=>(r.deprecation("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),o.Filter.defaultMultisample),set(t){o.Filter.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get:()=>a.BatchRenderer.defaultMaxTextures,set(t){r.deprecation("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),a.BatchRenderer.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get:()=>a.BatchRenderer.defaultBatchSize,set(t){r.deprecation("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),a.BatchRenderer.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get:()=>a.BatchRenderer.canUploadSameBuffer,set(t){r.deprecation("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),a.BatchRenderer.canUploadSameBuffer=t}},GC_MODE:{get:()=>m.TextureGCSystem.defaultMode,set(t){r.deprecation("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),m.TextureGCSystem.defaultMode=t}},GC_MAX_IDLE:{get:()=>m.TextureGCSystem.defaultMaxIdle,set(t){r.deprecation("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),m.TextureGCSystem.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get:()=>m.TextureGCSystem.defaultCheckCountMax,set(t){r.deprecation("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),m.TextureGCSystem.defaultCheckCountMax=t}},PRECISION_VERTEX:{get:()=>h.Program.defaultVertexPrecision,set(t){r.deprecation("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),h.Program.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get:()=>h.Program.defaultFragmentPrecision,set(t){r.deprecation("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),h.Program.defaultFragmentPrecision=t}}})},73784:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.GLProgram=class{constructor(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}},e.IGLUniformData=class{}},89906:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(12191),r=i(85928),a=i(75705);i(54956);var o=i(54400),h=i(91565);let l=0;const d={},u=class{constructor(t,e,i="pixi-shader",n={}){this.extra={},this.id=l++,this.vertexSrc=t||u.defaultVertexSrc,this.fragmentSrc=e||u.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),d[i]?(d[i]++,i+=`-${d[i]}`):d[i]=1,this.vertexSrc=`#define SHADER_NAME ${i}\n${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${i}\n${this.fragmentSrc}`,this.vertexSrc=o.setPrecision(this.vertexSrc,u.defaultVertexPrecision,s.PRECISION.HIGH),this.fragmentSrc=o.setPrecision(this.fragmentSrc,u.defaultFragmentPrecision,h.getMaxFragmentPrecision())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return a.default}static get defaultFragmentSrc(){return r.default}static from(t,e,i){const s=t+e;let r=n.ProgramCache[s];return r||(n.ProgramCache[s]=r=new u(t,e,i)),r}};let c=u;c.defaultVertexPrecision=s.PRECISION.HIGH,c.defaultFragmentPrecision=n.isMobile.apple.device?s.PRECISION.HIGH:s.PRECISION.MEDIUM,e.Program=c},87398:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(82156),n=i(89906),r=i(44240);class a{constructor(t,e){this.uniformBindCount=0,this.program=t,e?e instanceof r.UniformGroup?this.uniformGroup=e:this.uniformGroup=new r.UniformGroup(e):this.uniformGroup=new r.UniformGroup({}),this.disposeRunner=new s.Runner("disposeShader")}checkUniformExists(t,e){if(e.uniforms[t])return!0;for(const i in e.uniforms){const s=e.uniforms[i];if(s.group&&this.checkUniformExists(t,s))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(t,e,i){const s=n.Program.from(t,e);return new a(s,i)}}e.Shader=a},49535:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71648);i(54956);var n=i(91366),r=i(9124),a=i(94652),o=i(53738);let h=0;const l={textureCount:0,uboCount:0};class d{constructor(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=h++}systemCheck(){if(!a.unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(t){this.gl=t,this.reset()}bind(t,e){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;const i=t.program,s=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(s.program)),e||(l.textureCount=0,l.uboCount=0,this.syncUniformGroup(t.uniformGroup,l)),s}setUniforms(t){const e=this.shader.program,i=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(i.uniformData,t,this.renderer)}syncUniformGroup(t,e){const i=this.getGlProgram();t.static&&t.dirtyId===i.uniformDirtyGroups[t.id]||(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))}syncUniforms(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)}createSyncGroups(t){const e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=o.generateUniformsSync(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(t,e){const i=this.getGlProgram();if(!t.static||0!==t.dirtyId||!i.uniformGroups[t.id]){t.dirtyId=0;const s=i.uniformGroups[t.id]||this.createSyncBufferGroup(t,i,e);t.buffer.update(),s(i.uniformData,t.uniforms,this.renderer,l,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,i.uniformBufferBindings[e])}createSyncBufferGroup(t,e,i){const{gl:s}=this.renderer;this.renderer.buffer.bind(t.buffer);const n=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,s.uniformBlockBinding(e.program,n,this.shader.uniformBindCount),this.shader.uniformBindCount++;const a=this.getSignature(t,this.shader.program.uniformData,"ubo");let o=this._uboCache[a];if(o||(o=this._uboCache[a]=r.generateUniformBufferSync(t,this.shader.program.uniformData)),t.autoManage){const e=new Float32Array(o.size/4);t.buffer.update(e)}return e.uniformGroups[t.id]=o.syncFunc,e.uniformGroups[t.id]}getSignature(t,e,i){const s=t.uniforms,n=[`${i}-`];for(const t in s)n.push(t),e[t]&&n.push(e[t].type);return n.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(t){const e=this.gl,i=t.program,s=n.generateProgram(e,i);return i.glPrograms[this.renderer.CONTEXT_UID]=s,s}reset(){this.program=null,this.shader=null}disposeShader(t){this.shader===t&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}d.extension={type:s.ExtensionType.RendererSystem,name:"shader"},s.extensions.add(d),e.ShaderSystem=d},44240:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(44518);let r=0;class a{constructor(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=r++,this.static=!!e,this.ubo=!!i,t instanceof n.Buffer?(this.buffer=t,this.buffer.type=s.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new n.Buffer(new Float32Array(1)),this.buffer.type=s.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(t,e,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new a(e,i)}static from(t,e,i){return new a(t,e,i)}static uboFrom(t,e){return new a(t,e??!0,!0)}}e.UniformGroup=a},85928:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},75705:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},27863:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function s(t){let e="";for(let i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+=`if(test == ${i}.0){}`);return e}e.checkMaxIfStatementsInShader=function(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=i.replace(/%forloop%/gi,s(t));if(e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))break;t=t/2|0}return t}},72896:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compileShader=function(t,e,i){const s=t.createShader(e);return t.shaderSource(s,i),t.compileShader(s),s}},58663:(t,e)=>{"use strict";function i(t){const e=new Array(t);for(let t=0;t<e.length;t++)e[t]=!1;return e}Object.defineProperty(e,"__esModule",{value:!0}),e.defaultValue=function(t,e){switch(t){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return i(2*e);case"bvec3":return i(3*e);case"bvec4":return i(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}},91366:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(73784),n=i(72896),r=i(58663),a=i(88884),o=i(7153),h=i(91652);e.generateProgram=function(t,e){const i=n.compileShader(t,t.VERTEX_SHADER,e.vertexSrc),l=n.compileShader(t,t.FRAGMENT_SHADER,e.fragmentSrc),d=t.createProgram();t.attachShader(d,i),t.attachShader(d,l);const u=e.extra?.transformFeedbackVaryings;if(u&&("function"!=typeof t.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(d,u.names,"separate"===u.bufferMode?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(d),t.getProgramParameter(d,t.LINK_STATUS)||h.logProgramError(t,d,i,l),e.attributeData=a.getAttributeData(d,t),e.uniformData=o.getUniformData(d,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const i=Object.keys(e.attributeData);i.sort(((t,e)=>t>e?1:-1));for(let s=0;s<i.length;s++)e.attributeData[i[s]].location=s,t.bindAttribLocation(d,s,i[s]);t.linkProgram(d)}t.deleteShader(i),t.deleteShader(l);const c={};for(const i in e.uniformData){const s=e.uniformData[i];c[i]={location:t.getUniformLocation(d,i),value:r.defaultValue(s.type,s.size)}}return new s.GLProgram(d,c)}},9124:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(54956);var s=i(49145),n=i(74442);function r(t,e,i,s,n){i.buffer.update(n)}const a={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},o={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function h(t){const e=t.map((t=>({data:t,offset:0,dataLen:0,dirty:0})));let i=0,s=0,n=0;for(let t=0;t<e.length;t++){const r=e[t];if(i=o[r.data.type],r.data.size>1&&(i=Math.max(i,16)*r.data.size),r.dataLen=i,s%i!=0&&s<16){const t=s%i%16;s+=t,n+=t}s+i>16?(n=16*Math.ceil(n/16),r.offset=n,n+=i,s=i):(r.offset=n,s+=i,n+=i)}return n=16*Math.ceil(n/16),{uboElements:e,size:n}}function l(t,e){const i=[];for(const s in t)e[s]&&i.push(e[s]);return i.sort(((t,e)=>t.index-e.index)),i}e.createUBOElements=h,e.generateUniformBufferSync=function(t,e){if(!t.autoManage)return{size:0,syncFunc:r};const i=l(t.uniforms,e),{uboElements:d,size:u}=h(i),c=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "];for(let e=0;e<d.length;e++){const i=d[e],r=t.uniforms[i.data.name],h=i.data.name;let l=!1;for(let t=0;t<s.uniformParsers.length;t++){const e=s.uniformParsers[t];if(e.codeUbo&&e.test(i.data,r)){c.push(`offset = ${i.offset/4};`,s.uniformParsers[t].codeUbo(i.data.name,r)),l=!0;break}}if(!l)if(i.data.size>1){const t=n.mapSize(i.data.type),e=Math.max(o[i.data.type]/16,1),s=t/e,r=(4-s%4)%4;c.push(`\n                cv = ud.${h}.value;\n                v = uv.${h};\n                offset = ${i.offset/4};\n\n                t = 0;\n\n                for(var i=0; i < ${i.data.size*e}; i++)\n                {\n                    for(var j = 0; j < ${s}; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ${r};\n                }\n\n                `)}else{const t=a[i.data.type];c.push(`\n                cv = ud.${h}.value;\n                v = uv.${h};\n                offset = ${i.offset/4};\n                ${t};\n                `)}}return c.push("\n       renderer.buffer.update(buffer);\n    "),{size:u,syncFunc:new Function("ud","uv","renderer","syncData","buffer",c.join("\n"))}},e.getUBOData=l},53738:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(49145);const n={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},r={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};e.generateUniformsSync=function(t,e){const i=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(const a in t.uniforms){const o=e[a];if(!o){t.uniforms[a]?.group&&(t.uniforms[a].ubo?i.push(`\n                        renderer.shader.syncUniformBufferGroup(uv.${a}, '${a}');\n                    `):i.push(`\n                        renderer.shader.syncUniformGroup(uv.${a}, syncData);\n                    `));continue}const h=t.uniforms[a];let l=!1;for(let t=0;t<s.uniformParsers.length;t++)if(s.uniformParsers[t].test(o,h)){i.push(s.uniformParsers[t].code(a,h)),l=!0;break}if(!l){const t=(1!==o.size||o.isArray?r:n)[o.type].replace("location",`ud["${a}"].location`);i.push(`\n            cu = ud["${a}"];\n            cv = cu.value;\n            v = uv["${a}"];\n            ${t};`)}}return new Function("ud","uv","renderer","syncData",i.join("\n"))}},88884:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(74442),n=i(10190);e.getAttributeData=function(t,e){const i={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let a=0;a<r;a++){const r=e.getActiveAttrib(t,a);if(r.name.startsWith("gl_"))continue;const o=n.mapType(e,r.type),h={type:o,name:r.name,size:s.mapSize(o),location:e.getAttribLocation(t,r.name)};i[r.name]=h}return i}},91565:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(47465);let r;e.getMaxFragmentPrecision=function(){if(!r){r=s.PRECISION.MEDIUM;const t=n.getTestContext();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);r=e.precision?s.PRECISION.HIGH:s.PRECISION.MEDIUM}}return r}},47465:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(82101);const r={};let a=r;e.getTestContext=function(){if(a===r||a?.isContextLost()){const t=n.settings.ADAPTER.createCanvas();let e;n.settings.PREFER_ENV>=s.ENV.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),a=e}return a}},7153:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(58663),n=i(10190);e.getUniformData=function(t,e){const i={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let a=0;a<r;a++){const r=e.getActiveUniform(t,a),o=r.name.replace(/\[.*?\]$/,""),h=!!r.name.match(/\[.*?\]$/),l=n.mapType(e,r.type);i[o]={name:o,index:a,type:l,size:r.size,isArray:h,value:s.defaultValue(l,r.size)}}return i}},54956:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(27863),n=i(72896),r=i(58663),a=i(53738),o=i(91565),h=i(47465),l=i(91652),d=i(74442),u=i(10190),c=i(54400),p=i(49145),m=i(94652);e.checkMaxIfStatementsInShader=s.checkMaxIfStatementsInShader,e.compileShader=n.compileShader,e.defaultValue=r.defaultValue,e.generateUniformsSync=a.generateUniformsSync,e.getMaxFragmentPrecision=o.getMaxFragmentPrecision,e.getTestContext=h.getTestContext,e.logProgramError=l.logProgramError,e.mapSize=d.mapSize,e.mapType=u.mapType,e.setPrecision=c.setPrecision,e.uniformParsers=p.uniformParsers,e.unsafeEvalSupported=m.unsafeEvalSupported},91652:(t,e)=>{"use strict";function i(t,e){const i=t.getShaderSource(e).split("\n").map(((t,e)=>`${e}: ${t}`)),s=t.getShaderInfoLog(e),n=s.split("\n"),r={},a=n.map((t=>parseFloat(t.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1")))).filter((t=>!(!t||r[t])&&(r[t]=!0,!0))),o=[""];a.forEach((t=>{i[t-1]=`%c${i[t-1]}%c`,o.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));const h=i.join("\n");o[0]=h,console.error(s),console.groupCollapsed("click to view full shader code"),console.warn(...o),console.groupEnd()}Object.defineProperty(e,"__esModule",{value:!0}),e.logProgramError=function(t,e,s,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(s,t.COMPILE_STATUS)||i(t,s),t.getShaderParameter(n,t.COMPILE_STATUS)||i(t,n),console.error("PixiJS Error: Could not initialize shader."),""!==t.getProgramInfoLog(e)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}},74442:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.mapSize=function(t){return i[t]}},10190:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});let i=null;const s={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};e.mapType=function(t,e){if(!i){const e=Object.keys(s);i={};for(let n=0;n<e.length;++n){const r=e[n];i[t[r]]=s[r]}}return i[e]}},54400:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616);e.setPrecision=function(t,e,i){if("precision"!==t.substring(0,9)){let n=e;return e===s.PRECISION.HIGH&&i!==s.PRECISION.HIGH&&(n=s.PRECISION.MEDIUM),`precision ${n} float;\n${t}`}return i!==s.PRECISION.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}},49145:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.uniformParsers=[{test:t=>"float"===t.type&&1===t.size&&!t.isArray,code:t=>`\n            if(uv["${t}"] !== ud["${t}"].value)\n            {\n                ud["${t}"].value = uv["${t}"]\n                gl.uniform1f(ud["${t}"].location, uv["${t}"])\n            }\n            `},{test:(t,e)=>!("sampler2D"!==t.type&&"samplerCube"!==t.type&&"sampler2DArray"!==t.type||1!==t.size||t.isArray||null!=e&&void 0===e.castToBaseTexture),code:t=>`t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["${t}"], t);\n\n            if(ud["${t}"].value !== t)\n            {\n                ud["${t}"].value = t;\n                gl.uniform1i(ud["${t}"].location, t);\n; // eslint-disable-line max-len\n            }`},{test:(t,e)=>"mat3"===t.type&&1===t.size&&!t.isArray&&void 0!==e.a,code:t=>`\n            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));\n            `,codeUbo:t=>`\n                var ${t}_matrix = uv.${t}.toArray(true);\n\n                data[offset] = ${t}_matrix[0];\n                data[offset+1] = ${t}_matrix[1];\n                data[offset+2] = ${t}_matrix[2];\n        \n                data[offset + 4] = ${t}_matrix[3];\n                data[offset + 5] = ${t}_matrix[4];\n                data[offset + 6] = ${t}_matrix[5];\n        \n                data[offset + 8] = ${t}_matrix[6];\n                data[offset + 9] = ${t}_matrix[7];\n                data[offset + 10] = ${t}_matrix[8];\n            `},{test:(t,e)=>"vec2"===t.type&&1===t.size&&!t.isArray&&void 0!==e.x,code:t=>`\n                cv = ud["${t}"].value;\n                v = uv["${t}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["${t}"].location, v.x, v.y);\n                }`,codeUbo:t=>`\n                v = uv.${t};\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            `},{test:t=>"vec2"===t.type&&1===t.size&&!t.isArray,code:t=>`\n                cv = ud["${t}"].value;\n                v = uv["${t}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);\n                }\n            `},{test:(t,e)=>"vec4"===t.type&&1===t.size&&!t.isArray&&void 0!==e.width,code:t=>`\n                cv = ud["${t}"].value;\n                v = uv["${t}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)\n                }`,codeUbo:t=>`\n                    v = uv.${t};\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                `},{test:(t,e)=>"vec4"===t.type&&1===t.size&&!t.isArray&&void 0!==e.red,code:t=>`\n                cv = ud["${t}"].value;\n                v = uv["${t}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)\n                }`,codeUbo:t=>`\n                    v = uv.${t};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                `},{test:(t,e)=>"vec3"===t.type&&1===t.size&&!t.isArray&&void 0!==e.red,code:t=>`\n                cv = ud["${t}"].value;\n                v = uv["${t}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)\n                }`,codeUbo:t=>`\n                    v = uv.${t};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                `},{test:t=>"vec4"===t.type&&1===t.size&&!t.isArray,code:t=>`\n                cv = ud["${t}"].value;\n                v = uv["${t}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])\n                }`}]},94652:(t,e)=>{"use strict";let i;Object.defineProperty(e,"__esModule",{value:!0}),e.unsafeEvalSupported=function(){if("boolean"==typeof i)return i;try{const t=new Function("param1","param2","param3","return param1[param2] === param3;");i=!0===t({a:"b"},"a","b")}catch(t){i=!1}return i}},3382:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71648);class n{constructor(t){this.renderer=t}run(t){const{renderer:e}=this;e.runners.init.emit(e.options),t.hello&&console.log(`PixiJS 7.2.4 - ${e.rendererLogId} - https://pixijs.com`),e.resize(e.screen.width,e.screen.height)}destroy(){}}n.defaultOptions={hello:!1},n.extension={type:[s.ExtensionType.RendererSystem,s.ExtensionType.CanvasRendererSystem],name:"startup"},s.extensions.add(n),e.StartupSystem=n},37387:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616);class n{constructor(){this.data=0,this.blendMode=s.BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(t){!!(1&this.data)!==t&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(t){!!(2&this.data)!==t&&(this.data^=2)}get culling(){return!!(4&this.data)}set culling(t){!!(4&this.data)!==t&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(t){!!(8&this.data)!==t&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(t){!!(32&this.data)!==t&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(t){!!(16&this.data)!==t&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!==s.BLEND_MODES.NONE,this._blendMode=t}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new n;return t.depthTest=!1,t.blend=!0,t}}e.State=n},8389:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(71648),r=i(37387),a=i(38568);const o=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=s.BLEND_MODES.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new r.State,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=a.mapWebGLBlendModesToPixi(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,i=0;for(;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(o.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(o.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):e||-1===i||this.checks.splice(i,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let h=o;h.extension={type:n.ExtensionType.RendererSystem,name:"state"},n.extensions.add(h),e.StateSystem=h},38568:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616);e.mapWebGLBlendModesToPixi=function(t,e=[]){return e[s.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.ADD]=[t.ONE,t.ONE],e[s.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.NONE]=[0,0],e[s.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[s.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[s.BLEND_MODES.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[s.BLEND_MODES.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[s.BLEND_MODES.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[s.BLEND_MODES.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[s.BLEND_MODES.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[s.BLEND_MODES.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}},64807:()=>{},8065:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(82156),n=i(12191);class r extends n.EventEmitter{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(t){this.addRunners(...t.runners);const e=(t.priority??[]).filter((e=>t.systems[e])),i=[...e,...Object.keys(t.systems).filter((t=>!e.includes(t)))];for(const e of i)this.addSystem(t.systems[e],e)}addRunners(...t){t.forEach((t=>{this.runners[t]=new s.Runner(t)}))}addSystem(t,e){const i=new t(this);if(this[e])throw new Error(`Whoops! The name "${e}" is already in use`);this[e]=i,this._systemsHash[e]=i;for(const t in this.runners)this.runners[t].add(i);return this}emitWithCustomOptions(t,e){const i=Object.keys(this._systemsHash);t.items.forEach((s=>{const n=i.find((t=>this._systemsHash[t]===s));s[t.name](e[n])}))}destroy(){Object.values(this.runners).forEach((t=>{t.destroy()})),this._systemsHash={}}}e.SystemManager=r},69774:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(31110),n=i(95309),r=i(21673),a=i(28994),o=i(66548),h=i(98911),l=i(73839),d=i(9832),u=i(25782),c=i(34800),p=i(64910),m=i(34914),f=i(62109),g=i(49535),y=i(3382),x=i(8389),_=i(8065),b=i(21811),v=i(1546),S=i(58228),T=i(45711);e.BackgroundSystem=s.BackgroundSystem,e.BatchSystem=n.BatchSystem,e.ContextSystem=r.ContextSystem,e.FilterSystem=a.FilterSystem,e.FramebufferSystem=o.FramebufferSystem,e.GeometrySystem=h.GeometrySystem,e.MaskSystem=l.MaskSystem,e.ScissorSystem=d.ScissorSystem,e.StencilSystem=u.StencilSystem,e.PluginSystem=c.PluginSystem,e.ProjectionSystem=p.ProjectionSystem,e.GenerateTextureSystem=m.GenerateTextureSystem,e.RenderTextureSystem=f.RenderTextureSystem,e.ShaderSystem=g.ShaderSystem,e.StartupSystem=y.StartupSystem,e.StateSystem=x.StateSystem,e.SystemManager=_.SystemManager,e.TextureGCSystem=b.TextureGCSystem,e.TextureSystem=v.TextureSystem,e.TransformFeedbackSystem=S.TransformFeedbackSystem,e.ViewSystem=T.ViewSystem},43396:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(82101),r=i(12191),a=i(11105),o=i(95737),h=i(79421);const l={scaleMode:s.SCALE_MODES.NEAREST,format:s.FORMATS.RGBA,alphaMode:s.ALPHA_MODES.NPM},d=class extends r.EventEmitter{constructor(t=null,e=null){super(),e=Object.assign({},d.defaultOptions,e);const{alphaMode:i,mipmap:s,anisotropicLevel:o,scaleMode:l,width:u,height:c,wrapMode:p,format:m,type:f,target:g,resolution:y,resourceOptions:x}=e;!t||t instanceof h.Resource||((t=a.autoDetectResource(t,x)).internal=!0),this.resolution=y||n.settings.RESOLUTION,this.width=Math.round((u||0)*this.resolution)/this.resolution,this.height=Math.round((c||0)*this.resolution)/this.resolution,this._mipmap=s,this.anisotropicLevel=o,this._wrapMode=p,this._scaleMode=l,this.format=m,this.type=f,this.target=g,this.alphaMode=i,this.uid=r.uid(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=u>0&&c>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let i;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this}setSize(t,e,i){return i=i||this.resolution,this.setRealSize(t*i,e*i,i)}setRealSize(t,e,i){return this.resolution=i||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=r.isPow2(this.realWidth)&&r.isPow2(this.realHeight)}setResolution(t){const e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT()),this}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete r.BaseTextureCache[this.cacheId],delete r.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),d.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,i=n.settings.STRICT_TEXTURE_CACHE){const s="string"==typeof t;let a=null;if(s)a=t;else{if(!t._pixiId){const i=e?.pixiIdPrefix||"pixiid";t._pixiId=`${i}_${r.uid()}`}a=t._pixiId}let o=r.BaseTextureCache[a];if(s&&i&&!o)throw new Error(`The cacheId "${a}" does not exist in BaseTextureCache.`);return o||(o=new d(t,e),o.cacheId=a,d.addToCache(o,a)),o}static fromBuffer(t,e,i,n){t=t||new Float32Array(e*i*4);const r=new o.BufferResource(t,{width:e,height:i}),a=t instanceof Float32Array?s.TYPES.FLOAT:s.TYPES.UNSIGNED_BYTE;return new d(r,Object.assign({},l,{type:a},n))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),r.BaseTextureCache[e]&&r.BaseTextureCache[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),r.BaseTextureCache[e]=t)}static removeFromCache(t){if("string"==typeof t){const e=r.BaseTextureCache[t];if(e){const i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete r.BaseTextureCache[t],e}}else if(t?.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete r.BaseTextureCache[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let u=d;u.defaultOptions={mipmap:s.MIPMAP_MODES.POW2,anisotropicLevel:0,scaleMode:s.SCALE_MODES.LINEAR,wrapMode:s.WRAP_MODES.CLAMP,alphaMode:s.ALPHA_MODES.UNPACK,target:s.TARGETS.TEXTURE_2D,format:s.FORMATS.RGBA,type:s.TYPES.UNSIGNED_BYTE},u._globalBatch=0,e.BaseTexture=u},50701:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616);e.GLTexture=class{constructor(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=s.TYPES.UNSIGNED_BYTE,this.internalFormat=s.FORMATS.RGBA,this.samplerType=0}}},65453:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(40435),n=i(82101),r=i(12191),a=i(43396),o=i(79137),h=i(46487);const l=new h.TextureUvs;function d(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class u extends r.EventEmitter{constructor(t,e,i,n,r,a,o){if(super(),this.noFrame=!1,e||(this.noFrame=!0,e=new s.Rectangle(0,0,1,1)),t instanceof u&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=n,this.valid=!1,this._uvs=l,this.uvMatrix=null,this.orig=i||e,this._rotate=Number(r||0),!0===r)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new s.Point(a.x,a.y):new s.Point(0,0),this.defaultBorders=o,this._updateID=0,this.textureCacheIds=[],t.valid?this.noFrame?t.valid&&this.onBaseTextureUpdated(t):this.frame=e:t.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&t.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(t){if(this.baseTexture){if(t){const{resource:t}=this.baseTexture;t?.url&&r.TextureCache[t.url]&&u.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,u.removeFromCache(this),this.textureCacheIds=null}clone(){const t=this._frame.clone(),e=this._frame===this.orig?t:this.orig.clone(),i=new u(this.baseTexture,!this.noFrame&&t,e,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(i._frame=t),i}updateUvs(){this._uvs===l&&(this._uvs=new h.TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(t,e={},i=n.settings.STRICT_TEXTURE_CACHE){const s="string"==typeof t;let o=null;if(s)o=t;else if(t instanceof a.BaseTexture){if(!t.cacheId){const i=e?.pixiIdPrefix||"pixiid";t.cacheId=`${i}-${r.uid()}`,a.BaseTexture.addToCache(t,t.cacheId)}o=t.cacheId}else{if(!t._pixiId){const i=e?.pixiIdPrefix||"pixiid";t._pixiId=`${i}_${r.uid()}`}o=t._pixiId}let h=r.TextureCache[o];if(s&&i&&!h)throw new Error(`The cacheId "${o}" does not exist in TextureCache.`);return h||t instanceof a.BaseTexture?!h&&t instanceof a.BaseTexture&&(h=new u(t),u.addToCache(h,o)):(e.resolution||(e.resolution=r.getResolutionOfUrl(t)),h=new u(new a.BaseTexture(t,e)),h.baseTexture.cacheId=o,a.BaseTexture.addToCache(h.baseTexture,o),u.addToCache(h,o)),h}static fromURL(t,e){const i=Object.assign({autoLoad:!1},e?.resourceOptions),s=u.from(t,Object.assign({resourceOptions:i},e),!1),n=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):n.load().then((()=>Promise.resolve(s)))}static fromBuffer(t,e,i,s){return new u(a.BaseTexture.fromBuffer(t,e,i,s))}static fromLoader(t,e,i,s){const n=new a.BaseTexture(t,Object.assign({scaleMode:a.BaseTexture.defaultOptions.scaleMode,resolution:r.getResolutionOfUrl(e)},s)),{resource:h}=n;h instanceof o.ImageResource&&(h.url=e);const l=new u(n);return i||(i=e),a.BaseTexture.addToCache(l.baseTexture,i),u.addToCache(l,i),i!==e&&(a.BaseTexture.addToCache(l.baseTexture,e),u.addToCache(l,e)),l.baseTexture.valid?Promise.resolve(l):new Promise((t=>{l.baseTexture.once("loaded",(()=>t(l)))}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),r.TextureCache[e]&&r.TextureCache[e]!==t&&console.warn(`Texture added to the cache with an id [${e}] that already had an entry`),r.TextureCache[e]=t)}static removeFromCache(t){if("string"==typeof t){const e=r.TextureCache[t];if(e){const i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete r.TextureCache[t],e}}else if(t?.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)r.TextureCache[t.textureCacheIds[e]]===t&&delete r.TextureCache[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(t){this._frame=t,this.noFrame=!1;const{x:e,y:i,width:s,height:n}=t,r=e+s>this.baseTexture.width,a=i+n>this.baseTexture.height;if(r||a){const t=r&&a?"and":"or",o=`X: ${e} + ${s} = ${e+s} > ${this.baseTexture.width}`,h=`Y: ${i} + ${n} = ${i+n} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${o} ${t} ${h}`)}this.valid=s&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return u._EMPTY||(u._EMPTY=new u(new a.BaseTexture),d(u._EMPTY),d(u._EMPTY.baseTexture)),u._EMPTY}static get WHITE(){if(!u._WHITE){const t=n.settings.ADAPTER.createCanvas(16,16),e=t.getContext("2d");t.width=16,t.height=16,e.fillStyle="white",e.fillRect(0,0,16,16),u._WHITE=new u(a.BaseTexture.from(t)),d(u._WHITE),d(u._WHITE.baseTexture)}return u._WHITE}}e.Texture=u},21811:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(71648);const r=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=r.defaultMaxIdle,this.checkCountMax=r.defaultCheckCountMax,this.mode=r.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==s.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let i=!1;for(let s=0;s<e.length;s++){const n=e[s];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[s]=null,i=!0)}if(i){let t=0;for(let i=0;i<e.length;i++)null!==e[i]&&(e[t++]=e[i]);e.length=t}}unload(t){const e=this.renderer.texture,i=t._texture;i&&!i.framebuffer&&e.destroyTexture(i);for(let e=t.children.length-1;e>=0;e--)this.unload(t.children[e])}destroy(){this.renderer=null}};let a=r;a.defaultMode=s.GC_MODES.AUTO,a.defaultMaxIdle=3600,a.defaultCheckCountMax=600,a.extension={type:n.ExtensionType.RendererSystem,name:"textureGC"},n.extensions.add(a),e.TextureGCSystem=a},67772:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(40435);const n=new s.Matrix;e.TextureMatrix=class{constructor(t,e){this._texture=t,this.mapCoord=new s.Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}get texture(){return this._texture}set texture(t){this._texture=t,this._textureID=-1}multiplyUvs(t,e){void 0===e&&(e=t);const i=this.mapCoord;for(let s=0;s<t.length;s+=2){const n=t[s],r=t[s+1];e[s]=n*i.a+r*i.c+i.tx,e[s+1]=n*i.b+r*i.d+i.ty}return e}update(t){const e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;const i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const s=e.orig,r=e.trim;r&&(n.set(s.width/r.width,0,0,s.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(n));const a=e.baseTexture,o=this.uClampFrame,h=this.clampMargin/a.resolution,l=this.clampOffset;return o[0]=(e._frame.x+h+l)/a.width,o[1]=(e._frame.y+h+l)/a.height,o[2]=(e._frame.x+e._frame.width-h+l)/a.width,o[3]=(e._frame.y+e._frame.height-h+l)/a.height,this.uClampOffset[0]=l/a.realWidth,this.uClampOffset[1]=l/a.realHeight,this.isSimple=e._frame.width===a.width&&e._frame.height===a.height&&0===e.rotate,!0}}},1546:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(71648),r=i(12191),a=i(43396),o=i(50701),h=i(59476);class l{constructor(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new a.BaseTexture,this.hasIntegerTextures=!1}contextChange(){const t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=h.mapTypeAndFormatToInternalFormat(t);const e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(let t=0;t<e;t++)this.boundTextures[t]=null;this.emptyTextures={};const i=new o.GLTexture(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new o.GLTexture(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(let e=0;e<6;e++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(let t=0;t<this.boundTextures.length;t++)this.bind(null,t)}bind(t,e=0){const{gl:i}=this;if(t=t?.castToBaseTexture(),t?.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;const s=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,s.texture)),s.dirtyId!==t.dirtyId?(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)):s.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture}unbind(t){const{gl:e,boundTextures:i}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let t=0;t<i.length;t++)i[t]===this.unknownTexture&&this.bind(null,t)}for(let s=0;s<i.length;s++)i[s]===t&&(this.currentLocation!==s&&(e.activeTexture(e.TEXTURE0+s),this.currentLocation=s),e.bindTexture(t.target,this.emptyTextures[t.target].texture),i[s]=null)}ensureSamplerType(t){const{boundTextures:e,hasIntegerTextures:i,CONTEXT_UID:n}=this;if(i)for(let i=t-1;i>=0;--i){const t=e[i];if(t){t._glTextures[n].samplerType!==s.SAMPLER_TYPES.FLOAT&&this.renderer.texture.unbind(t)}}}initTexture(t){const e=new o.GLTexture(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e}initTextureType(t,e){e.internalFormat=this.internalFormats[t.type]?.[t.format]??t.format,2===this.webGLVersion&&t.type===s.TYPES.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type}updateTexture(t){const e=t._glTextures[this.CONTEXT_UID];if(!e)return;const i=this.renderer;if(this.initTextureType(t,e),t.resource?.upload(i,t,e))e.samplerType!==s.SAMPLER_TYPES.FLOAT&&(this.hasIntegerTextures=!0);else{const s=t.realWidth,n=t.realHeight,r=i.gl;(e.width!==s||e.height!==n||e.dirtyId<0)&&(e.width=s,e.height=n,r.texImage2D(t.target,0,e.internalFormat,s,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}destroyTexture(t,e){const{gl:i}=this;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){const e=this.managedTextures.indexOf(t);-1!==e&&r.removeItems(this.managedTextures,e,1)}}updateTextureStyle(t){const e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==s.MIPMAP_MODES.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=s.WRAP_MODES.CLAMP,t.resource?.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)}setStyle(t,e){const i=this.gl;if(e.mipmap&&t.mipmap!==s.MIPMAP_MODES.ON_MANUAL&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===s.SCALE_MODES.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);const e=this.renderer.context.extensions.anisotropicFiltering;if(e&&t.anisotropicLevel>0&&t.scaleMode===s.SCALE_MODES.LINEAR){const s=Math.min(t.anisotropicLevel,i.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,e.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===s.SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===s.SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST)}destroy(){this.renderer=null}}l.extension={type:n.ExtensionType.RendererSystem,name:"texture"},n.extensions.add(l),e.TextureSystem=l},46487:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(40435);e.TextureUvs=class{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(t,e,i){const n=e.width,r=e.height;if(i){const e=t.width/2/n,a=t.height/2/r,o=t.x/n+e,h=t.y/r+a;i=s.groupD8.add(i,s.groupD8.NW),this.x0=o+e*s.groupD8.uX(i),this.y0=h+a*s.groupD8.uY(i),i=s.groupD8.add(i,2),this.x1=o+e*s.groupD8.uX(i),this.y1=h+a*s.groupD8.uY(i),i=s.groupD8.add(i,2),this.x2=o+e*s.groupD8.uX(i),this.y2=h+a*s.groupD8.uY(i),i=s.groupD8.add(i,2),this.x3=o+e*s.groupD8.uX(i),this.y3=h+a*s.groupD8.uY(i)}else this.x0=t.x/n,this.y0=t.y/r,this.x1=(t.x+t.width)/n,this.y1=t.y/r,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/r,this.x3=t.x/n,this.y3=(t.y+t.height)/r;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}},34627:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(43396),n=i(11105),r=i(79421);class a extends r.Resource{constructor(t,e){const{width:i,height:n}=e||{};super(i,n),this.items=[],this.itemDirtyIds=[];for(let e=0;e<t;e++){const t=new s.BaseTexture;this.items.push(t),this.itemDirtyIds.push(-2)}this.length=t,this._load=null,this.baseTexture=null}initFromArray(t,e){for(let i=0;i<this.length;i++)t[i]&&(t[i].castToBaseTexture?this.addBaseTextureAt(t[i].castToBaseTexture(),i):t[i]instanceof r.Resource?this.addResourceAt(t[i],i):this.addResourceAt(n.autoDetectResource(t[i],e),i))}dispose(){for(let t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(t,e){if(!this.items[e])throw new Error(`Index ${e} is out of bounds`);return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this}bind(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");super.bind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=t,this.items[e].on("update",t.update,t)}unbind(t){super.unbind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",t.update,t)}load(){if(this._load)return this._load;const t=this.items.map((t=>t.resource)).filter((t=>t)).map((t=>t.load()));return this._load=Promise.all(t).then((()=>{const{realWidth:t,realHeight:e}=this.items[0];return this.resize(t,e),Promise.resolve(this)})),this._load}}e.AbstractMultiResource=a},82696:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(34627);class r extends n.AbstractMultiResource{constructor(t,e){const{width:i,height:s}=e||{};let n,r;Array.isArray(t)?(n=t,r=t.length):r=t,super(r,{width:i,height:s}),n&&this.initFromArray(n,e)}addBaseTextureAt(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this}bind(t){super.bind(t),t.target=s.TARGETS.TEXTURE_2D_ARRAY}upload(t,e,i){const{length:s,itemDirtyIds:n,items:r}=this,{gl:a}=t;i.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,s,0,e.format,i.type,null);for(let t=0;t<s;t++){const s=r[t];n[t]<s.dirtyId&&(n[t]=s.dirtyId,s.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,t,s.resource.width,s.resource.height,1,e.format,i.type,s.resource.source))}return!0}}e.ArrayResource=r},93748:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(12191),r=i(79421);class a extends r.Resource{constructor(t){const e=t;super(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),this.source=t,this.noSubImage=!1}static crossOrigin(t,e,i){void 0!==i||e.startsWith("data:")?!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous"):t.crossOrigin=n.determineCrossOrigin(e)}upload(t,e,i,n){const r=t.gl,a=e.realWidth,o=e.realHeight;if(n=n||this.source,"undefined"!=typeof HTMLImageElement&&n instanceof HTMLImageElement){if(!n.complete||0===n.naturalWidth)return!1}else if("undefined"!=typeof HTMLVideoElement&&n instanceof HTMLVideoElement&&n.readyState<=1&&0===n.buffered.length)return!1;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===s.ALPHA_MODES.UNPACK),this.noSubImage||e.target!==r.TEXTURE_2D||i.width!==a||i.height!==o?(i.width=a,i.height=o,r.texImage2D(e.target,0,i.internalFormat,e.format,i.type,n)):r.texSubImage2D(r.TEXTURE_2D,0,0,0,e.format,i.type,n),!0}update(){if(this.destroyed)return;const t=this.source,e=t.naturalWidth||t.videoWidth||t.width,i=t.naturalHeight||t.videoHeight||t.height;this.resize(e,i),super.update()}dispose(){this.source=null}}e.BaseImageResource=a},95737:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(79421);class r extends n.Resource{constructor(t,e){const{width:i,height:s}=e||{};if(!i||!s)throw new Error("BufferResource width or height invalid");super(i,s),this.data=t}upload(t,e,i){const n=t.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===s.ALPHA_MODES.UNPACK);const r=e.realWidth,a=e.realHeight;return i.width===r&&i.height===a?n.texSubImage2D(e.target,0,0,0,r,a,e.format,i.type,this.data):(i.width=r,i.height=a,n.texImage2D(e.target,0,i.internalFormat,r,a,0,e.format,i.type,this.data)),!0}dispose(){this.data=null}static test(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array}}e.BufferResource=r},30544:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(93748);class n extends s.BaseImageResource{constructor(t){super(t)}static test(t){const{OffscreenCanvas:e}=globalThis;return!!(e&&t instanceof e)||globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement}}e.CanvasResource=n},40073:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(34627);const r=class extends n.AbstractMultiResource{constructor(t,e){const{width:i,height:n,autoLoad:a,linkBaseTexture:o}=e||{};if(t&&t.length!==r.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:i,height:n});for(let t=0;t<r.SIDES;t++)this.items[t].target=s.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+t;this.linkBaseTexture=!1!==o,t&&this.initFromArray(t,e),!1!==a&&this.load()}bind(t){super.bind(t),t.target=s.TARGETS.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,i){if(void 0===i&&(i=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=s.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,i){const s=this.itemDirtyIds;for(let n=0;n<r.SIDES;n++){const r=this.items[n];(s[n]<r.dirtyId||i.dirtyId<e.dirtyId)&&(r.valid&&r.resource?(r.resource.upload(t,r,i),s[n]=r.dirtyId):s[n]<-1&&(t.gl.texImage2D(r.target,0,i.internalFormat,e.realWidth,e.realHeight,0,e.format,i.type,null),s[n]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===r.SIDES}};let a=r;a.SIDES=6,e.CubeResource=a},50911:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(95737);class r extends n.BufferResource{upload(t,e,i){const n=t.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===s.ALPHA_MODES.UNPACK);const r=e.realWidth,a=e.realHeight;return i.width===r&&i.height===a?n.texSubImage2D(e.target,0,0,0,r,a,e.format,i.type,this.data):(i.width=r,i.height=a,n.texImage2D(e.target,0,i.internalFormat,r,a,0,e.format,i.type,this.data)),!0}}e.DepthResource=r},11638:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(82101),r=i(93748);class a extends r.BaseImageResource{constructor(t,e){let i,s;e=e||{},"string"==typeof t?(i=a.EMPTY,s=t):(i=t,s=null),super(i),this.url=s,this.crossOrigin=e.crossOrigin??!0,this.alphaMode="number"==typeof e.alphaMode?e.alphaMode:null,this._load=null,!1!==e.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise((async(t,e)=>{if(null!==this.url)try{const e=await n.settings.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await e.blob();if(this.destroyed)return;const r=await createImageBitmap(i,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===s.ALPHA_MODES.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=r,this.update(),t(this)}catch(t){if(this.destroyed)return;e(t),this.onError.emit(t)}else t(this)}))),this._load}upload(t,e,i){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(e.alphaMode=this.alphaMode),super.upload(t,e,i)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(t){return!!globalThis.createImageBitmap&&"undefined"!=typeof ImageBitmap&&("string"==typeof t||t instanceof ImageBitmap)}static get EMPTY(){return a._EMPTY=a._EMPTY??n.settings.ADAPTER.createCanvas(0,0),a._EMPTY}}e.ImageBitmapResource=a},79137:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616),n=i(82101),r=i(93748);class a extends r.BaseImageResource{constructor(t,e){if(e=e||{},"string"==typeof t){const i=new Image;r.BaseImageResource.crossOrigin(i,t,e.crossorigin),i.src=t,t=i}super(t),!t.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=t.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(e.createBitmap??n.settings.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode="number"==typeof e.alphaMode?e.alphaMode:null,this.bitmap=null,this._load=null,!1!==e.autoLoad&&this.load()}load(t){return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise(((t,e)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?t(this.process()):t(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=t=>{e(t),this.onError.emit(t)})}))),this._load}process(){const t=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);const e=globalThis.createImageBitmap,i=!t.crossOrigin||"anonymous"===t.crossOrigin;return this._process=fetch(t.src,{mode:i?"cors":"no-cors"}).then((t=>t.blob())).then((i=>e(i,0,0,t.width,t.height,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===s.ALPHA_MODES.UNPACK?"premultiply":"none"}))).then((t=>this.destroyed?Promise.reject():(this.bitmap=t,this.update(),this._process=null,Promise.resolve(this)))),this._process}upload(t,e,i){if("number"==typeof this.alphaMode&&(e.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(t,e,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(t,e,i,this.bitmap),!this.preserveBitmap){let t=!0;const s=e._glTextures;for(const n in s){const r=s[n];if(r!==i&&r.dirtyId!==e.dirtyId){t=!1;break}}t&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(t){return"undefined"!=typeof HTMLImageElement&&("string"==typeof t||t instanceof HTMLImageElement)}}e.ImageResource=a},79421:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(82156);e.Resource=class{constructor(t=0,e=0){this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new s.Runner("setRealSize"),this.onUpdate=new s.Runner("update"),this.onError=new s.Runner("onError")}bind(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)}resize(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(t,e,i){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(t,e){return!1}}},23868:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(82101),n=i(12191),r=i(93748);const a=class extends r.BaseImageResource{constructor(t,e){e=e||{},super(s.settings.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,!1!==e.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise((t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},a.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}))),this._load}_loadSvg(){const t=new Image;r.BaseImageResource.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,i=t.height;if(!e||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let s=e*this.scale,r=i*this.scale;(this._overrideWidth||this._overrideHeight)&&(s=this._overrideWidth||this._overrideHeight/i*e,r=this._overrideHeight||this._overrideWidth/e*i),s=Math.round(s),r=Math.round(r);const a=this.source;a.width=s,a.height=r,a._pixiId=`canvas_${n.uid()}`,a.getContext("2d").drawImage(t,0,0,e,i,0,0,s,r),this._resolve(),this._resolve=null}}static getSize(t){const e=a.SVG_SIZE.exec(t),i={};return e&&(i[e[1]]=Math.round(parseFloat(e[3])),i[e[5]]=Math.round(parseFloat(e[7]))),i}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return"svg"===e||"string"==typeof t&&t.startsWith("data:image/svg+xml")||"string"==typeof t&&a.SVG_XML.test(t)}};let o=a;o.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,o.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SVGResource=o},41540:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(36082),n=i(93748);const r=class extends n.BaseImageResource{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const i=document.createElement("video");i.setAttribute("preload","auto"),i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline",""),"string"==typeof t&&(t=[t]);const s=t[0].src||t[0];n.BaseImageResource.crossOrigin(i,s,e.crossorigin);for(let e=0;e<t.length;++e){const s=document.createElement("source");let{src:n,mime:a}=t[e];n=n||t[e];const o=n.split("?").shift().toLowerCase(),h=o.slice(o.lastIndexOf(".")+1);a=a||r.MIME_TYPES[h]||`video/${h}`,s.src=n,s.type=a,i.appendChild(s)}t=i}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==e.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),!1!==e.autoLoad&&this.load()}update(t=0){if(!this.destroyed){const t=s.Ticker.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((e=>{this.valid?e(this):(this._resolve=e,t.load())})),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(s.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(s.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(s.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(s.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(s.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||r.TYPES.includes(e)}};let a=r;a.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],a.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e.VideoResource=a},11105:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=[];e.INSTALLED=i,e.autoDetectResource=function(t,e){if(!t)return null;let s="";if("string"==typeof t){const e=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);e&&(s=e[1].toLowerCase())}for(let n=i.length-1;n>=0;--n){const r=i[n];if(r.test&&r.test(t,s))return new r(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}},64535:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(82696),n=i(11105),r=i(95737),a=i(30544),o=i(40073),h=i(11638),l=i(79137),d=i(23868),u=i(41540),c=i(93748),p=i(79421),m=i(34627);n.INSTALLED.push(h.ImageBitmapResource,l.ImageResource,a.CanvasResource,u.VideoResource,d.SVGResource,r.BufferResource,o.CubeResource,s.ArrayResource),e.ArrayResource=s.ArrayResource,e.INSTALLED=n.INSTALLED,e.autoDetectResource=n.autoDetectResource,e.BufferResource=r.BufferResource,e.CanvasResource=a.CanvasResource,e.CubeResource=o.CubeResource,e.ImageBitmapResource=h.ImageBitmapResource,e.ImageResource=l.ImageResource,e.SVGResource=d.SVGResource,e.VideoResource=u.VideoResource,e.BaseImageResource=c.BaseImageResource,e.Resource=p.Resource,e.AbstractMultiResource=m.AbstractMultiResource},59476:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(57616);e.mapTypeAndFormatToInternalFormat=function(t){let e;return e="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?{[s.TYPES.UNSIGNED_BYTE]:{[s.FORMATS.RGBA]:t.RGBA8,[s.FORMATS.RGB]:t.RGB8,[s.FORMATS.RG]:t.RG8,[s.FORMATS.RED]:t.R8,[s.FORMATS.RGBA_INTEGER]:t.RGBA8UI,[s.FORMATS.RGB_INTEGER]:t.RGB8UI,[s.FORMATS.RG_INTEGER]:t.RG8UI,[s.FORMATS.RED_INTEGER]:t.R8UI,[s.FORMATS.ALPHA]:t.ALPHA,[s.FORMATS.LUMINANCE]:t.LUMINANCE,[s.FORMATS.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[s.TYPES.BYTE]:{[s.FORMATS.RGBA]:t.RGBA8_SNORM,[s.FORMATS.RGB]:t.RGB8_SNORM,[s.FORMATS.RG]:t.RG8_SNORM,[s.FORMATS.RED]:t.R8_SNORM,[s.FORMATS.RGBA_INTEGER]:t.RGBA8I,[s.FORMATS.RGB_INTEGER]:t.RGB8I,[s.FORMATS.RG_INTEGER]:t.RG8I,[s.FORMATS.RED_INTEGER]:t.R8I},[s.TYPES.UNSIGNED_SHORT]:{[s.FORMATS.RGBA_INTEGER]:t.RGBA16UI,[s.FORMATS.RGB_INTEGER]:t.RGB16UI,[s.FORMATS.RG_INTEGER]:t.RG16UI,[s.FORMATS.RED_INTEGER]:t.R16UI,[s.FORMATS.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[s.TYPES.SHORT]:{[s.FORMATS.RGBA_INTEGER]:t.RGBA16I,[s.FORMATS.RGB_INTEGER]:t.RGB16I,[s.FORMATS.RG_INTEGER]:t.RG16I,[s.FORMATS.RED_INTEGER]:t.R16I},[s.TYPES.UNSIGNED_INT]:{[s.FORMATS.RGBA_INTEGER]:t.RGBA32UI,[s.FORMATS.RGB_INTEGER]:t.RGB32UI,[s.FORMATS.RG_INTEGER]:t.RG32UI,[s.FORMATS.RED_INTEGER]:t.R32UI,[s.FORMATS.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[s.TYPES.INT]:{[s.FORMATS.RGBA_INTEGER]:t.RGBA32I,[s.FORMATS.RGB_INTEGER]:t.RGB32I,[s.FORMATS.RG_INTEGER]:t.RG32I,[s.FORMATS.RED_INTEGER]:t.R32I},[s.TYPES.FLOAT]:{[s.FORMATS.RGBA]:t.RGBA32F,[s.FORMATS.RGB]:t.RGB32F,[s.FORMATS.RG]:t.RG32F,[s.FORMATS.RED]:t.R32F,[s.FORMATS.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[s.TYPES.HALF_FLOAT]:{[s.FORMATS.RGBA]:t.RGBA16F,[s.FORMATS.RGB]:t.RGB16F,[s.FORMATS.RG]:t.RG16F,[s.FORMATS.RED]:t.R16F},[s.TYPES.UNSIGNED_SHORT_5_6_5]:{[s.FORMATS.RGB]:t.RGB565},[s.TYPES.UNSIGNED_SHORT_4_4_4_4]:{[s.FORMATS.RGBA]:t.RGBA4},[s.TYPES.UNSIGNED_SHORT_5_5_5_1]:{[s.FORMATS.RGBA]:t.RGB5_A1},[s.TYPES.UNSIGNED_INT_2_10_10_10_REV]:{[s.FORMATS.RGBA]:t.RGB10_A2,[s.FORMATS.RGBA_INTEGER]:t.RGB10_A2UI},[s.TYPES.UNSIGNED_INT_10F_11F_11F_REV]:{[s.FORMATS.RGB]:t.R11F_G11F_B10F},[s.TYPES.UNSIGNED_INT_5_9_9_9_REV]:{[s.FORMATS.RGB]:t.RGB9_E5},[s.TYPES.UNSIGNED_INT_24_8]:{[s.FORMATS.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[s.TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[s.FORMATS.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:{[s.TYPES.UNSIGNED_BYTE]:{[s.FORMATS.RGBA]:t.RGBA,[s.FORMATS.RGB]:t.RGB,[s.FORMATS.ALPHA]:t.ALPHA,[s.FORMATS.LUMINANCE]:t.LUMINANCE,[s.FORMATS.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[s.TYPES.UNSIGNED_SHORT_5_6_5]:{[s.FORMATS.RGB]:t.RGB},[s.TYPES.UNSIGNED_SHORT_4_4_4_4]:{[s.FORMATS.RGBA]:t.RGBA},[s.TYPES.UNSIGNED_SHORT_5_5_5_1]:{[s.FORMATS.RGBA]:t.RGBA}},e}},23574:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(82156);e.TransformFeedback=class{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new s.Runner("disposeTransformFeedback")}bindBuffer(t,e){this.buffers[t]=e}destroy(){this.disposeRunner.emit(this,!1)}}},58228:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71648);class n{constructor(t){this.renderer=t}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:e,CONTEXT_UID:i}=this,s=t._glTransformFeedbacks[i]||this.createGLTransformFeedback(t);e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,s)}unbind(){const{gl:t}=this;t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(t,e){const{gl:i,renderer:s}=this;e&&s.shader.bind(e),i.beginTransformFeedback(t)}endTransformFeedback(){const{gl:t}=this;t.endTransformFeedback()}createGLTransformFeedback(t){const{gl:e,renderer:i,CONTEXT_UID:s}=this,n=e.createTransformFeedback();t._glTransformFeedbacks[s]=n,e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,n);for(let n=0;n<t.buffers.length;n++){const r=t.buffers[n];r&&(i.buffer.update(r),r._glBuffers[s].refCount++,e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,n,r._glBuffers[s].buffer||null))}return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),t.disposeRunner.add(this),n}disposeTransformFeedback(t,e){const i=t._glTransformFeedbacks[this.CONTEXT_UID],s=this.gl;t.disposeRunner.remove(this);const n=this.renderer.buffer;if(n)for(let i=0;i<t.buffers.length;i++){const s=t.buffers[i];if(!s)continue;const r=s._glBuffers[this.CONTEXT_UID];r&&(r.refCount--,0!==r.refCount||e||n.dispose(s,e))}i&&(e||s.deleteTransformFeedback(i),delete t._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}n.extension={type:s.ExtensionType.RendererSystem,name:"transformFeedback"},s.extensions.add(n),e.TransformFeedbackSystem=n},342:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(82736);class n extends s.Geometry{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}e.Quad=n},72953:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(44518),n=i(82736);class r extends n.Geometry{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new s.Buffer(this.vertices),this.uvBuffer=new s.Buffer(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(t,e){let i=0,s=0;return this.uvs[0]=i,this.uvs[1]=s,this.uvs[2]=i+e.width/t.width,this.uvs[3]=s,this.uvs[4]=i+e.width/t.width,this.uvs[5]=s+e.height/t.height,this.uvs[6]=i,this.uvs[7]=s+e.height/t.height,i=e.x,s=e.y,this.vertices[0]=i,this.vertices[1]=s,this.vertices[2]=i+e.width,this.vertices[3]=s,this.vertices[4]=i+e.width,this.vertices[5]=s+e.height,this.vertices[6]=i,this.vertices[7]=s+e.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}e.QuadUv=r},45711:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71648),n=i(40435),r=i(82101);class a{constructor(t){this.renderer=t}init(t){this.screen=new n.Rectangle(0,0,t.width,t.height),this.element=t.view||r.settings.ADAPTER.createCanvas(),this.resolution=t.resolution||r.settings.RESOLUTION,this.autoDensity=!!t.autoDensity}resizeView(t,e){this.element.width=Math.round(t*this.resolution),this.element.height=Math.round(e*this.resolution);const i=this.element.width/this.resolution,s=this.element.height/this.resolution;this.screen.width=i,this.screen.height=s,this.autoDensity&&(this.element.style.width=`${i}px`,this.element.style.height=`${s}px`),this.renderer.emit("resize",i,s),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(t){t&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}a.defaultOptions={width:800,height:600,resolution:r.settings.RESOLUTION,autoDensity:!1},a.extension={type:[s.ExtensionType.RendererSystem,s.ExtensionType.CanvasRendererSystem],name:"_view"},s.extensions.add(a),e.ViewSystem=a},57966:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);e.Bounds=class{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(t){return this.minX>this.maxX||this.minY>this.maxY?s.Rectangle.EMPTY:((t=t||new s.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}addPoint(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}addPointMatrix(t,e){const{a:i,b:s,c:n,d:r,tx:a,ty:o}=t,h=i*e.x+n*e.y+a,l=s*e.x+r*e.y+o;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,l),this.maxY=Math.max(this.maxY,l)}addQuad(t){let e=this.minX,i=this.minY,s=this.maxX,n=this.maxY,r=t[0],a=t[1];e=r<e?r:e,i=a<i?a:i,s=r>s?r:s,n=a>n?a:n,r=t[2],a=t[3],e=r<e?r:e,i=a<i?a:i,s=r>s?r:s,n=a>n?a:n,r=t[4],a=t[5],e=r<e?r:e,i=a<i?a:i,s=r>s?r:s,n=a>n?a:n,r=t[6],a=t[7],e=r<e?r:e,i=a<i?a:i,s=r>s?r:s,n=a>n?a:n,this.minX=e,this.minY=i,this.maxX=s,this.maxY=n}addFrame(t,e,i,s,n){this.addFrameMatrix(t.worldTransform,e,i,s,n)}addFrameMatrix(t,e,i,s,n){const r=t.a,a=t.b,o=t.c,h=t.d,l=t.tx,d=t.ty;let u=this.minX,c=this.minY,p=this.maxX,m=this.maxY,f=r*e+o*i+l,g=a*e+h*i+d;u=f<u?f:u,c=g<c?g:c,p=f>p?f:p,m=g>m?g:m,f=r*s+o*i+l,g=a*s+h*i+d,u=f<u?f:u,c=g<c?g:c,p=f>p?f:p,m=g>m?g:m,f=r*e+o*n+l,g=a*e+h*n+d,u=f<u?f:u,c=g<c?g:c,p=f>p?f:p,m=g>m?g:m,f=r*s+o*n+l,g=a*s+h*n+d,u=f<u?f:u,c=g<c?g:c,p=f>p?f:p,m=g>m?g:m,this.minX=u,this.minY=c,this.maxX=p,this.maxY=m}addVertexData(t,e,i){let s=this.minX,n=this.minY,r=this.maxX,a=this.maxY;for(let o=e;o<i;o+=2){const e=t[o],i=t[o+1];s=e<s?e:s,n=i<n?i:n,r=e>r?e:r,a=i>a?i:a}this.minX=s,this.minY=n,this.maxX=r,this.maxY=a}addVertices(t,e,i,s){this.addVerticesMatrix(t.worldTransform,e,i,s)}addVerticesMatrix(t,e,i,s,n=0,r=n){const a=t.a,o=t.b,h=t.c,l=t.d,d=t.tx,u=t.ty;let c=this.minX,p=this.minY,m=this.maxX,f=this.maxY;for(let t=i;t<s;t+=2){const i=e[t],s=e[t+1],g=a*i+h*s+d,y=l*s+o*i+u;c=Math.min(c,g-n),m=Math.max(m,g+n),p=Math.min(p,y-r),f=Math.max(f,y+r)}this.minX=c,this.minY=p,this.maxX=m,this.maxY=f}addBounds(t){const e=this.minX,i=this.minY,s=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>s?t.maxX:s,this.maxY=t.maxY>n?t.maxY:n}addBoundsMask(t,e){const i=t.minX>e.minX?t.minX:e.minX,s=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,r=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=n&&s<=r){const t=this.minX,e=this.minY,a=this.maxX,o=this.maxY;this.minX=i<t?i:t,this.minY=s<e?s:e,this.maxX=n>a?n:a,this.maxY=r>o?r:o}}addBoundsMatrix(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)}addBoundsArea(t,e){const i=t.minX>e.x?t.minX:e.x,s=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,r=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=n&&s<=r){const t=this.minX,e=this.minY,a=this.maxX,o=this.maxY;this.minX=i<t?i:t,this.minY=s<e?s:e,this.maxX=n>a?n:a,this.maxY=r>o?r:o}}pad(t=0,e=t){this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)}addFramePad(t,e,i,s,n,r){t-=n,e-=r,i+=n,s+=r,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>s?this.maxY:s}}},7155:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(70263);const r=new s.Matrix;function a(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const o=class extends n.DisplayObject{constructor(){super(),this.children=[],this.sortableChildren=o.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const i=this.getChildIndex(t),s=this.getChildIndex(e);this.children[i]=e,this.children[s]=t,this.onChildrenChange(i<s?i:s)}getChildIndex(t){const e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const i=this.getChildIndex(t);s.utils.removeItems(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],i=this.children.indexOf(e);if(-1===i)return null;e.parent=null,e.transform._parentID=-1,s.utils.removeItems(this.children,i,1),this._boundsID++,this.onChildrenChange(i),e.emit("removed",this),this.emit("childRemoved",e,this,i)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,s.utils.removeItems(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const i=t,s=e-i;let n;if(s>0&&s<=e){n=this.children.splice(i,s);for(let t=0;t<n.length;++t)n[t].parent=null,n[t].transform&&(n[t].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let t=0;t<n.length;++t)n[t].emit("removed",this),this.emit("childRemoved",n[t],this,t);return n}if(0===s&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,i=this.children.length;e<i;++e){const i=this.children[e];i._lastSortedIndex=e,t||0===i.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(a),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const e=this.children[t];e.visible&&e.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){const t=e._mask.isMaskData?e._mask.maskObject:e._mask;t?(t.calculateBounds(),this._bounds.addBoundsMask(e._bounds,t._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const i=super.getLocalBounds(t);if(!e)for(let t=0,e=this.children.length;t<e;++t){const e=this.children[t];e.visible&&e.updateTransform()}return i}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let i,s;this.cullArea?(i=this.cullArea,s=this.worldTransform):this._render!==o.prototype._render&&(i=this.getBounds(!0));const n=t.projection.transform;if(n&&(s?(s=r.copyFrom(s),s.prepend(n)):s=n),i&&e.intersects(i,s))this._render(t);else if(this.cullArea)return;for(let e=0,i=this.children.length;e<i;++e){const i=this.children[e],s=i.cullable;i.cullable=s||!this.cullArea,i.render(t),i.cullable=s}}render(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters?.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}}renderAdvanced(t){const e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let t=0;t<e.length;t++)e[t].enabled&&this._enabledFilters.push(e[t])}const n=e&&this._enabledFilters?.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==s.MASK_TYPES.NONE));if(n&&t.batch.flush(),e&&this._enabledFilters?.length&&t.filter.push(this,this._enabledFilters),i&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}n&&t.batch.flush(),i&&t.mask.pop(this),e&&this._enabledFilters?.length&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e="boolean"==typeof t?t:t?.children,i=this.removeChildren(0,this.children.length);if(e)for(let e=0;e<i.length;++e)i[e].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}};let h=o;h.defaultSortableChildren=!1,h.prototype.containerUpdateTransform=h.prototype.updateTransform,e.Container=h},70263:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(57966);class r extends s.utils.EventEmitter{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new s.Transform,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new n.Bounds,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(t){const e=Object.keys(t);for(let i=0;i<e.length;++i){const s=e[i];Object.defineProperty(r.prototype,s,Object.getOwnPropertyDescriptor(t,s))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new s.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)}getLocalBounds(t){t||(this._localBoundsRect||(this._localBoundsRect=new s.Rectangle),t=this._localBoundsRect),this._localBounds||(this._localBounds=new n.Bounds);const e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const r=this._bounds,a=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,t);return this.parent=i,this.transform=e,this._bounds=r,this._bounds.updateID+=this._boundsID-a,o}toGlobal(t,e,i=!1){return i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)}toLocal(t,e,i,s){return e&&(t=e.toGlobal(t,i,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)}setParent(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}removeFromParent(){this.parent?.removeChild(this)}setTransform(t=0,e=0,i=1,s=1,n=0,r=0,a=0,o=0,h=0){return this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=s||1,this.rotation=n,this.skew.x=r,this.skew.y=a,this.pivot.x=o,this.pivot.y=h,this}destroy(t){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new a),this.tempDisplayObjectParent}enableTempParent(){const t=this.parent;return this.parent=this._tempDisplayObjectParent,t}disableTempParent(t){this.parent=t}get x(){return this.position.x}set x(t){this.transform.position.x=t}get y(){return this.position.y}set y(t){this.transform.position.y=t}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(t){this.transform.position.copyFrom(t)}get scale(){return this.transform.scale}set scale(t){this.transform.scale.copyFrom(t)}get pivot(){return this.transform.pivot}set pivot(t){this.transform.pivot.copyFrom(t)}get skew(){return this.transform.skew}set skew(t){this.transform.skew.copyFrom(t)}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get angle(){return this.transform.rotation*s.RAD_TO_DEG}set angle(t){this.transform.rotation=t*s.DEG_TO_RAD}get zIndex(){return this._zIndex}set zIndex(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}get mask(){return this._mask}set mask(t){if(this._mask!==t){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,0===t._maskRefCount&&(t.renderable=!0,t.isMask=!1))}if(this._mask=t,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(0===t._maskRefCount&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class a extends r{constructor(){super(...arguments),this.sortDirty=null}}r.prototype.displayObjectUpdateTransform=r.prototype.updateTransform,e.DisplayObject=r,e.TemporaryDisplayObject=a},27191:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(63428);var s=i(57966),n=i(7155),r=i(70263);e.Bounds=s.Bounds,e.Container=n.Container,e.DisplayObject=r.DisplayObject,e.TemporaryDisplayObject=r.TemporaryDisplayObject},63428:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(7155);Object.defineProperties(s.settings,{SORTABLE_CHILDREN:{get:()=>n.Container.defaultSortableChildren,set(t){s.utils.deprecation("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),n.Container.defaultSortableChildren=t}}}),Object.defineProperty(e,"settings",{enumerable:!0,get:function(){return s.settings}})},49099:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(28582),r=i(39564),a=i(67058),o=i(23009);const h=new s.Point,l=new s.Point;e.EventBoundary=class{constructor(t){this.dispatch=new s.utils.EventEmitter,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort(((t,e)=>t.priority-e.priority))}dispatchEvent(t,e){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e),this.dispatch.emit(e||t.type,t)}mapEvent(t){if(!this.rootTarget)return;const e=this.mappingTable[t.type];if(e)for(let i=0,s=e.length;i<s;i++)e[i].fn(t);else console.warn(`[EventBoundary]: Event mapping not defined for ${t.type}`)}hitTest(t,e){n.EventsTicker.pauseUpdate=!0;const i=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,h.set(t,e),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(t,e){if(!t.target)return;const i=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let s=0,n=i.length-1;s<n;s++)if(t.currentTarget=i[s],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!t.propagationStopped&&!t.propagationImmediatelyStopped){t.eventPhase=t.BUBBLING_PHASE;for(let s=i.length-2;s>=0;s--)if(t.currentTarget=i[s],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}all(t,e,i=this._allInteractiveElements){if(0===i.length)return;t.eventPhase=t.BUBBLING_PHASE;const s=Array.isArray(e)?e:[e];for(let e=i.length-1;e>=0;e--)s.forEach((s=>{t.currentTarget=i[e],this.notifyTarget(t,s)}))}propagationPath(t){const e=[t];for(let i=0;i<2048&&t!==this.rootTarget;i++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");e.push(t.parent),t=t.parent}return e.reverse(),e}hitTestMoveRecursive(t,e,i,s,r,a=!1){let o=!1;if(this._interactivePrune(t))return null;if("dynamic"!==t.eventMode&&"dynamic"!==e||(n.EventsTicker.pauseUpdate=!1),t.interactiveChildren&&t.children){const n=t.children;for(let h=n.length-1;h>=0;h--){const l=n[h],d=this.hitTestMoveRecursive(l,this._isInteractive(e)?e:l.eventMode,i,s,r,a||r(t,i));if(d){if(d.length>0&&!d[d.length-1].parent)continue;const e=t.isInteractive();(d.length>0||e)&&(e&&this._allInteractiveElements.push(t),d.push(t)),0===this._hitElements.length&&(this._hitElements=d),o=!0}}}const h=this._isInteractive(e),l=t.isInteractive();return l&&l&&this._allInteractiveElements.push(t),a||this._hitElements.length>0?null:o?this._hitElements:h&&!r(t,i)&&s(t,i)?l?[t]:[]:null}hitTestRecursive(t,e,i,s,r){if(this._interactivePrune(t)||r(t,i))return null;if("dynamic"!==t.eventMode&&"dynamic"!==e||(n.EventsTicker.pauseUpdate=!1),t.interactiveChildren&&t.children){const n=t.children;for(let a=n.length-1;a>=0;a--){const o=n[a],h=this.hitTestRecursive(o,this._isInteractive(e)?e:o.eventMode,i,s,r);if(h){if(h.length>0&&!h[h.length-1].parent)continue;const e=t.isInteractive();return(h.length>0||e)&&h.push(t),h}}}const a=this._isInteractive(e),o=t.isInteractive();return a&&s(t,i)?o?[t]:[]:null}_isInteractive(t){return"static"===t||"dynamic"===t}_interactivePrune(t){return!(t&&!t.isMask&&t.visible&&t.renderable)||("none"===t.eventMode||("passive"===t.eventMode&&!t.interactiveChildren||!!t.isMask))}hitPruneFn(t,e){if(t.hitArea&&(t.worldTransform.applyInverse(e,l),!t.hitArea.contains(l.x,l.y)))return!0;if(t._mask){const i=t._mask.isMaskData?t._mask.maskObject:t._mask;if(i&&!i.containsPoint?.(e))return!0}return!1}hitTestFn(t,e){return"passive"!==t.eventMode&&(!!t.hitArea||!!t.containsPoint&&t.containsPoint(e))}notifyTarget(t,e){const i=`on${e=e??t.type}`;t.currentTarget[i]?.(t);const s=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${e}capture`:e;this.notifyListeners(t,s),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,e)}mapPointerDown(t){if(!(t instanceof a.FederatedPointerEvent))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.createPointerEvent(t);if(this.dispatchEvent(e,"pointerdown"),"touch"===e.pointerType)this.dispatchEvent(e,"touchstart");else if("mouse"===e.pointerType||"pen"===e.pointerType){const t=2===e.button;this.dispatchEvent(e,t?"rightdown":"mousedown")}this.trackingData(t.pointerId).pressTargetsByButton[t.button]=e.composedPath(),this.freeEvent(e)}mapPointerMove(t){if(!(t instanceof a.FederatedPointerEvent))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const e=this.createPointerEvent(t);this._isPointerMoveEvent=!1;const i="mouse"===e.pointerType||"pen"===e.pointerType,s=this.trackingData(t.pointerId),n=this.findMountedTarget(s.overTargets);if(s.overTargets?.length>0&&n!==e.target){const s="mousemove"===t.type?"mouseout":"pointerout",r=this.createPointerEvent(t,s,n);if(this.dispatchEvent(r,"pointerout"),i&&this.dispatchEvent(r,"mouseout"),!e.composedPath().includes(n)){const s=this.createPointerEvent(t,"pointerleave",n);for(s.eventPhase=s.AT_TARGET;s.target&&!e.composedPath().includes(s.target);)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseleave"),s.target=s.target.parent;this.freeEvent(s)}this.freeEvent(r)}if(n!==e.target){const s="mousemove"===t.type?"mouseover":"pointerover",r=this.clonePointerEvent(e,s);this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover");let a=n?.parent;for(;a&&a!==this.rootTarget.parent&&a!==e.target;)a=a.parent;if(!a||a===this.rootTarget.parent){const t=this.clonePointerEvent(e,"pointerenter");for(t.eventPhase=t.AT_TARGET;t.target&&t.target!==n&&t.target!==this.rootTarget.parent;)t.currentTarget=t.target,this.notifyTarget(t),i&&this.notifyTarget(t,"mouseenter"),t.target=t.target.parent;this.freeEvent(t)}this.freeEvent(r)}const r=[],o=this.enableGlobalMoveEvents??!0;this.moveOnAll?r.push("pointermove"):this.dispatchEvent(e,"pointermove"),o&&r.push("globalpointermove"),"touch"===e.pointerType&&(this.moveOnAll?r.splice(1,0,"touchmove"):this.dispatchEvent(e,"touchmove"),o&&r.push("globaltouchmove")),i&&(this.moveOnAll?r.splice(1,0,"mousemove"):this.dispatchEvent(e,"mousemove"),o&&r.push("globalmousemove"),this.cursor=e.target?.cursor),r.length>0&&this.all(e,r),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=e.composedPath(),this.freeEvent(e)}mapPointerOver(t){if(!(t instanceof a.FederatedPointerEvent))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.trackingData(t.pointerId),i=this.createPointerEvent(t),s="mouse"===i.pointerType||"pen"===i.pointerType;this.dispatchEvent(i,"pointerover"),s&&this.dispatchEvent(i,"mouseover"),"mouse"===i.pointerType&&(this.cursor=i.target?.cursor);const n=this.clonePointerEvent(i,"pointerenter");for(n.eventPhase=n.AT_TARGET;n.target&&n.target!==this.rootTarget.parent;)n.currentTarget=n.target,this.notifyTarget(n),s&&this.notifyTarget(n,"mouseenter"),n.target=n.target.parent;e.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(n)}mapPointerOut(t){if(!(t instanceof a.FederatedPointerEvent))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.trackingData(t.pointerId);if(e.overTargets){const i="mouse"===t.pointerType||"pen"===t.pointerType,s=this.findMountedTarget(e.overTargets),n=this.createPointerEvent(t,"pointerout",s);this.dispatchEvent(n),i&&this.dispatchEvent(n,"mouseout");const r=this.createPointerEvent(t,"pointerleave",s);for(r.eventPhase=r.AT_TARGET;r.target&&r.target!==this.rootTarget.parent;)r.currentTarget=r.target,this.notifyTarget(r),i&&this.notifyTarget(r,"mouseleave"),r.target=r.target.parent;e.overTargets=null,this.freeEvent(n),this.freeEvent(r)}this.cursor=null}mapPointerUp(t){if(!(t instanceof a.FederatedPointerEvent))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=performance.now(),i=this.createPointerEvent(t);if(this.dispatchEvent(i,"pointerup"),"touch"===i.pointerType)this.dispatchEvent(i,"touchend");else if("mouse"===i.pointerType||"pen"===i.pointerType){const t=2===i.button;this.dispatchEvent(i,t?"rightup":"mouseup")}const s=this.trackingData(t.pointerId),n=this.findMountedTarget(s.pressTargetsByButton[t.button]);let r=n;if(n&&!i.composedPath().includes(n)){let e=n;for(;e&&!i.composedPath().includes(e);){if(i.currentTarget=e,this.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType)this.notifyTarget(i,"touchendoutside");else if("mouse"===i.pointerType||"pen"===i.pointerType){const t=2===i.button;this.notifyTarget(i,t?"rightupoutside":"mouseupoutside")}e=e.parent}delete s.pressTargetsByButton[t.button],r=e}if(r){const n=this.clonePointerEvent(i,"click");n.target=r,n.path=null,s.clicksByButton[t.button]||(s.clicksByButton[t.button]={clickCount:0,target:n.target,timeStamp:e});const a=s.clicksByButton[t.button];if(a.target===n.target&&e-a.timeStamp<200?++a.clickCount:a.clickCount=1,a.target=n.target,a.timeStamp=e,n.detail=a.clickCount,"mouse"===n.pointerType){const t=2===n.button;this.dispatchEvent(n,t?"rightclick":"click")}else"touch"===n.pointerType&&this.dispatchEvent(n,"tap");this.dispatchEvent(n,"pointertap"),this.freeEvent(n)}this.freeEvent(i)}mapPointerUpOutside(t){if(!(t instanceof a.FederatedPointerEvent))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.trackingData(t.pointerId),i=this.findMountedTarget(e.pressTargetsByButton[t.button]),s=this.createPointerEvent(t);if(i){let n=i;for(;n;)s.currentTarget=n,this.notifyTarget(s,"pointerupoutside"),"touch"===s.pointerType?this.notifyTarget(s,"touchendoutside"):"mouse"!==s.pointerType&&"pen"!==s.pointerType||this.notifyTarget(s,2===s.button?"rightupoutside":"mouseupoutside"),n=n.parent;delete e.pressTargetsByButton[t.button]}this.freeEvent(s)}mapWheel(t){if(!(t instanceof o.FederatedWheelEvent))return void console.warn("EventBoundary cannot map a non-wheel event as a wheel event");const e=this.createWheelEvent(t);this.dispatchEvent(e),this.freeEvent(e)}findMountedTarget(t){if(!t)return null;let e=t[0];for(let i=1;i<t.length&&t[i].parent===e;i++)e=t[i];return e}createPointerEvent(t,e,i){const s=this.allocateEvent(a.FederatedPointerEvent);return this.copyPointerData(t,s),this.copyMouseData(t,s),this.copyData(t,s),s.nativeEvent=t.nativeEvent,s.originalEvent=t,s.target=i??this.hitTest(s.global.x,s.global.y)??this._hitElements[0],"string"==typeof e&&(s.type=e),s}createWheelEvent(t){const e=this.allocateEvent(o.FederatedWheelEvent);return this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.nativeEvent=t.nativeEvent,e.originalEvent=t,e.target=this.hitTest(e.global.x,e.global.y),e}clonePointerEvent(t,e){const i=this.allocateEvent(a.FederatedPointerEvent);return i.nativeEvent=t.nativeEvent,i.originalEvent=t.originalEvent,this.copyPointerData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.target=t.target,i.path=t.composedPath().slice(),i.type=e??i.type,i}copyWheelData(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ}copyPointerData(t,e){t instanceof a.FederatedPointerEvent&&e instanceof a.FederatedPointerEvent&&(e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist)}copyMouseData(t,e){t instanceof r.FederatedMouseEvent&&e instanceof r.FederatedMouseEvent&&(e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.copyFrom(t.client),e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.copyFrom(t.movement),e.screen.copyFrom(t.screen),e.shiftKey=t.shiftKey,e.global.copyFrom(t.global))}copyData(t,e){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.which=t.which,e.layer.copyFrom(t.layer),e.page.copyFrom(t.page)}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){this.eventPool.has(t)||this.eventPool.set(t,[]);const e=this.eventPool.get(t).pop()||new t(this);return e.eventPhase=e.NONE,e.currentTarget=null,e.path=null,e.target=null,e}freeEvent(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const e=t.constructor;this.eventPool.has(e)||this.eventPool.set(e,[]),this.eventPool.get(e).push(t)}notifyListeners(t,e){const i=t.currentTarget._events[e];if(i&&t.currentTarget.isInteractive())if("fn"in i)i.once&&t.currentTarget.removeListener(e,i.fn,void 0,!0),i.fn.call(i.context,t);else for(let s=0,n=i.length;s<n&&!t.propagationImmediatelyStopped;s++)i[s].once&&t.currentTarget.removeListener(e,i[s].fn,void 0,!0),i[s].fn.call(i[s].context,t)}}},38265:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(49099),r=i(28582),a=i(67058),o=i(23009);const h={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},l=class{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new n.EventBoundary(null),r.EventsTicker.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new a.FederatedPointerEvent(null),this.rootWheelEvent=new o.FederatedWheelEvent(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...l.defaultEventFeatures},{set:(t,e,i)=>("globalMove"===e&&(this.rootBoundary.enableGlobalMoveEvents=i),t[e]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:i}=this.renderer;this.setTargetElement(e),this.resolution=i,l._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const i=this.cursorStyles[t];if(i)switch(typeof i){case"string":e&&(this.domElement.style.cursor=i);break;case"function":i(t);break;case"object":e&&Object.assign(this.domElement.style,i)}else e&&"string"==typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click)return;if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===t.pointerType)return;const e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized){(t.cancelable||!("cancelable"in t))&&t.preventDefault()}for(let t=0,i=e.length;t<i;t++){const i=e[t],s=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move)return;if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===t.pointerType)return;r.EventsTicker.pointerMoved();const e=this.normalizeToPointerData(t);for(let t=0,i=e.length;t<i;t++){const i=this.bootstrapEvent(this.rootPointerEvent,e[t]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click)return;if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===t.pointerType)return;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const i=e!==this.domElement?"outside":"",s=this.normalizeToPointerData(t);for(let t=0,e=s.length;t<e;t++){const e=this.bootstrapEvent(this.rootPointerEvent,s[t]);e.type+=i,this.rootBoundary.mapEvent(e)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click)return;if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===t.pointerType)return;const e=this.normalizeToPointerData(t);for(let t=0,i=e.length;t<i;t++){const i=this.bootstrapEvent(this.rootPointerEvent,e[t]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,r.EventsTicker.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;r.EventsTicker.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;r.EventsTicker.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,i){let s;s=this.domElement.parentElement?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const n=1/this.resolution;t.x=(e-s.left)*(this.domElement.width/s.width)*n,t.y=(i-s.top)*(this.domElement.height/s.height)*n}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let i=0,s=t.changedTouches.length;i<s;i++){const s=t.changedTouches[i];void 0===s.button&&(s.button=0),void 0===s.buttons&&(s.buttons=1),void 0===s.isPrimary&&(s.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===s.width&&(s.width=s.radiusX||1),void 0===s.height&&(s.height=s.radiusY||1),void 0===s.tiltX&&(s.tiltX=0),void 0===s.tiltY&&(s.tiltY=0),void 0===s.pointerType&&(s.pointerType="touch"),void 0===s.pointerId&&(s.pointerId=s.identifier||0),void 0===s.pressure&&(s.pressure=s.force||.5),void 0===s.twist&&(s.twist=0),void 0===s.tangentialPressure&&(s.tangentialPressure=0),void 0===s.layerX&&(s.layerX=s.offsetX=s.clientX),void 0===s.layerY&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=t.type,e.push(s)}else if(globalThis.MouseEvent&&(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof globalThis.PointerEvent))e.push(t);else{const i=t;void 0===i.isPrimary&&(i.isPrimary=!0),void 0===i.width&&(i.width=1),void 0===i.height&&(i.height=1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="mouse"),void 0===i.pointerId&&(i.pointerId=1),void 0===i.pressure&&(i.pressure=.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),i.isNormalized=!0,e.push(i)}return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,"pointerleave"===t.type&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=h[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};let d=l;d.extension={name:"events",type:[s.ExtensionType.RendererSystem,s.ExtensionType.CanvasRendererSystem]},d.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0},s.extensions.add(d),e.EventSystem=d},28582:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);const n=new class{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(t){this._pauseUpdate=t}addTickerListener(){!this.tickerAdded&&this.domElement&&(s.Ticker.system.add(this.tickerUpdate,this,s.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(s.Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove)return void(this._didMove=!1);const t=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===t.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY}))}tickerUpdate(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())}};e.EventsTicker=n},66419:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);class n{constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=n.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new s.Point,this.page=new s.Point,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return!this.manager||this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(t,e,i){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(t,e,i,s,n){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}e.FederatedEvent=n},2386:()=>{},48575:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(27191),r=i(38265),a=i(66419);function o(t){return"dynamic"===t||"static"===t}const h={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??o(r.EventSystem.defaultEventMode)},set interactive(t){s.utils.deprecation("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??r.EventSystem.defaultEventMode},set eventMode(t){this._internalInteractive=o(t),this._internalEventMode=t},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(t,e,i){const s="function"==typeof e?void 0:e;t="boolean"==typeof i&&i||"object"==typeof i&&i.capture?`${t}capture`:t,e="function"==typeof e?e:e.handleEvent,this.on(t,e,s)},removeEventListener(t,e,i){const s="function"==typeof e?void 0:e;t="boolean"==typeof i&&i||"object"==typeof i&&i.capture?`${t}capture`:t,e="function"==typeof e?e:e.handleEvent,this.off(t,e,s)},dispatchEvent(t){if(!(t instanceof a.FederatedEvent))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};n.DisplayObject.mixin(h),e.FederatedDisplayObject=h},39564:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(66419);class r extends n.FederatedEvent{constructor(){super(...arguments),this.client=new s.Point,this.movement=new s.Point,this.offset=new s.Point,this.global=new s.Point,this.screen=new s.Point}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,e,i,s,n,r,a,o,h,l,d,u,c,p,m){throw new Error("Method not implemented.")}}e.FederatedMouseEvent=r},67058:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(39564);class n extends s.FederatedMouseEvent{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}e.FederatedPointerEvent=n},23009:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(39564);class n extends s.FederatedMouseEvent{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}n.DOM_DELTA_PIXEL=0,n.DOM_DELTA_LINE=1,n.DOM_DELTA_PAGE=2,e.FederatedWheelEvent=n},79743:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(49099),n=i(38265),r=i(66419);i(2386);var a=i(48575),o=i(39564),h=i(67058),l=i(23009);e.EventBoundary=s.EventBoundary,e.EventSystem=n.EventSystem,e.FederatedEvent=r.FederatedEvent,e.FederatedDisplayObject=a.FederatedDisplayObject,e.FederatedMouseEvent=o.FederatedMouseEvent,e.FederatedPointerEvent=h.FederatedPointerEvent,e.FederatedWheelEvent=l.FederatedWheelEvent},71648:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(i||{});const s=t=>{if("function"==typeof t||"object"==typeof t&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={..."object"!=typeof t.extension?{type:t.extension}:t.extension,ref:t}}if("object"!=typeof t)throw new Error("Invalid extension type");return"string"==typeof(t={...t}).type&&(t.type=[t.type]),t},n=(t,e)=>s(t).priority??e,r={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(s).forEach((t=>{t.type.forEach((e=>this._removeHandlers[e]?.(t)))})),this},add(...t){return t.map(s).forEach((t=>{t.type.forEach((e=>{const i=this._addHandlers,s=this._queue;i[e]?i[e](t):(s[e]=s[e]||[],s[e].push(t))}))})),this},handle(t,e,i){const s=this._addHandlers,n=this._removeHandlers;if(s[t]||n[t])throw new Error(`Extension type ${t} already has a handler`);s[t]=e,n[t]=i;const r=this._queue;return r[t]&&(r[t].forEach((t=>e(t))),delete r[t]),this},handleByMap(t,e){return this.handle(t,(t=>{e[t.name]=t.ref}),(t=>{delete e[t.name]}))},handleByList(t,e,i=-1){return this.handle(t,(t=>{e.includes(t.ref)||(e.push(t.ref),e.sort(((t,e)=>n(e,i)-n(t,i))))}),(t=>{const i=e.indexOf(t.ref);-1!==i&&e.splice(i,1)}))}};e.ExtensionType=i,e.extensions=r},27743:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);const n=new s.Rectangle,r=class{constructor(t){this.renderer=t}async image(t,e,i){const s=new Image;return s.src=await this.base64(t,e,i),s}async base64(t,e,i){const s=this.canvas(t);if(void 0!==s.toBlob)return new Promise(((t,n)=>{s.toBlob((e=>{if(!e)return void n(new Error("ICanvas.toBlob failed!"));const i=new FileReader;i.onload=()=>t(i.result),i.onerror=n,i.readAsDataURL(e)}),e,i)}));if(void 0!==s.toDataURL)return s.toDataURL(e,i);if(void 0!==s.convertToBlob){const t=await s.convertToBlob({type:e,quality:i});return new Promise(((e,i)=>{const s=new FileReader;s.onload=()=>e(s.result),s.onerror=i,s.readAsDataURL(t)}))}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:i,width:n,height:a,flipY:o}=this._rawPixels(t,e);o&&r._flipY(i,n,a),r._unpremultiplyAlpha(i);const h=new s.utils.CanvasRenderTarget(n,a,1),l=new ImageData(new Uint8ClampedArray(i.buffer),n,a);return h.context.putImageData(l,0,0),h.canvas}pixels(t,e){const{pixels:i,width:s,height:n,flipY:a}=this._rawPixels(t,e);return a&&r._flipY(i,s,n),r._unpremultiplyAlpha(i),i}_rawPixels(t,e){const i=this.renderer;if(!i)throw new Error("The Extract has already been destroyed");let r,a,o=!1,h=!1;if(t&&(t instanceof s.RenderTexture?a=t:(a=i.generateTexture(t,{resolution:i.resolution,multisample:i.multisample}),h=!0)),a){if(r=a.baseTexture.resolution,e=e??a.frame,o=!1,!h){i.renderTexture.bind(a);const t=a.framebuffer.glFramebuffers[i.CONTEXT_UID];t.blitFramebuffer&&i.framebuffer.bind(t.blitFramebuffer)}}else r=i.resolution,e||((e=n).width=i.width/r,e.height=i.height/r),o=!0,i.renderTexture.bind();const l=Math.round(e.width*r),d=Math.round(e.height*r),u=new Uint8Array(4*l*d),c=i.gl;return c.readPixels(Math.round(e.x*r),Math.round(e.y*r),l,d,c.RGBA,c.UNSIGNED_BYTE,u),h&&a?.destroy(!0),{pixels:u,width:l,height:d,flipY:o}}destroy(){this.renderer=null}static _flipY(t,e,i){const s=e<<2,n=i>>1,r=new Uint8Array(s);for(let e=0;e<n;e++){const n=e*s,a=(i-e-1)*s;r.set(t.subarray(n,n+s)),t.copyWithin(n,a,a+s),t.set(r,a)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let i=0;i<e;i+=4){const e=t[i+3];if(0!==e){const s=255.001/e;t[i]=t[i]*s+.5,t[i+1]=t[i+1]*s+.5,t[i+2]=t[i+2]*s+.5}}}};let a=r;a.extension={name:"extract",type:s.ExtensionType.RendererSystem},s.extensions.add(a),e.Extract=a},46899:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(27743);e.Extract=s.Extract},22778:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(29469);class r extends s.Filter{constructor(t=1){super(s.defaultVertex,n.default,{uAlpha:1}),this.alpha=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}e.AlphaFilter=r},29469:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"},30370:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(22778);e.AlphaFilter=s.AlphaFilter},76536:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(25339);class r extends s.Filter{constructor(t=8,e=4,i=s.Filter.defaultResolution,r=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new n.BlurFilterPass(!0,t,e,i,r),this.blurYFilter=new n.BlurFilterPass(!1,t,e,i,r),this.resolution=i,this.quality=e,this.blur=t,this.repeatEdgePixels=!1}apply(t,e,i,n){const r=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(r&&a){const r=t.getFilterTexture();this.blurXFilter.apply(t,e,r,s.CLEAR_MODES.CLEAR),this.blurYFilter.apply(t,r,i,n),t.returnFilterTexture(r)}else a?this.blurYFilter.apply(t,e,i,n):this.blurXFilter.apply(t,e,i,n)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blur(){return this.blurXFilter.blur}set blur(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get blurX(){return this.blurXFilter.blur}set blurX(t){this.blurXFilter.blur=t,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(t){this.blurYFilter.blur=t,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(t){this.blurYFilter.blendMode=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}}e.BlurFilter=r},25339:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(91786),r=i(90399);class a extends s.Filter{constructor(t,e=8,i=4,a=s.Filter.defaultResolution,o=5){super(r.generateBlurVertSource(o,t),n.generateBlurFragSource(o)),this.horizontal=t,this.resolution=a,this._quality=0,this.quality=i,this.blur=e}apply(t,e,i,n){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/e.width):this.uniforms.strength=1/i.height*(i.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,n);else{const r=t.getFilterTexture(),a=t.renderer;let o=e,h=r;this.state.blend=!1,t.applyFilter(this,o,h,s.CLEAR_MODES.CLEAR);for(let e=1;e<this.passes-1;e++){t.bindAndClear(o,s.CLEAR_MODES.BLIT),this.uniforms.uSampler=h;const e=h;h=o,o=e,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,h,i,n),t.returnFilterTexture(r)}}get blur(){return this.strength}set blur(t){this.padding=1+2*Math.abs(t),this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}}e.BlurFilterPass=a},91786:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},s=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");e.generateBlurFragSource=function(t){const e=i[t],n=e.length;let r,a=s,o="";for(let i=0;i<t;i++){let s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",i.toString());r=i,i>=n&&(r=t-i-1),s=s.replace("%value%",e[r].toString()),o+=s,o+="\n"}return a=a.replace("%blur%",o),a=a.replace("%size%",t.toString()),a}},90399:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.generateBlurVertSource=function(t,e){const i=Math.ceil(t/2);let s,n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",r="";s=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let e=0;e<t;e++){let t=s.replace("%index%",e.toString());t=t.replace("%sampleIndex%",e-(i-1)+".0"),r+=t,r+="\n"}return n=n.replace("%blur%",r),n=n.replace("%size%",t.toString()),n}},23410:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(76536),n=i(25339);e.BlurFilter=s.BlurFilter,e.BlurFilterPass=n.BlurFilterPass},64578:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(83419);class r extends s.Filter{constructor(){const t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(s.defaultFilterVertex,n.default,t),this.alpha=1}_loadMatrix(t,e=!1){let i=t;e&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i}_multiply(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t}_colorMatrix(t){const e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e}brightness(t,e){const i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)}tint(t,e){const[i,n,r]=s.Color.shared.setValue(t).toArray(),a=[i,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(a,e)}greyscale(t,e){const i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)}blackAndWhite(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)}hue(t,e){t=(t||0)/180*Math.PI;const i=Math.cos(t),s=Math.sin(t),n=1/3,r=(0,Math.sqrt)(n),a=[i+(1-i)*n,n*(1-i)-r*s,n*(1-i)+r*s,0,0,n*(1-i)+r*s,i+n*(1-i),n*(1-i)-r*s,0,0,n*(1-i)-r*s,n*(1-i)+r*s,i+n*(1-i),0,0,0,0,0,1,0];this._loadMatrix(a,e)}contrast(t,e){const i=(t||0)+1,s=-.5*(i-1),n=[i,0,0,0,s,0,i,0,0,s,0,0,i,0,s,0,0,0,1,0];this._loadMatrix(n,e)}saturate(t=0,e){const i=2*t/3+1,s=-.5*(i-1),n=[i,s,s,0,0,s,i,s,0,0,s,s,i,0,0,0,0,0,1,0];this._loadMatrix(n,e)}desaturate(){this.saturate(-1)}negative(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)}sepia(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)}technicolor(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)}polaroid(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)}toBGR(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)}kodachrome(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)}browni(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)}vintage(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)}colorTone(t,e,i,n,r){t=t||.2,e=e||.15,i=i||16770432,n=n||3375104;const a=s.Color.shared,[o,h,l]=a.setValue(i).toArray(),[d,u,c]=a.setValue(n).toArray(),p=[.3,.59,.11,0,0,o,h,l,t,0,d,u,c,e,0,o-d,h-u,l-c,0,0];this._loadMatrix(p,r)}night(t,e){const i=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(i,e)}predator(t,e){const i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,e)}lsd(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(t){this.uniforms.m=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}r.prototype.grayscale=r.prototype.greyscale,e.ColorMatrixFilter=r},83419:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"},4920:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(64578);e.ColorMatrixFilter=s.ColorMatrixFilter},51538:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(16175),r=i(28962);class a extends s.Filter{constructor(t,e){const i=new s.Matrix;t.renderable=!1,super(r.default,n.default,{mapSampler:t._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=t,this.maskMatrix=i,null==e&&(e=20),this.scale=new s.Point(e,e)}apply(t,e,i,s){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const n=this.maskSprite.worldTransform,r=Math.sqrt(n.a*n.a+n.b*n.b),a=Math.sqrt(n.c*n.c+n.d*n.d);0!==r&&0!==a&&(this.uniforms.rotation[0]=n.a/r,this.uniforms.rotation[1]=n.b/r,this.uniforms.rotation[2]=n.c/a,this.uniforms.rotation[3]=n.d/a),t.applyFilter(this,e,i,s)}get map(){return this.uniforms.mapSampler}set map(t){this.uniforms.mapSampler=t}}e.DisplacementFilter=a},16175:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n"},28962:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n"},31203:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(51538);e.DisplacementFilter=s.DisplacementFilter},86517:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(9860),r=i(97607);class a extends s.Filter{constructor(){super(r.default,n.default)}}e.FXAAFilter=a},9860:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'},97607:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n"},86194:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(86517);e.FXAAFilter=s.FXAAFilter},70463:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(55239);class r extends s.Filter{constructor(t=.5,e=Math.random()){super(s.defaultFilterVertex,n.default,{uNoise:0,uSeed:0}),this.noise=t,this.seed=e}get noise(){return this.uniforms.uNoise}set noise(t){this.uniforms.uNoise=t}get seed(){return this.uniforms.uSeed}set seed(t){this.uniforms.uSeed=t}}e.NoiseFilter=r},38116:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(70463);e.NoiseFilter=s.NoiseFilter},55239:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"},16028:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(27191),r=i(96335),a=i(62268),o=i(24624),h=i(90681);i(36125);var l=i(28746),d=i(33910),u=i(30672);const c={},p=class extends n.Container{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new o.FillStyle,this._lineStyle=new h.LineStyle,this._matrix=null,this._holeMode=!1,this.state=s.State.for2d(),this._geometry=t||new a.GraphicsGeometry,this._geometry.refCount++,this._transformID=-1,this._tintColor=new s.Color(16777215),this.blendMode=s.BLEND_MODES.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new p(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,i,s=.5,n=!1){return"number"==typeof t&&(t={width:t,color:e,alpha:i,alignment:s,native:n}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:s.Texture.WHITE,color:t?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:r.LINE_CAP.BUTT,join:r.LINE_JOIN.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const i=t.width>0&&t.alpha>0;return i?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:i},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new s.Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new s.Polygon,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const i=this.currentPath.points,s=i[i.length-2],n=i[i.length-1];return s===t&&n===e||i.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,i,s){this._initCurve();const n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),l.QuadraticUtils.curveTo(t,e,i,s,n),this}bezierCurveTo(t,e,i,s,n,r){return this._initCurve(),d.BezierUtils.curveTo(t,e,i,s,n,r,this.currentPath.points),this}arcTo(t,e,i,s,n){this._initCurve(t,e);const r=this.currentPath.points,a=u.ArcUtils.curveTo(t,e,i,s,n,r);if(a){const{cx:t,cy:e,radius:i,startAngle:s,endAngle:n,anticlockwise:r}=a;this.arc(t,e,i,s,n,r)}return this}arc(t,e,i,n,r,a=!1){if(n===r)return this;!a&&r<=n?r+=s.PI_2:a&&n<=r&&(n+=s.PI_2);if(0===r-n)return this;const o=t+Math.cos(n)*i,h=e+Math.sin(n)*i,l=this._geometry.closePointEps;let d=this.currentPath?this.currentPath.points:null;if(d){const t=Math.abs(d[d.length-2]-o),e=Math.abs(d[d.length-1]-h);t<l&&e<l||d.push(o,h)}else this.moveTo(o,h),d=this.currentPath.points;return u.ArcUtils.arc(o,h,t,e,i,n,r,a,d),this}beginFill(t=0,e){return this.beginTextureFill({texture:s.Texture.WHITE,color:t,alpha:e})}normalizeColor(t){const e=s.Color.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:s.Texture.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const i=t.alpha>0;return i?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:i},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,i,n){return this.drawShape(new s.Rectangle(t,e,i,n))}drawRoundedRect(t,e,i,n,r){return this.drawShape(new s.RoundedRectangle(t,e,i,n,r))}drawCircle(t,e,i){return this.drawShape(new s.Circle(t,e,i))}drawEllipse(t,e,i,n){return this.drawShape(new s.Ellipse(t,e,i,n))}drawPolygon(...t){let e,i=!0;const n=t[0];n.points?(i=n.closeStroke,e=n.points):e=Array.isArray(t[0])?t[0]:t;const r=new s.Polygon(e);return r.closeStroke=i,this.drawShape(r),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return!(1!==t.length||t[0].shape.type!==s.SHAPES.RECT||t[0].matrix||t[0].holes.length||t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,i=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(t.points);for(let n=0;n<i;n++){const i=t.batches[n],r=i.style.color,a=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),o=new Float32Array(t.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),h={vertexData:a,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*i.start,i.size),uvs:o,_batchRGB:s.Color.shared.setValue(r).toRgbArray(),_tintRGB:r,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=h}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,i=this.batches.length;e<i;e++){const i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}}_renderDirect(t){const e=this._resolveDirectShader(t),i=this._geometry,n=this.worldAlpha,r=e.uniforms,a=i.drawCalls;r.translationMatrix=this.transform.worldTransform,s.Color.shared.setValue(this._tintColor).premultiply(n).toArray(r.tint),t.shader.bind(e),t.geometry.bind(i,e),t.state.set(this.state);for(let e=0,s=a.length;e<s;e++)this._renderDrawCallDirect(t,i.drawCalls[e])}_renderDrawCallDirect(t,e){const{texArray:i,type:s,size:n,start:r}=e,a=i.count;for(let e=0;e<a;e++)t.texture.bind(i.elements[e],e);t.geometry.draw(s,n,r)}_resolveDirectShader(t){let e=this.shader;const i=this.pluginName;if(!e){if(!c[i]){const{maxTextures:e}=t.plugins[i],n=new Int32Array(e);for(let t=0;t<e;t++)n[t]=t;const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new s.Matrix,default:s.UniformGroup.from({uSamplers:n},!0)},a=t.plugins[i]._shader.program;c[i]=new s.Shader(a,r)}e=c[i]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:i,maxX:s,maxY:n}=t.bounds;this._bounds.addFrame(this.transform,e,i,s,n)}containsPoint(t){return this.worldTransform.applyInverse(t,p._TEMP_POINT),this._geometry.containsPoint(p._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=s.Color.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,i=e.a,s=e.b,n=e.c,r=e.d,a=e.tx,o=e.ty,h=this._geometry.points,l=this.vertexData;let d=0;for(let t=0;t<h.length;t+=2){const e=h[t],u=h[t+1];l[d++]=i*e+n*u+a,l[d++]=r*u+s*e+o}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let m=p;m.curves=r.curves,m._TEMP_POINT=new s.Point,e.Graphics=m},69189:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t,e=null,i=null,s=null){this.points=[],this.holes=[],this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=s,this.type=t.type}clone(){return new i(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}e.GraphicsData=i},62268:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(27191),r=i(69189),a=i(36125),o=i(60881),h=i(89938),l=i(35615);const d=new s.Point,u=class extends s.BatchGeometry{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new n.Bounds,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),a.DRAW_CALL_POOL.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),a.BATCH_POOL.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,i=null,s=null){const n=new r.GraphicsData(t,e,i,s);return this.graphicsData.push(n),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const i=new r.GraphicsData(t,null,null,e),s=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=s.lineStyle,s.holes.push(i),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let i=0;i<e.length;++i){const s=e[i];if(s.fillStyle.visible&&(s.shape&&(s.matrix?s.matrix.applyInverse(t,d):d.copyFrom(t),s.shape.contains(d.x,d.y)))){let t=!1;if(s.holes)for(let e=0;e<s.holes.length;e++){if(s.holes[e].shape.contains(d.x,d.y)){t=!0;break}}if(!t)return!0}}return!1}updateBatches(){if(!this.graphicsData.length)return void(this.batchable=!0);if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let i=null,n=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],n=i.style);for(let r=this.shapeIndex;r<e.length;r++){this.shapeIndex++;const h=e[r],l=h.fillStyle,d=h.lineStyle;a.FILL_COMMANDS[h.type].build(h),h.matrix&&this.transformPoints(h.points,h.matrix),(l.visible||d.visible)&&this.processHoles(h.holes);for(let e=0;e<2;e++){const r=0===e?l:d;if(!r.visible)continue;const u=r.texture.baseTexture,c=this.indices.length,p=this.points.length/2;u.wrapMode=s.WRAP_MODES.REPEAT,0===e?this.processFill(h):this.processLine(h);const m=this.points.length/2-p;0!==m&&(i&&!this._compareStyles(n,r)&&(i.end(c,p),i=null),i||(i=a.BATCH_POOL.pop()||new o.BatchPart,i.begin(r,c,p),this.batches.push(i),n=r),this.addUvs(this.points,t,r.texture,p,m,r.matrix))}}const r=this.indices.length,h=this.points.length/2;if(i&&i.end(r,h),0===this.batches.length)return void(this.batchable=!0);const l=h>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&l===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=l?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const e=this.graphicsData[t],i=e.fillStyle,s=e.lineStyle;if(i&&!i.texture.baseTexture.valid)return!1;if(s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,i=t.length;e<i;e++){const i=t[e];for(let t=0;t<i.size;t++){const e=i.start+t;this.indicesUint16[e]=this.indicesUint16[e]-i.attribStart}}}isBatchable(){if(this.points.length>131070)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*u.BATCHABLE_SIZE}buildDrawCalls(){let t=++s.BaseTexture._globalBatch;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),a.DRAW_CALL_POOL.push(this.drawCalls[t]);this.drawCalls.length=0;const e=this.colors,i=this.textureIds;let n=a.DRAW_CALL_POOL.pop();n||(n=new s.BatchDrawCall,n.texArray=new s.BatchTextureArray),n.texArray.count=0,n.start=0,n.size=0,n.type=s.DRAW_MODES.TRIANGLES;let r=0,o=null,h=0,l=!1,d=s.DRAW_MODES.TRIANGLES,u=0;this.drawCalls.push(n);for(let c=0;c<this.batches.length;c++){const p=this.batches[c],m=8,f=p.style,g=f.texture.baseTexture;l!==!!f.native&&(l=!!f.native,d=l?s.DRAW_MODES.LINES:s.DRAW_MODES.TRIANGLES,o=null,r=m,t++),o!==g&&(o=g,g._batchEnabled!==t&&(r===m&&(t++,r=0,n.size>0&&(n=a.DRAW_CALL_POOL.pop(),n||(n=new s.BatchDrawCall,n.texArray=new s.BatchTextureArray),this.drawCalls.push(n)),n.start=u,n.size=0,n.texArray.count=0,n.type=d),g.touched=1,g._batchEnabled=t,g._batchLocation=r,g.wrapMode=s.WRAP_MODES.REPEAT,n.texArray.elements[n.texArray.count++]=g,r++)),n.size+=p.size,u+=p.size,h=g._batchLocation,this.addColors(e,f.color,f.alpha,p.attribSize,p.attribStart),this.addTextureIds(i,h,p.attribSize,p.attribStart)}s.BaseTexture._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,i=this.colors,s=this.textureIds,n=new ArrayBuffer(3*t.length*4),r=new Float32Array(n),a=new Uint32Array(n);let o=0;for(let n=0;n<t.length/2;n++)r[o++]=t[2*n],r[o++]=t[2*n+1],r[o++]=e[2*n],r[o++]=e[2*n+1],a[o++]=i[n],r[o++]=s[n];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)}processFill(t){if(t.holes.length)h.buildPoly.triangulate(t,this);else{a.FILL_COMMANDS[t.type].triangulate(t,this)}}processLine(t){l.buildLine(t,this);for(let e=0;e<t.holes.length;e++)l.buildLine(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const i=t[e];a.FILL_COMMANDS[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let i=0;i<t.length/2;i++){const s=t[2*i],n=t[2*i+1];t[2*i]=e.a*s+e.c*n+e.tx,t[2*i+1]=e.b*s+e.d*n+e.ty}}addColors(t,e,i,n,r=0){const a=s.Color.shared.setValue(e).toLittleEndianNumber(),o=s.Color.shared.setValue(a).toPremultiplied(i);t.length=Math.max(t.length,r+n);for(let e=0;e<n;e++)t[r+e]=o}addTextureIds(t,e,i,s=0){t.length=Math.max(t.length,s+i);for(let n=0;n<i;n++)t[s+n]=e}addUvs(t,e,i,s,n,r=null){let a=0;const o=e.length,h=i.frame;for(;a<n;){let i=t[2*(s+a)],n=t[2*(s+a)+1];if(r){const t=r.a*i+r.c*n+r.tx;n=r.b*i+r.d*n+r.ty,i=t}a++,e.push(i/h.width,n/h.height)}const l=i.baseTexture;(h.width<l.width||h.height<l.height)&&this.adjustUvs(e,i,o,n)}adjustUvs(t,e,i,s){const n=e.baseTexture,r=1e-6,a=i+2*s,o=e.frame,h=o.width/n.width,l=o.height/n.height;let d=o.x/o.width,u=o.y/o.height,c=Math.floor(t[i]+r),p=Math.floor(t[i+1]+r);for(let e=i+2;e<a;e+=2)c=Math.min(c,Math.floor(t[e]+r)),p=Math.min(p,Math.floor(t[e+1]+r));d-=c,u-=p;for(let e=i;e<a;e+=2)t[e]=(t[e]+d)*h,t[e+1]=(t[e+1]+u)*l}};let c=u;c.BATCHABLE_SIZE=100,e.GraphicsGeometry=c},96335:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(i||{}),s=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(s||{});const n={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let i=Math.ceil(t/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}},r=n;e.GRAPHICS_CURVES=r,e.LINE_CAP=s,e.LINE_JOIN=i,e.curves=n},59296:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(36125),n=i(96335),r=i(16028),a=i(69189),o=i(62268),h=i(24624),l=i(90681),d=i(89938),u=i(60703),c=i(12285),p=i(93447),m=i(35615),f=i(30672),g=i(33910),y=i(28746),x=i(60881);const _={buildPoly:d.buildPoly,buildCircle:u.buildCircle,buildRectangle:c.buildRectangle,buildRoundedRectangle:p.buildRoundedRectangle,buildLine:m.buildLine,ArcUtils:f.ArcUtils,BezierUtils:g.BezierUtils,QuadraticUtils:y.QuadraticUtils,BatchPart:x.BatchPart,FILL_COMMANDS:s.FILL_COMMANDS,BATCH_POOL:s.BATCH_POOL,DRAW_CALL_POOL:s.DRAW_CALL_POOL};e.GRAPHICS_CURVES=n.GRAPHICS_CURVES,e.LINE_CAP=n.LINE_CAP,e.LINE_JOIN=n.LINE_JOIN,e.curves=n.curves,e.Graphics=r.Graphics,e.GraphicsData=a.GraphicsData,e.GraphicsGeometry=o.GraphicsGeometry,e.FillStyle=h.FillStyle,e.LineStyle=l.LineStyle,e.graphicsUtils=_},24624:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);class n{constructor(){this.color=16777215,this.alpha=1,this.texture=s.Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const t=new n;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}reset(){this.color=16777215,this.alpha=1,this.texture=s.Texture.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}e.FillStyle=n},90681:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(96335),n=i(24624);class r extends n.FillStyle{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=s.LINE_CAP.BUTT,this.join=s.LINE_JOIN.MITER,this.miterLimit=10}clone(){const t=new r;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}e.LineStyle=r},30672:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(96335);e.ArcUtils=class{static curveTo(t,e,i,s,n,r){const a=r[r.length-2],o=r[r.length-1]-e,h=a-t,l=s-e,d=i-t,u=Math.abs(o*d-h*l);if(u<1e-8||0===n)return r[r.length-2]===t&&r[r.length-1]===e||r.push(t,e),null;const c=o*o+h*h,p=l*l+d*d,m=o*l+h*d,f=n*Math.sqrt(c)/u,g=n*Math.sqrt(p)/u,y=f*m/c,x=g*m/p,_=f*d+g*h,b=f*l+g*o,v=h*(g+y),S=o*(g+y),T=d*(f+x),w=l*(f+x);return{cx:_+t,cy:b+e,radius:n,startAngle:Math.atan2(S-b,v-_),endAngle:Math.atan2(w-b,T-_),anticlockwise:h*l>d*o}}static arc(t,e,i,r,a,o,h,l,d){const u=h-o,c=n.curves._segmentsCount(Math.abs(u)*a,40*Math.ceil(Math.abs(u)/s.PI_2)),p=u/(2*c),m=2*p,f=Math.cos(p),g=Math.sin(p),y=c-1,x=y%1/y;for(let t=0;t<=y;++t){const e=p+o+m*(t+x*t),s=Math.cos(e),n=-Math.sin(e);d.push((f*s+g*n)*a+i,(f*-n+g*s)*a+r)}}}},60881:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.BatchPart=class{constructor(){this.reset()}begin(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i}end(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}},33910:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(96335);class n{static curveLength(t,e,i,s,n,r,a,o){let h=0,l=0,d=0,u=0,c=0,p=0,m=0,f=0,g=0,y=0,x=0,_=t,b=e;for(let v=1;v<=10;++v)l=v/10,d=l*l,u=d*l,c=1-l,p=c*c,m=p*c,f=m*t+3*p*l*i+3*c*d*n+u*a,g=m*e+3*p*l*s+3*c*d*r+u*o,y=_-f,x=b-g,_=f,b=g,h+=Math.sqrt(y*y+x*x);return h}static curveTo(t,e,i,r,a,o,h){const l=h[h.length-2],d=h[h.length-1];h.length-=2;const u=s.curves._segmentsCount(n.curveLength(l,d,t,e,i,r,a,o));let c=0,p=0,m=0,f=0,g=0;h.push(l,d);for(let s=1,n=0;s<=u;++s)n=s/u,c=1-n,p=c*c,m=p*c,f=n*n,g=f*n,h.push(m*l+3*p*n*t+3*c*f*i+g*a,m*d+3*p*n*e+3*c*f*r+g*o)}}e.BezierUtils=n},28746:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(96335);class n{static curveLength(t,e,i,s,n,r){const a=t-2*i+n,o=e-2*s+r,h=2*i-2*t,l=2*s-2*e,d=4*(a*a+o*o),u=4*(a*h+o*l),c=h*h+l*l,p=2*Math.sqrt(d+u+c),m=Math.sqrt(d),f=2*d*m,g=2*Math.sqrt(c),y=u/m;return(f*p+m*u*(p-g)+(4*c*d-u*u)*Math.log((2*m+y+p)/(y+g)))/(4*f)}static curveTo(t,e,i,r,a){const o=a[a.length-2],h=a[a.length-1],l=s.curves._segmentsCount(n.curveLength(o,h,t,e,i,r));let d=0,u=0;for(let s=1;s<=l;++s){const n=s/l;d=o+(t-o)*n,u=h+(e-h)*n,a.push(d+(t+(i-t)*n-d)*n,u+(e+(r-e)*n-u)*n)}}}e.QuadraticUtils=n},60703:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);const n={build(t){const e=t.points;let i,n,r,a,o,h;if(t.type===s.SHAPES.CIRC){const e=t.shape;i=e.x,n=e.y,o=h=e.radius,r=a=0}else if(t.type===s.SHAPES.ELIP){const e=t.shape;i=e.x,n=e.y,o=e.width,h=e.height,r=a=0}else{const e=t.shape,s=e.width/2,l=e.height/2;i=e.x+s,n=e.y+l,o=h=Math.max(0,Math.min(e.radius,Math.min(s,l))),r=s-o,a=l-h}if(!(o>=0&&h>=0&&r>=0&&a>=0))return void(e.length=0);const l=Math.ceil(2.3*Math.sqrt(o+h)),d=8*l+(r?4:0)+(a?4:0);if(e.length=d,0===d)return;if(0===l)return e.length=8,e[0]=e[6]=i+r,e[1]=e[3]=n+a,e[2]=e[4]=i-r,void(e[5]=e[7]=n-a);let u=0,c=4*l+(r?2:0)+2,p=c,m=d;{const t=r+o,s=a,h=i+t,l=i-t,d=n+s;if(e[u++]=h,e[u++]=d,e[--c]=d,e[--c]=l,a){const t=n-s;e[p++]=l,e[p++]=t,e[--m]=t,e[--m]=h}}for(let t=1;t<l;t++){const s=Math.PI/2*(t/l),d=r+Math.cos(s)*o,f=a+Math.sin(s)*h,g=i+d,y=i-d,x=n+f,_=n-f;e[u++]=g,e[u++]=x,e[--c]=x,e[--c]=y,e[p++]=y,e[p++]=_,e[--m]=_,e[--m]=g}{const t=a+h,s=i+r,o=i-r,l=n+t,d=n-t;e[u++]=s,e[u++]=l,e[--m]=d,e[--m]=s,r&&(e[u++]=o,e[u++]=l,e[--m]=d,e[--m]=o)}},triangulate(t,e){const i=t.points,n=e.points,r=e.indices;if(0===i.length)return;let a=n.length/2;const o=a;let h,l;if(t.type!==s.SHAPES.RREC){const e=t.shape;h=e.x,l=e.y}else{const e=t.shape;h=e.x+e.width/2,l=e.y+e.height/2}const d=t.matrix;n.push(t.matrix?d.a*h+d.c*l+d.tx:h,t.matrix?d.b*h+d.d*l+d.ty:l),a++,n.push(i[0],i[1]);for(let t=2;t<i.length;t+=2)n.push(i[t],i[t+1]),r.push(a++,o,a);r.push(o+1,o,a)}};e.buildCircle=n},35615:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(96335);function r(t,e,i,s,n,r,a,o){let h,l;a?(h=s,l=-i):(h=-s,l=i);const d=t-i*n+h,u=e-s*n+l,c=t+i*r+h,p=e+s*r+l;return o.push(d,u,c,p),2}function a(t,e,i,s,n,r,a,o){const h=i-t,l=s-e;let d=Math.atan2(h,l),u=Math.atan2(n-t,r-e);o&&d<u?d+=2*Math.PI:!o&&d>u&&(u+=2*Math.PI);let c=d;const p=u-d,m=Math.abs(p),f=Math.sqrt(h*h+l*l),g=1+(15*m*Math.sqrt(f)/Math.PI>>0),y=p/g;if(c+=y,o){a.push(t,e,i,s);for(let i=1,s=c;i<g;i++,s+=y)a.push(t,e,t+Math.sin(s)*f,e+Math.cos(s)*f);a.push(t,e,n,r)}else{a.push(i,s,t,e);for(let i=1,s=c;i<g;i++,s+=y)a.push(t+Math.sin(s)*f,e+Math.cos(s)*f,t,e);a.push(n,r,t,e)}return 2*g}e.buildLine=function(t,e){t.lineStyle.native?function(t,e){let i=0;const n=t.shape,r=t.points||n.points,a=n.type!==s.SHAPES.POLY||n.closeStroke;if(0===r.length)return;const o=e.points,h=e.indices,l=r.length/2,d=o.length/2;let u=d;for(o.push(r[0],r[1]),i=1;i<l;i++)o.push(r[2*i],r[2*i+1]),h.push(u,u+1),u++;a&&h.push(u,d)}(t,e):function(t,e){const i=t.shape;let o=t.points||i.points.slice();const h=e.closePointEps;if(0===o.length)return;const l=t.lineStyle,d=new s.Point(o[0],o[1]),u=new s.Point(o[o.length-2],o[o.length-1]),c=i.type!==s.SHAPES.POLY||i.closeStroke,p=Math.abs(d.x-u.x)<h&&Math.abs(d.y-u.y)<h;if(c){o=o.slice(),p&&(o.pop(),o.pop(),u.set(o[o.length-2],o[o.length-1]));const t=.5*(d.x+u.x),e=.5*(u.y+d.y);o.unshift(t,e),o.push(t,e)}const m=e.points,f=o.length/2;let g=o.length;const y=m.length/2,x=l.width/2,_=x*x,b=l.miterLimit*l.miterLimit;let v=o[0],S=o[1],T=o[2],w=o[3],E=0,C=0,A=-(S-w),M=v-T,P=0,B=0,R=Math.sqrt(A*A+M*M);A/=R,M/=R,A*=x,M*=x;const I=l.alignment,k=2*(1-I),O=2*I;c||(l.cap===n.LINE_CAP.ROUND?g+=a(v-A*(k-O)*.5,S-M*(k-O)*.5,v-A*k,S-M*k,v+A*O,S+M*O,m,!0)+2:l.cap===n.LINE_CAP.SQUARE&&(g+=r(v,S,A,M,k,O,!0,m))),m.push(v-A*k,S-M*k,v+A*O,S+M*O);for(let t=1;t<f-1;++t){v=o[2*(t-1)],S=o[2*(t-1)+1],T=o[2*t],w=o[2*t+1],E=o[2*(t+1)],C=o[2*(t+1)+1],A=-(S-w),M=v-T,R=Math.sqrt(A*A+M*M),A/=R,M/=R,A*=x,M*=x,P=-(w-C),B=T-E,R=Math.sqrt(P*P+B*B),P/=R,B/=R,P*=x,B*=x;const e=T-v,i=S-w,s=T-E,r=C-w,h=e*s+i*r,d=i*s-r*e,u=d<0;if(Math.abs(d)<.001*Math.abs(h)){m.push(T-A*k,w-M*k,T+A*O,w+M*O),h>=0&&(l.join===n.LINE_JOIN.ROUND?g+=a(T,w,T-A*k,w-M*k,T-P*k,w-B*k,m,!1)+4:g+=2,m.push(T-P*O,w-B*O,T+P*k,w+B*k));continue}const c=(-A+v)*(-M+w)-(-A+T)*(-M+S),p=(-P+E)*(-B+w)-(-P+T)*(-B+C),f=(e*p-s*c)/d,y=(r*c-i*p)/d,I=(f-T)*(f-T)+(y-w)*(y-w),D=T+(f-T)*k,F=w+(y-w)*k,L=T-(f-T)*O,N=w-(y-w)*O,U=u?k:O,G=I<=Math.min(e*e+i*i,s*s+r*r)+U*U*_;let V=l.join;if(V===n.LINE_JOIN.MITER&&I/_>b&&(V=n.LINE_JOIN.BEVEL),G)switch(V){case n.LINE_JOIN.MITER:m.push(D,F,L,N);break;case n.LINE_JOIN.BEVEL:u?m.push(D,F,T+A*O,w+M*O,D,F,T+P*O,w+B*O):m.push(T-A*k,w-M*k,L,N,T-P*k,w-B*k,L,N),g+=2;break;case n.LINE_JOIN.ROUND:u?(m.push(D,F,T+A*O,w+M*O),g+=a(T,w,T+A*O,w+M*O,T+P*O,w+B*O,m,!0)+4,m.push(D,F,T+P*O,w+B*O)):(m.push(T-A*k,w-M*k,L,N),g+=a(T,w,T-A*k,w-M*k,T-P*k,w-B*k,m,!1)+4,m.push(T-P*k,w-B*k,L,N))}else{switch(m.push(T-A*k,w-M*k,T+A*O,w+M*O),V){case n.LINE_JOIN.MITER:u?m.push(L,N,L,N):m.push(D,F,D,F),g+=2;break;case n.LINE_JOIN.ROUND:g+=u?a(T,w,T+A*O,w+M*O,T+P*O,w+B*O,m,!0)+2:a(T,w,T-A*k,w-M*k,T-P*k,w-B*k,m,!1)+2}m.push(T-P*k,w-B*k,T+P*O,w+B*O),g+=2}}v=o[2*(f-2)],S=o[2*(f-2)+1],T=o[2*(f-1)],w=o[2*(f-1)+1],A=-(S-w),M=v-T,R=Math.sqrt(A*A+M*M),A/=R,M/=R,A*=x,M*=x,m.push(T-A*k,w-M*k,T+A*O,w+M*O),c||(l.cap===n.LINE_CAP.ROUND?g+=a(T-A*(k-O)*.5,w-M*(k-O)*.5,T-A*k,w-M*k,T+A*O,w+M*O,m,!1)+2:l.cap===n.LINE_CAP.SQUARE&&(g+=r(T,w,A,M,k,O,!1,m)));const D=e.indices,F=n.curves.epsilon*n.curves.epsilon;for(let t=y;t<g+y-2;++t)v=m[2*t],S=m[2*t+1],T=m[2*(t+1)],w=m[2*(t+1)+1],E=m[2*(t+2)],C=m[2*(t+2)+1],Math.abs(v*(w-C)+T*(C-S)+E*(S-w))<F||D.push(t,t+1,t+2)}(t,e)}},89938:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);function n(t,e=!1){const i=t.length;if(i<6)return;let s=0;for(let e=0,n=t[i-2],r=t[i-1];e<i;e+=2){const i=t[e],a=t[e+1];s+=(i-n)*(a+r),n=i,r=a}if(!e&&s>0||e&&s<=0){const e=i/2;for(let s=e+e%2;s<i;s+=2){const e=i-s-2,n=i-s-1,r=s,a=s+1;[t[e],t[r]]=[t[r],t[e]],[t[n],t[a]]=[t[a],t[n]]}}}const r={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let i=t.points;const r=t.holes,a=e.points,o=e.indices;if(i.length>=6){n(i,!1);const t=[];for(let e=0;e<r.length;e++){const s=r[e];n(s.points,!0),t.push(i.length/2),i=i.concat(s.points)}const e=s.utils.earcut(i,t,2);if(!e)return;const h=a.length/2;for(let t=0;t<e.length;t+=3)o.push(e[t]+h),o.push(e[t+1]+h),o.push(e[t+2]+h);for(let t=0;t<i.length;t++)a.push(i[t])}}};e.buildPoly=r},12285:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i={build(t){const e=t.shape,i=e.x,s=e.y,n=e.width,r=e.height,a=t.points;a.length=0,n>=0&&r>=0&&a.push(i,s,i+n,s,i+n,s+r,i,s+r)},triangulate(t,e){const i=t.points,s=e.points;if(0===i.length)return;const n=s.length/2;s.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}};e.buildRectangle=i},93447:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(60703);const n={build(t){s.buildCircle.build(t)},triangulate(t,e){s.buildCircle.triangulate(t,e)}};e.buildRoundedRectangle=n},36125:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(60703),r=i(89938),a=i(12285),o=i(93447),h=i(30672),l=i(60881),d=i(33910),u=i(35615),c=i(28746);const p={[s.SHAPES.POLY]:r.buildPoly,[s.SHAPES.CIRC]:n.buildCircle,[s.SHAPES.ELIP]:n.buildCircle,[s.SHAPES.RECT]:a.buildRectangle,[s.SHAPES.RREC]:o.buildRoundedRectangle};e.buildCircle=n.buildCircle,e.buildPoly=r.buildPoly,e.buildRectangle=a.buildRectangle,e.buildRoundedRectangle=o.buildRoundedRectangle,e.ArcUtils=h.ArcUtils,e.BatchPart=l.BatchPart,e.BezierUtils=d.BezierUtils,e.buildLine=u.buildLine,e.QuadraticUtils=c.QuadraticUtils,e.BATCH_POOL=[],e.DRAW_CALL_POOL=[],e.FILL_COMMANDS=p},1759:()=>{},93187:()=>{},89663:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71965),n=i(18884);class r{constructor(t=1,e=0,i=0,s=1,n=0,r=0){this.array=null,this.a=t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=r}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,i,s,n,r){return this.a=t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=r,this}toArray(t,e){this.array||(this.array=new Float32Array(9));const i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(t,e){e=e||new n.Point;const i=t.x,s=t.y;return e.x=this.a*i+this.c*s+this.tx,e.y=this.b*i+this.d*s+this.ty,e}applyInverse(t,e){e=e||new n.Point;const i=1/(this.a*this.d+this.c*-this.b),s=t.x,r=t.y;return e.x=this.d*i*s+-this.c*i*r+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*r+-this.b*i*s+(-this.ty*this.a+this.tx*this.b)*i,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){const e=Math.cos(t),i=Math.sin(t),s=this.a,n=this.c,r=this.tx;return this.a=s*e-this.b*i,this.b=s*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=r*e-this.ty*i,this.ty=r*i+this.ty*e,this}append(t){const e=this.a,i=this.b,s=this.c,n=this.d;return this.a=t.a*e+t.b*s,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*s,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*s+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this}setTransform(t,e,i,s,n,r,a,o,h){return this.a=Math.cos(a+h)*n,this.b=Math.sin(a+h)*n,this.c=-Math.sin(a-o)*r,this.d=Math.cos(a-o)*r,this.tx=t-(i*this.a+s*this.c),this.ty=e-(i*this.b+s*this.d),this}prepend(t){const e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){const e=this.a,i=this.c;this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){const e=this.a,i=this.b,n=this.c,r=this.d,a=t.pivot,o=-Math.atan2(-n,r),h=Math.atan2(i,e),l=Math.abs(o+h);return l<1e-5||Math.abs(s.PI_2-l)<1e-5?(t.rotation=h,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=h),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(n*n+r*r),t.position.x=this.tx+(a.x*e+a.y*n),t.position.y=this.ty+(a.x*i+a.y*r),t}invert(){const t=this.a,e=this.b,i=this.c,s=this.d,n=this.tx,r=t*s-e*i;return this.a=s/r,this.b=-e/r,this.c=-i/r,this.d=t/r,this.tx=(i*this.ty-s*n)/r,this.ty=-(t*this.ty-e*n)/r,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new r;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new r}static get TEMP_MATRIX(){return new r}}e.Matrix=r},86388:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t,e,i=0,s=0){this._x=i,this._y=s,this.cb=t,this.scope=e}clone(t=this.cb,e=this.scope){return new i(t,e,this._x,this._y)}set(t=0,e=t){return this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this}copyFrom(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}e.ObservablePoint=i},18884:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}clone(){return new i(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,e=t){return this.x=t,this.y=e,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}e.Point=i},50969:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(89663),n=i(86388);const r=class{constructor(){this.worldTransform=new s.Matrix,this.localTransform=new s.Matrix,this.position=new n.ObservablePoint(this.onChange,this,0,0),this.scale=new n.ObservablePoint(this.onChange,this,1,1),this.pivot=new n.ObservablePoint(this.onChange,this,0,0),this.skew=new n.ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const i=t.worldTransform,s=this.worldTransform;s.a=e.a*i.a+e.b*i.c,s.b=e.a*i.b+e.b*i.d,s.c=e.c*i.a+e.d*i.c,s.d=e.c*i.b+e.d*i.d,s.tx=e.tx*i.a+e.ty*i.c+i.tx,s.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let a=r;a.IDENTITY=new r,e.Transform=a},71965:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=2*Math.PI,s=180/Math.PI,n=Math.PI/180;var r=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(r||{});e.DEG_TO_RAD=n,e.PI_2=i,e.RAD_TO_DEG=s,e.SHAPES=r},45154:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(89663);const n=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],r=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],a=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],o=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],h=[],l=[],d=Math.sign;!function(){for(let t=0;t<16;t++){const e=[];h.push(e);for(let i=0;i<16;i++){const s=d(n[t]*n[i]+a[t]*r[i]),h=d(r[t]*n[i]+o[t]*r[i]),l=d(n[t]*a[i]+a[t]*o[i]),u=d(r[t]*a[i]+o[t]*o[i]);for(let t=0;t<16;t++)if(n[t]===s&&r[t]===h&&a[t]===l&&o[t]===u){e.push(t);break}}}for(let t=0;t<16;t++){const e=new s.Matrix;e.set(n[t],r[t],a[t],o[t],0,0),l.push(e)}}();const u={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>n[t],uY:t=>r[t],vX:t=>a[t],vY:t=>o[t],inv:t=>8&t?15&t:7&-t,add:(t,e)=>h[t][e],sub:(t,e)=>h[t][u.inv(e)],rotate180:t=>4^t,isVertical:t=>2==(3&t),byDirection:(t,e)=>2*Math.abs(t)<=Math.abs(e)?e>=0?u.S:u.N:2*Math.abs(e)<=Math.abs(t)?t>0?u.E:u.W:e>0?t>0?u.SE:u.SW:t>0?u.NE:u.NW,matrixAppendRotationInv:(t,e,i=0,s=0)=>{const n=l[u.inv(e)];n.tx=i,n.ty=s,t.append(n)}};e.groupD8=u},40435:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(47944),n=i(32006),r=i(5272),a=i(9617),o=i(10499),h=i(45154);i(1759),i(93187);var l=i(89663),d=i(86388),u=i(18884),c=i(50969),p=i(71965);e.Circle=s.Circle,e.Ellipse=n.Ellipse,e.Polygon=r.Polygon,e.Rectangle=a.Rectangle,e.RoundedRectangle=o.RoundedRectangle,e.groupD8=h.groupD8,e.Matrix=l.Matrix,e.ObservablePoint=d.ObservablePoint,e.Point=u.Point,e.Transform=c.Transform,e.DEG_TO_RAD=p.DEG_TO_RAD,e.PI_2=p.PI_2,e.RAD_TO_DEG=p.RAD_TO_DEG,e.SHAPES=p.SHAPES},47944:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71965),n=i(9617);class r{constructor(t=0,e=0,i=0){this.x=t,this.y=e,this.radius=i,this.type=s.SHAPES.CIRC}clone(){return new r(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;const i=this.radius*this.radius;let s=this.x-t,n=this.y-e;return s*=s,n*=n,s+n<=i}getBounds(){return new n.Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}e.Circle=r},32006:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71965),n=i(9617);class r{constructor(t=0,e=0,i=0,n=0){this.x=t,this.y=e,this.width=i,this.height=n,this.type=s.SHAPES.ELIP}clone(){return new r(this.x,this.y,this.width,this.height)}contains(t,e){if(this.width<=0||this.height<=0)return!1;let i=(t-this.x)/this.width,s=(e-this.y)/this.height;return i*=i,s*=s,i+s<=1}getBounds(){return new n.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}e.Ellipse=r},5272:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71965);class n{constructor(...t){let e=Array.isArray(t[0])?t[0]:t;if("number"!=typeof e[0]){const t=[];for(let i=0,s=e.length;i<s;i++)t.push(e[i].x,e[i].y);e=t}this.points=e,this.type=s.SHAPES.POLY,this.closeStroke=!0}clone(){const t=this.points.slice(),e=new n(t);return e.closeStroke=this.closeStroke,e}contains(t,e){let i=!1;const s=this.points.length/2;for(let n=0,r=s-1;n<s;r=n++){const s=this.points[2*n],a=this.points[2*n+1],o=this.points[2*r],h=this.points[2*r+1];a>e!=h>e&&t<(e-a)/(h-a)*(o-s)+s&&(i=!i)}return i}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce(((t,e)=>`${t}, ${e}`),"")}]`}}e.Polygon=n},9617:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71965),n=i(18884);const r=[new n.Point,new n.Point,new n.Point,new n.Point];class a{constructor(t=0,e=0,i=0,n=0){this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(n),this.type=s.SHAPES.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new a(0,0,0,0)}clone(){return new a(this.x,this.y,this.width,this.height)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}contains(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)}intersects(t,e){if(!e){const e=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=e)return!1;const i=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>i}const i=this.left,s=this.right,n=this.top,a=this.bottom;if(s<=i||a<=n)return!1;const o=r[0].set(t.left,t.top),h=r[1].set(t.left,t.bottom),l=r[2].set(t.right,t.top),d=r[3].set(t.right,t.bottom);if(l.x<=o.x||h.y<=o.y)return!1;const u=Math.sign(e.a*e.d-e.b*e.c);if(0===u)return!1;if(e.apply(o,o),e.apply(h,h),e.apply(l,l),e.apply(d,d),Math.max(o.x,h.x,l.x,d.x)<=i||Math.min(o.x,h.x,l.x,d.x)>=s||Math.max(o.y,h.y,l.y,d.y)<=n||Math.min(o.y,h.y,l.y,d.y)>=a)return!1;const c=u*(h.y-o.y),p=u*(o.x-h.x),m=c*i+p*n,f=c*s+p*n,g=c*i+p*a,y=c*s+p*a;if(Math.max(m,f,g,y)<=c*o.x+p*o.y||Math.min(m,f,g,y)>=c*d.x+p*d.y)return!1;const x=u*(o.y-l.y),_=u*(l.x-o.x),b=x*i+_*n,v=x*s+_*n,S=x*i+_*a,T=x*s+_*a;return!(Math.max(b,v,S,T)<=x*o.x+_*o.y||Math.min(b,v,S,T)>=x*d.x+_*d.y)}pad(t=0,e=t){return this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this}fit(t){const e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),s=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=s,this.height=Math.max(n-s,0),this}ceil(t=1,e=.001){const i=Math.ceil((this.x+this.width-e)*t)/t,s=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=s-this.y,this}enlarge(t){const e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),s=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=s,this.height=n-s,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}e.Rectangle=a},10499:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71965);class n{constructor(t=0,e=0,i=0,n=0,r=20){this.x=t,this.y=e,this.width=i,this.height=n,this.radius=r,this.type=s.SHAPES.RREC}clone(){return new n(this.x,this.y,this.width,this.height,this.radius)}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+i&&e<=this.y+this.height-i||t>=this.x+i&&t<=this.x+this.width-i)return!0;let s=t-(this.x+i),n=e-(this.y+i);const r=i*i;if(s*s+n*n<=r)return!0;if(s=t-(this.x+this.width-i),s*s+n*n<=r)return!0;if(n=e-(this.y+this.height-i),s*s+n*n<=r)return!0;if(s=t-(this.x+i),s*s+n*n<=r)return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}e.RoundedRectangle=n},33024:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(21162);class r extends n.SimplePlane{constructor(t,e,i,n,r){super(s.Texture.WHITE,4,4),this._origWidth=t.orig.width,this._origHeight=t.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=e??t.defaultBorders?.left??10,this._rightWidth=n??t.defaultBorders?.right??10,this._topHeight=i??t.defaultBorders?.top??10,this._bottomHeight=r??t.defaultBorders?.bottom??10,this.texture=t}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(t){this.geometry.getBuffer("aVertexPosition").data=t}updateHorizontalVertices(){const t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height}updateVerticalVertices(){const t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width}_getMinScale(){const t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,i=this._topHeight+this._bottomHeight,s=this._height>i?1:this._height/i;return Math.min(e,s)}get width(){return this._width}set width(t){this._width=t,this._refresh()}get height(){return this._height}set height(t){this._height=t,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(t){this._leftWidth=t,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(t){this._rightWidth=t,this._refresh()}get topHeight(){return this._topHeight}set topHeight(t){this._topHeight=t,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(t){this._bottomHeight=t,this._refresh()}_refresh(){const t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;const i=1/this._origWidth,s=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=s*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}e.NineSlicePlane=r},40197:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(21770);class r extends n.Mesh{constructor(t=s.Texture.EMPTY,e,i,r,a){const o=new n.MeshGeometry(e,i,r);o.getBuffer("aVertexPosition").static=!1;super(o,new n.MeshMaterial(t),null,a),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(t){this.geometry.getBuffer("aVertexPosition").data=t}_render(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(t)}}e.SimpleMesh=r},21162:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(21770),r=i(72183);class a extends n.Mesh{constructor(t,e,i){super(new r.PlaneGeometry(t.width,t.height,e,i),new n.MeshMaterial(s.Texture.WHITE)),this.texture=t,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const t=this.geometry,{width:e,height:i}=this.shader.texture;!this.autoResize||t.width===e&&t.height===i||(t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build())}set texture(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(t)}destroy(t){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(t)}}e.SimplePlane=a},72126:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(21770),r=i(13903);class a extends n.Mesh{constructor(t,e,i=0){const a=new r.RopeGeometry(t.height,e,i),o=new n.MeshMaterial(t);i>0&&(t.baseTexture.wrapMode=s.WRAP_MODES.REPEAT),super(a,o),this.autoUpdate=!0}_render(t){const e=this.geometry;(this.autoUpdate||e._width!==this.shader.texture.height)&&(e._width=this.shader.texture.height,e.update()),super._render(t)}}e.SimpleRope=a},72183:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(21770);class n extends s.MeshGeometry{constructor(t=100,e=100,i=10,s=10){super(),this.segWidth=i,this.segHeight=s,this.width=t,this.height=e,this.build()}build(){const t=this.segWidth*this.segHeight,e=[],i=[],s=[],n=this.segWidth-1,r=this.segHeight-1,a=this.width/n,o=this.height/r;for(let s=0;s<t;s++){const t=s%this.segWidth,h=s/this.segWidth|0;e.push(t*a,h*o),i.push(t/n,h/r)}const h=n*r;for(let t=0;t<h;t++){const e=t%n,i=t/n|0,r=i*this.segWidth+e,a=i*this.segWidth+e+1,o=(i+1)*this.segWidth+e,h=(i+1)*this.segWidth+e+1;s.push(r,a,o,a,h,o)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}e.PlaneGeometry=n},13903:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(21770);class n extends s.MeshGeometry{constructor(t=200,e,i=0){super(new Float32Array(4*e.length),new Float32Array(4*e.length),new Uint16Array(6*(e.length-1))),this.points=e,this._width=t,this.textureScale=i,this.build()}get width(){return this._width}build(){const t=this.points;if(!t)return;const e=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),s=this.getIndex();if(t.length<1)return;e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),i.data=new Float32Array(4*t.length),s.data=new Uint16Array(6*(t.length-1)));const n=i.data,r=s.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;let a=0,o=t[0];const h=this._width*this.textureScale,l=t.length;for(let e=0;e<l;e++){const i=4*e;if(this.textureScale>0){const i=o.x-t[e].x,s=o.y-t[e].y,n=Math.sqrt(i*i+s*s);o=t[e],a+=n/h}else a=e/(l-1);n[i]=a,n[i+1]=0,n[i+2]=a,n[i+3]=1}let d=0;for(let t=0;t<l-1;t++){const e=2*t;r[d++]=e,r[d++]=e+1,r[d++]=e+2,r[d++]=e+2,r[d++]=e+1,r[d++]=e+3}i.update(),s.update(),this.updateVertices()}updateVertices(){const t=this.points;if(t.length<1)return;let e,i=t[0],s=0,n=0;const r=this.buffers[0].data,a=t.length,o=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let h=0;h<a;h++){const l=t[h],d=4*h;e=h<t.length-1?t[h+1]:l,n=-(e.x-i.x),s=e.y-i.y;let u=10*(1-h/(a-1));u>1&&(u=1);const c=Math.sqrt(s*s+n*n);c<1e-6?(s=0,n=0):(s/=c,n/=c,s*=o,n*=o),r[d]=l.x+s,r[d+1]=l.y+n,r[d+2]=l.x-s,r[d+3]=l.y-n,i=l}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}e.RopeGeometry=n},80261:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(72183),n=i(13903),r=i(33024),a=i(40197),o=i(21162),h=i(72126);e.PlaneGeometry=s.PlaneGeometry,e.RopeGeometry=n.RopeGeometry,e.NineSlicePlane=r.NineSlicePlane,e.SimpleMesh=a.SimpleMesh,e.SimplePlane=o.SimplePlane,e.SimpleRope=h.SimpleRope},19056:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(27191),r=i(4018);const a=new s.Point,o=new s.Polygon,h=class extends n.Container{constructor(t,e,i,n=s.DRAW_MODES.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=i||s.State.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=s.settings.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===s.DRAW_MODES.TRIANGLES&&e.length<2*h.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;const s=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[s]),t.plugins[s].render(this)}calculateVertices(){const t=this.geometry.buffers[0],e=t.data,i=t._updateID;if(i===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));const n=this.transform.worldTransform,r=n.a,a=n.b,o=n.c,h=n.d,l=n.tx,d=n.ty,u=this.vertexData;for(let t=0;t<u.length/2;t++){const i=e[2*t],s=e[2*t+1];u[2*t]=r*i+o*s+l,u[2*t+1]=a*i+h*s+d}if(this._roundPixels){const t=s.settings.RESOLUTION;for(let e=0;e<u.length;++e)u[e]=Math.round(u[e]*t)/t}this.vertexDirty=i}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new r.MeshBatchUvs(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,a);const e=this.geometry.getBuffer("aVertexPosition").data,i=o.points,s=this.geometry.getIndex().data,n=s.length,r=4===this.drawMode?3:1;for(let t=0;t+2<n;t+=r){const n=2*s[t],r=2*s[t+1],h=2*s[t+2];if(i[0]=e[n],i[1]=e[n+1],i[2]=e[r],i[3]=e[r+1],i[4]=e[h],i[5]=e[h+1],o.contains(a.x,a.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let l=h;l.BATCHABLE_SIZE=100,e.Mesh=l},4018:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.MeshBatchUvs=class{constructor(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(t){if(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}}},44528:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);class n extends s.Geometry{constructor(t,e,i){super();const n=new s.Buffer(t),r=new s.Buffer(e,!0),a=new s.Buffer(i,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,s.TYPES.FLOAT).addAttribute("aTextureCoord",r,2,!1,s.TYPES.FLOAT).addIndex(a),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}e.MeshGeometry=n},11705:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(61678),r=i(28549);class a extends s.Shader{constructor(t,e){const i={uSampler:t,alpha:1,uTextureMatrix:s.Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};(e=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},e)).uniforms&&Object.assign(i,e.uniforms),super(e.program||s.Program.from(r.default,n.default),i),this._colorDirty=!1,this.uvMatrix=new s.TextureMatrix(t),this.batchable=void 0===e.program,this.pluginName=e.pluginName,this._tintColor=new s.Color(e.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=e.alpha}get texture(){return this.uniforms.uSampler}set texture(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)}set alpha(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(t){t!==this.tint&&(this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const t=this.texture.baseTexture.alphaMode;s.Color.shared.setValue(this._tintColor).premultiply(this._alpha,t).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}e.MeshMaterial=a},21770:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(19056),n=i(4018),r=i(44528),a=i(11705);e.Mesh=s.Mesh,e.MeshBatchUvs=n.MeshBatchUvs,e.MeshGeometry=r.MeshGeometry,e.MeshMaterial=a.MeshMaterial},61678:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"},28549:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n"},88096:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(27191),r=i(6903);const a=new s.Matrix;n.DisplayObject.prototype._cacheAsBitmap=!1,n.DisplayObject.prototype._cacheData=null,n.DisplayObject.prototype._cacheAsBitmapResolution=null,n.DisplayObject.prototype._cacheAsBitmapMultisample=null;class o{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(n.DisplayObject.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;let e;this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new o),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}),n.DisplayObject.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},n.DisplayObject.prototype._initCachedDisplayObject=function(t){if(this._cacheData?.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const i=this.getLocalBounds(null,!0).clone();if(this.filters?.length){const t=this.filters[0].padding;i.pad(t)}i.ceil(s.settings.RESOLUTION);const n=t.renderTexture.current,o=t.renderTexture.sourceFrame.clone(),h=t.renderTexture.destinationFrame.clone(),l=t.projection.transform,d=s.RenderTexture.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:this.cacheAsBitmapMultisample??t.multisample}),u=`cacheAsBitmap_${s.utils.uid()}`;this._cacheData.textureCacheId=u,s.BaseTexture.addToCache(d.baseTexture,u),s.Texture.addToCache(d,u);const c=this.transform.localTransform.copyTo(a).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:d,clear:!0,transform:c,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=l,t.renderTexture.bind(n,o,h),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const p=new r.Sprite(d);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-i.x/i.width,p.anchor.y=-i.y/i.height,p.alpha=e,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)},n.DisplayObject.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},n.DisplayObject.prototype._initCachedDisplayObjectCanvas=function(t){if(this._cacheData?.sprite)return;const e=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,o=t._projTransform;e.ceil(s.settings.RESOLUTION);const h=s.RenderTexture.create({width:e.width,height:e.height}),l=`cacheAsBitmap_${s.utils.uid()}`;this._cacheData.textureCacheId=l,s.BaseTexture.addToCache(h.baseTexture,l),s.Texture.addToCache(h,l);const d=a;this.transform.localTransform.copyTo(d),d.invert(),d.tx-=e.x,d.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:h,clear:!0,transform:d,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;const u=new r.Sprite(h);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-e.x/e.width,u.anchor.y=-e.y/e.height,u.alpha=i,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)},n.DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},n.DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},n.DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,s.BaseTexture.removeFromCache(this._cacheData.textureCacheId),s.Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},n.DisplayObject.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},e.CacheData=o},81939:(t,e,i)=>{"use strict";var s=i(27191);s.DisplayObject.prototype.name=null,s.Container.prototype.getChildByName=function(t,e){for(let e=0,i=this.children.length;e<i;e++)if(this.children[e].name===t)return this.children[e];if(e)for(let e=0,i=this.children.length;e<i;e++){const i=this.children[e];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null}},25713:(t,e,i)=>{"use strict";var s=i(48742);i(27191).DisplayObject.prototype.getGlobalPosition=function(t=new s.Point,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},65858:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);e.ParticleBuffer=class{constructor(t,e,i){this.geometry=new s.Geometry,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<t.length;++i){let n=t[i];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||s.TYPES.FLOAT,offset:n.offset},e[i]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const t=this.geometry;let e=0;this.indexBuffer=new s.Buffer(s.utils.createIndicesForQuads(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(let t=0;t<this.dynamicProperties.length;++t){const i=this.dynamicProperties[t];i.offset=e,e+=i.size,this.dynamicStride+=i.size}const i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new s.Buffer(this.dynamicData,!1,!1);let n=0;this.staticStride=0;for(let t=0;t<this.staticProperties.length;++t){const e=this.staticProperties[t];e.offset=n,n+=e.size,this.staticStride+=e.size}const r=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(r),this.staticDataUint32=new Uint32Array(r),this.staticBuffer=new s.Buffer(this.staticData,!0,!1);for(let e=0;e<this.dynamicProperties.length;++e){const i=this.dynamicProperties[e];t.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===s.TYPES.UNSIGNED_BYTE,i.type,4*this.dynamicStride,4*i.offset)}for(let e=0;e<this.staticProperties.length;++e){const i=this.staticProperties[e];t.addAttribute(i.attributeName,this.staticBuffer,0,i.type===s.TYPES.UNSIGNED_BYTE,i.type,4*this.staticStride,4*i.offset)}}uploadDynamic(t,e,i){for(let n=0;n<this.dynamicProperties.length;n++){const r=this.dynamicProperties[n];r.uploadFunction(t,e,i,r.type===s.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,r.offset)}this.dynamicBuffer._updateID++}uploadStatic(t,e,i){for(let n=0;n<this.staticProperties.length;n++){const r=this.staticProperties[n];r.uploadFunction(t,e,i,r.type===s.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,r.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}},39281:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(27191);class r extends n.Container{constructor(t=1500,e,i=16384,n=!1){super();i>16384&&(i=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=t,this._batchSize=i,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=s.BLEND_MODES.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(e),this._tintColor=new s.Color(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintColor.toRgbArray(this.tintRgb)}render(t){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(()=>this.onChildrenChange(0)))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))}onChildrenChange(t){const e=Math.floor(t/this._batchSize);for(;this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID}dispose(){if(this._buffers){for(let t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}}destroy(t){super.destroy(t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}e.ParticleContainer=r},587:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(65858),r=i(77086),a=i(46972);class o extends s.ObjectRenderer{constructor(t){super(t),this.shader=null,this.properties=null,this.tempMatrix=new s.Matrix,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:s.TYPES.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=s.Shader.from(a.default,r.default,{}),this.state=s.State.for2d()}render(t){const e=t.children,i=t._maxSize,n=t._batchSize,r=this.renderer;let a=e.length;if(0===a)return;a>i&&!t.autoResize&&(a=i);let o=t._buffers;o||(o=t._buffers=this.generateBuffers(t));const h=e[0]._texture.baseTexture,l=h.alphaMode>0;this.state.blendMode=s.utils.correctBlendMode(t.blendMode,l),r.state.set(this.state);const d=r.gl,u=t.worldTransform.copyTo(this.tempMatrix);u.prepend(r.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=s.Color.shared.setValue(t.tintRgb).premultiply(t.worldAlpha,l).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);let c=!1;for(let i=0,s=0;i<a;i+=n,s+=1){let h=a-i;h>n&&(h=n),s>=o.length&&o.push(this._generateOneMoreBuffer(t));const l=o[s];l.uploadDynamic(e,i,h);const u=t._bufferUpdateIDs[s]||0;c=c||l._updateID<u,c&&(l._updateID=t._updateID,l.uploadStatic(e,i,h)),r.geometry.bind(l.geometry),d.drawElements(d.TRIANGLES,6*h,d.UNSIGNED_SHORT,0)}}generateBuffers(t){const e=[],i=t._maxSize,s=t._batchSize,r=t._properties;for(let t=0;t<i;t+=s)e.push(new n.ParticleBuffer(this.properties,r,s));return e}_generateOneMoreBuffer(t){const e=t._batchSize,i=t._properties;return new n.ParticleBuffer(this.properties,i,e)}uploadVertices(t,e,i,s,n,r){let a=0,o=0,h=0,l=0;for(let d=0;d<i;++d){const i=t[e+d],u=i._texture,c=i.scale.x,p=i.scale.y,m=u.trim,f=u.orig;m?(o=m.x-i.anchor.x*f.width,a=o+m.width,l=m.y-i.anchor.y*f.height,h=l+m.height):(a=f.width*(1-i.anchor.x),o=f.width*-i.anchor.x,h=f.height*(1-i.anchor.y),l=f.height*-i.anchor.y),s[r]=o*c,s[r+1]=l*p,s[r+n]=a*c,s[r+n+1]=l*p,s[r+2*n]=a*c,s[r+2*n+1]=h*p,s[r+3*n]=o*c,s[r+3*n+1]=h*p,r+=4*n}}uploadPosition(t,e,i,s,n,r){for(let a=0;a<i;a++){const i=t[e+a].position;s[r]=i.x,s[r+1]=i.y,s[r+n]=i.x,s[r+n+1]=i.y,s[r+2*n]=i.x,s[r+2*n+1]=i.y,s[r+3*n]=i.x,s[r+3*n+1]=i.y,r+=4*n}}uploadRotation(t,e,i,s,n,r){for(let a=0;a<i;a++){const i=t[e+a].rotation;s[r]=i,s[r+n]=i,s[r+2*n]=i,s[r+3*n]=i,r+=4*n}}uploadUvs(t,e,i,s,n,r){for(let a=0;a<i;++a){const i=t[e+a]._texture._uvs;i?(s[r]=i.x0,s[r+1]=i.y0,s[r+n]=i.x1,s[r+n+1]=i.y1,s[r+2*n]=i.x2,s[r+2*n+1]=i.y2,s[r+3*n]=i.x3,s[r+3*n+1]=i.y3,r+=4*n):(s[r]=0,s[r+1]=0,s[r+n]=0,s[r+n+1]=0,s[r+2*n]=0,s[r+2*n+1]=0,s[r+3*n]=0,s[r+3*n+1]=0,r+=4*n)}}uploadTint(t,e,i,n,r,a){for(let o=0;o<i;++o){const i=t[e+o],h=s.Color.shared.setValue(i._tintRGB).toPremultiplied(i.alpha,i.texture.baseTexture.alphaMode>0);n[a]=h,n[a+r]=h,n[a+2*r]=h,n[a+3*r]=h,a+=4*r}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}o.extension={name:"particle",type:s.ExtensionType.RendererPlugin},s.extensions.add(o),e.ParticleRenderer=o},76661:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(39281),n=i(587);e.ParticleContainer=s.ParticleContainer,e.ParticleRenderer=n.ParticleRenderer},77086:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}"},46972:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n"},10550:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(27191),r=i(66338),a=i(84797);function o(t,e){let i=!1;if(t?._textures?.length)for(let n=0;n<t._textures.length;n++)if(t._textures[n]instanceof s.Texture){const s=t._textures[n].baseTexture;e.includes(s)||(e.push(s),i=!0)}return i}function h(t,e){if(t.baseTexture instanceof s.BaseTexture){const i=t.baseTexture;return e.includes(i)||e.push(i),!0}return!1}function l(t,e){if(t._texture&&t._texture instanceof s.Texture){const i=t._texture.baseTexture;return e.includes(i)||e.push(i),!0}return!1}function d(t,e){return e instanceof r.Text&&(e.updateText(!0),!0)}function u(t,e){if(e instanceof r.TextStyle){const t=e.toFontString();return r.TextMetrics.measureFont(t),!0}return!1}function c(t,e){if(t instanceof r.Text){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const i=t._texture.baseTexture;return e.includes(i)||e.push(i),!0}return!1}function p(t,e){return t instanceof r.TextStyle&&(e.includes(t)||e.push(t),!0)}const m=class{constructor(t){this.limiter=new a.CountLimiter(m.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(c),this.registerFindHook(p),this.registerFindHook(o),this.registerFindHook(h),this.registerFindHook(l),this.registerUploadHook(d),this.registerUploadHook(u)}upload(t){return new Promise((e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,s.Ticker.system.addOnce(this.tick,this,s.UPDATE_PRIORITY.UTILITY))):e()}))}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed)for(let i=0,s=this.uploadHooks.length;i<s;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)s.Ticker.system.addOnce(this.tick,this,s.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,i=t.length;e<i;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof n.Container)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&s.Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let f=m;f.uploadsPerFrame=4,e.BasePrepare=f},84797:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.CountLimiter=class{constructor(t){this.maxItemsPerFrame=t,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}},5169:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(59296),r=i(10550);function a(t,e){return e instanceof s.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function o(t,e){if(!(e instanceof n.Graphics))return!1;const{geometry:i}=e;e.finishPoly(),i.updateBatches();const{batches:s}=i;for(let e=0;e<s.length;e++){const{texture:i}=s[e].style;i&&a(t,i.baseTexture)}return i.batchable||t.geometry.bind(i,e._resolveDirectShader(t)),!0}function h(t,e){return t instanceof n.Graphics&&(e.push(t),!0)}class l extends r.BasePrepare{constructor(t){super(t),this.uploadHookHelper=this.renderer,this.registerFindHook(h),this.registerUploadHook(a),this.registerUploadHook(o)}}l.extension={name:"prepare",type:s.ExtensionType.RendererSystem},s.extensions.add(l),e.Prepare=l},70827:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.TimeLimiter=class{constructor(t){this.maxMilliseconds=t,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}},62785:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(51932);var s=i(10550),n=i(84797),r=i(5169),a=i(70827);e.BasePrepare=s.BasePrepare,e.CountLimiter=n.CountLimiter,e.Prepare=r.Prepare,e.TimeLimiter=a.TimeLimiter},51932:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(10550);Object.defineProperties(s.settings,{UPLOADS_PER_FRAME:{get:()=>n.BasePrepare.uploadsPerFrame,set(t){s.utils.deprecation("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),n.BasePrepare.uploadsPerFrame=t}}}),Object.defineProperty(e,"settings",{enumerable:!0,get:function(){return s.settings}})},78791:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t){this.items=[],this._name=t,this._aliasCount=0}emit(t,e,i,s,n,r,a,o){if(arguments.length>8)throw new Error("max arguments reached");const{name:h,items:l}=this;this._aliasCount++;for(let d=0,u=l.length;d<u;d++)l[d][h](t,e,i,s,n,r,a,o);return l===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this}remove(t){const e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this}contains(t){return this.items.includes(t)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return 0===this.items.length}get name(){return this._name}}Object.defineProperties(i.prototype,{dispatch:{value:i.prototype.emit},run:{value:i.prototype.emit}}),e.Runner=i},82156:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(78791);e.Runner=s.Runner},7916:()=>{},8538:()=>{},18718:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i={createCanvas:(t,e)=>{const i=document.createElement("canvas");return i.width=t,i.height=e,i},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>(new DOMParser).parseFromString(t,"text/xml")};e.BrowserAdapter=i},82101:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(18718);i(7916),i(8538);var n=i(7878),r=i(4658);e.BrowserAdapter=s.BrowserAdapter,e.settings=n.settings,e.isMobile=r.isMobile},7878:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s={ADAPTER:i(18718).BrowserAdapter,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};e.settings=s},4658:(t,e,i)=>{"use strict";function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(90891));const r=(n.default.default??n.default)(globalThis.navigator);e.isMobile=r},17596:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(6903);class r extends n.Sprite{constructor(t,e=!0){super(t[0]instanceof s.Texture?t[0]:t[0].texture),this._textures=null,this._durations=null,this._autoUpdate=e,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=t}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(s.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(s.Ticker.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(t){this.stop(),this.currentFrame=t}gotoAndPlay(t){this.currentFrame=t,this.play()}update(t){if(!this._playing)return;const e=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())}updateTexture(){const t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(t){this.stop(),super.destroy(t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(t){const e=[];for(let i=0;i<t.length;++i)e.push(s.Texture.from(t[i]));return new r(e)}static fromImages(t){const e=[];for(let i=0;i<t.length;++i)e.push(s.Texture.from(t[i]));return new r(e)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(t){if(t[0]instanceof s.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(let e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}set currentFrame(t){if(t<0||t>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${t}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(s.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(s.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))}}e.AnimatedSprite=r},22693:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(17596);e.AnimatedSprite=s.AnimatedSprite},20568:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(6903);const r=new s.Point;class a extends n.Sprite{constructor(t,e=100,i=100){super(t),this.tileTransform=new s.Transform,this._width=e,this._height=i,this.uvMatrix=this.texture.uvMatrix||new s.TextureMatrix(t),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(t){this.tileTransform.scale.copyFrom(t)}get tilePosition(){return this.tileTransform.position}set tilePosition(t){this.tileTransform.position.copyFrom(t)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(t){const e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))}_calculateBounds(){const t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,s)}getLocalBounds(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new s.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,r);const e=this._width,i=this._height,s=-e*this.anchor._x;if(r.x>=s&&r.x<s+e){const t=-i*this.anchor._y;if(r.y>=t&&r.y<t+i)return!0}return!1}destroy(t){super.destroy(t),this.tileTransform=null,this.uvMatrix=null}static from(t,e){const i=t instanceof s.Texture?t:s.Texture.from(t,e);return new a(i,e.width,e.height)}get width(){return this._width}set width(t){this._width=t}get height(){return this._height}set height(t){this._height=t}}e.TilingSprite=a},72097:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(46642),r=i(55262),a=i(78063),o=i(62355),h=i(75985);const l=new s.Matrix;class d extends s.ObjectRenderer{constructor(t){super(t),t.runners.contextChange.add(this),this.quad=new s.QuadUv,this.state=s.State.for2d()}contextChange(){const t=this.renderer,e={globals:t.globalUniforms};this.simpleShader=s.Shader.from(o.default,h.default,e),this.shader=t.context.webGLVersion>1?s.Shader.from(r.default,n.default,e):s.Shader.from(o.default,a.default,e)}render(t){const e=this.renderer,i=this.quad;let n=i.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y);const r=t.uvRespectAnchor?t.anchor.x:0,a=t.uvRespectAnchor?t.anchor.y:0;n=i.uvs,n[0]=n[6]=-r,n[1]=n[3]=-a,n[2]=n[4]=1-r,n[5]=n[7]=1-a,i.invalidate();const o=t._texture,h=o.baseTexture,d=h.alphaMode>0,u=t.tileTransform.localTransform,c=t.uvMatrix;let p=h.isPowerOfTwo&&o.frame.width===h.width&&o.frame.height===h.height;p&&(h._glTextures[e.CONTEXT_UID]?p=h.wrapMode!==s.WRAP_MODES.CLAMP:h.wrapMode===s.WRAP_MODES.CLAMP&&(h.wrapMode=s.WRAP_MODES.REPEAT));const m=p?this.simpleShader:this.shader,f=o.width,g=o.height,y=t._width,x=t._height;l.set(u.a*f/y,u.b*f/x,u.c*g/y,u.d*g/x,u.tx/y,u.ty/x),l.invert(),p?l.prepend(c.mapCoord):(m.uniforms.uMapCoord=c.mapCoord.toArray(!0),m.uniforms.uClampFrame=c.uClampFrame,m.uniforms.uClampOffset=c.uClampOffset),m.uniforms.uTransform=l.toArray(!0),m.uniforms.uColor=s.Color.shared.setValue(t.tint).premultiply(t.worldAlpha,d).toArray(m.uniforms.uColor),m.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),m.uniforms.uSampler=o,e.shader.bind(m),e.geometry.bind(i),this.state.blendMode=s.utils.correctBlendMode(t.blendMode,d),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}d.extension={name:"tilingSprite",type:s.ExtensionType.RendererPlugin},s.extensions.add(d),e.TilingSpriteRenderer=d},87465:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(20568),n=i(72097);e.TilingSprite=s.TilingSprite,e.TilingSpriteRenderer=n.TilingSpriteRenderer},78063:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n"},62355:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"},75985:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n"},46642:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n"},55262:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"},18268:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(27191);const r=new s.Point,a=new Uint16Array([0,1,2,0,2,3]);class o extends n.Container{constructor(t){super(),this._anchor=new s.ObservablePoint(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new s.Color(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=s.BLEND_MODES.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=t||s.Texture.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=a,this.pluginName="batch",this.isSprite=!0,this._roundPixels=s.settings.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=s.utils.sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=s.utils.sign(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const t=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===t._updateID)return;this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;const e=this.transform.worldTransform,i=e.a,n=e.b,r=e.c,a=e.d,o=e.tx,h=e.ty,l=this.vertexData,d=t.trim,u=t.orig,c=this._anchor;let p=0,m=0,f=0,g=0;if(d?(m=d.x-c._x*u.width,p=m+d.width,g=d.y-c._y*u.height,f=g+d.height):(m=-c._x*u.width,p=m+u.width,g=-c._y*u.height,f=g+u.height),l[0]=i*m+r*g+o,l[1]=a*g+n*m+h,l[2]=i*p+r*g+o,l[3]=a*g+n*p+h,l[4]=i*p+r*f+o,l[5]=a*f+n*p+h,l[6]=i*m+r*f+o,l[7]=a*f+n*m+h,this._roundPixels){const t=s.settings.RESOLUTION;for(let e=0;e<l.length;++e)l[e]=Math.round(l[e]*t)/t}}calculateTrimmedVertices(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const t=this._texture,e=this.vertexTrimmedData,i=t.orig,s=this._anchor,n=this.transform.worldTransform,r=n.a,a=n.b,o=n.c,h=n.d,l=n.tx,d=n.ty,u=-s._x*i.width,c=u+i.width,p=-s._y*i.height,m=p+i.height;e[0]=r*u+o*p+l,e[1]=h*p+a*u+d,e[2]=r*c+o*p+l,e[3]=h*p+a*c+d,e[4]=r*c+o*m+l,e[5]=h*m+a*c+d,e[6]=r*u+o*m+l,e[7]=h*m+a*u+d}_render(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}_calculateBounds(){const t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(t){return 0===this.children.length?(this._localBounds||(this._localBounds=new n.Bounds),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new s.Rectangle),t=this._localBoundsRect),this._localBounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,r);const e=this._texture.orig.width,i=this._texture.orig.height,s=-e*this.anchor.x;let n=0;return r.x>=s&&r.x<s+e&&(n=-i*this.anchor.y,r.y>=n&&r.y<n+i)}destroy(t){super.destroy(t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;if("boolean"==typeof t?t:t?.texture){const e="boolean"==typeof t?t:t?.baseTexture;this._texture.destroy(!!e)}this._texture=null}static from(t,e){const i=t instanceof s.Texture?t:s.Texture.from(t,e);return new o(i)}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){const e=s.utils.sign(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){const e=s.utils.sign(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get anchor(){return this._anchor}set anchor(t){this._anchor.copyFrom(t)}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||s.Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}e.Sprite=o},6903:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(18268);e.Sprite=s.Sprite},95031:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);const n=class{constructor(t,e,i=null){this.linkedSheets=[],this._texture=t instanceof s.Texture?t:null,this.baseTexture=t instanceof s.BaseTexture?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const n=this.baseTexture.resource;this.resolution=this._updateResolution(i||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let i=s.utils.getResolutionOfUrl(t,null);return null===i&&(i=parseFloat(e??"1")),1!==i&&this.baseTexture.setResolution(i),i}parse(){return new Promise((t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=n.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()}))}_processFrames(t){let e=t;const i=n.BATCH_SIZE;for(;e-t<i&&e<this._frameKeys.length;){const t=this._frameKeys[e],i=this._frames[t],n=i.frame;if(n){let e=null,r=null;const a=!1!==i.trimmed&&i.sourceSize?i.sourceSize:i.frame,o=new s.Rectangle(0,0,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution);e=i.rotated?new s.Rectangle(Math.floor(n.x)/this.resolution,Math.floor(n.y)/this.resolution,Math.floor(n.h)/this.resolution,Math.floor(n.w)/this.resolution):new s.Rectangle(Math.floor(n.x)/this.resolution,Math.floor(n.y)/this.resolution,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution),!1!==i.trimmed&&i.spriteSourceSize&&(r=new s.Rectangle(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution)),this.textures[t]=new s.Texture(this.baseTexture,e,o,r,i.rotated?2:0,i.anchor,i.borders),s.Texture.addToCache(this.textures[t],t)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let i=0;i<t[e].length;i++){const s=t[e][i];this.animations[e].push(this.textures[s])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*n.BATCH_SIZE),this._batchIndex++,setTimeout((()=>{this._batchIndex*n.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())}),0)}destroy(t=!1){for(const t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let r=n;r.BATCH_SIZE=1e3,e.Spritesheet=r},39432:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(95031),n=i(32650);e.Spritesheet=s.Spritesheet,e.spritesheetAsset=n.spritesheetAsset},32650:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(8415),n=i(48742),r=i(95031);const a=["jpg","png","jpeg","avif","webp"];function o(t,e,i){const s={};if(t.forEach((t=>{s[t]=e})),Object.keys(e.textures).forEach((t=>{s[t]=e.textures[t]})),!i){const i=n.utils.path.dirname(t[0]);e.linkedSheets.forEach(((t,n)=>{const r=o([`${i}/${e.data.meta.related_multi_packs[n]}`],t,!0);Object.assign(s,r)}))}return s}const h={extension:n.ExtensionType.Asset,cache:{test:t=>t instanceof r.Spritesheet,getCacheableAssets:(t,e)=>o(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),i=e.pop(),s=e.pop();return"json"===i&&a.includes(s)},parse:t=>{const e=t.split(".");return{resolution:parseFloat(n.settings.RETINA_PREFIX.exec(t)?.[1]??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:n.ExtensionType.LoadParser,priority:s.LoaderParserPriority.Normal},testParse:async(t,e)=>".json"===n.utils.path.extname(e.src).toLowerCase()&&!!t.frames,async parse(t,e,i){let a=n.utils.path.dirname(e.src);a&&a.lastIndexOf("/")!==a.length-1&&(a+="/");let o=a+t.meta.image;o=s.copySearchParams(o,e.src);const h=(await i.load([o]))[o],l=new r.Spritesheet(h.baseTexture,t,e.src);await l.parse();const d=t?.meta?.related_multi_packs;if(Array.isArray(d)){const t=[];for(const n of d){if("string"!=typeof n)continue;let r=a+n;e.data?.ignoreMultiPack||(r=s.copySearchParams(r,e.src),t.push(i.load({src:r,data:{ignoreMultiPack:!0}})))}const n=await Promise.all(t);l.linkedSheets=n,n.forEach((t=>{t.linkedSheets=[l].concat(l.linkedSheets.filter((e=>e!==t)))}))}return l},unload(t){t.destroy(!0)}}};n.extensions.add(h),e.spritesheetAsset=h},76362:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(66338),r=i(99238),a=i(4772);i(49307);var o=i(61717),h=i(95375),l=i(40171);const d=class{constructor(t,e,i){const[n]=t.info,[r]=t.common,[a]=t.page,[o]=t.distanceField,h=s.utils.getResolutionOfUrl(a.file),l={};this._ownsTextures=i,this.font=n.face,this.size=n.size,this.lineHeight=r.lineHeight/h,this.chars={},this.pageTextures=l;for(let i=0;i<t.page.length;i++){const{id:n,file:r}=t.page[i];l[n]=e instanceof Array?e[i]:e[r],o?.fieldType&&"none"!==o.fieldType&&(l[n].baseTexture.alphaMode=s.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,l[n].baseTexture.mipmap=s.MIPMAP_MODES.OFF)}for(let e=0;e<t.char.length;e++){const{id:i,page:n}=t.char[e];let{x:r,y:a,width:o,height:d,xoffset:u,yoffset:c,xadvance:p}=t.char[e];r/=h,a/=h,o/=h,d/=h,u/=h,c/=h,p/=h;const m=new s.Rectangle(r+l[n].frame.x/h,a+l[n].frame.y/h,o,d);this.chars[i]={xOffset:u,yOffset:c,xAdvance:p,kerning:{},texture:new s.Texture(l[n].baseTexture,m),page:n}}for(let e=0;e<t.kerning.length;e++){let{first:i,second:s,amount:n}=t.kerning[e];i/=h,s/=h,n/=h,this.chars[s]&&(this.chars[s].kerning[i]=n)}this.distanceFieldRange=o?.distanceRange,this.distanceFieldType=o?.fieldType?.toLowerCase()??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,i){let n;if(t instanceof r.BitmapFontData)n=t;else{const e=a.autoDetectFormat(t);if(!e)throw new Error("Unrecognized data format for font.");n=e.parse(t)}e instanceof s.Texture&&(e=[e]);const o=new d(n,e,i);return d.available[o.font]=o,o}static uninstall(t){const e=d.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete d.available[t]}static from(t,e,i){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:a,padding:u,resolution:c,textureWidth:p,textureHeight:m,...f}=Object.assign({},d.defaultOptions,i),g=o.resolveCharacters(a),y=e instanceof n.TextStyle?e:new n.TextStyle(e),x=p,_=new r.BitmapFontData;_.info[0]={face:y.fontFamily,size:y.fontSize},_.common[0]={lineHeight:y.fontSize};let b,v,S,T=0,w=0,E=0;const C=[],A=[];for(let t=0;t<g.length;t++){b||(b=s.settings.ADAPTER.createCanvas(),b.width=p,b.height=m,v=b.getContext("2d"),S=new s.BaseTexture(b,{resolution:c,...f}),C.push(S),A.push(new s.Texture(S)),_.page.push({id:A.length-1,file:""}));const e=g[t],i=n.TextMetrics.measureText(e,y,!1,b),r=i.width,a=Math.ceil(i.height),o=Math.ceil(("italic"===y.fontStyle?2:1)*r);if(w>=m-a*c){if(0===w)throw new Error(`[BitmapFont] textureHeight ${m}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${e}')`);--t,b=null,v=null,S=null,w=0,T=0,E=0;continue}if(E=Math.max(a+i.fontProperties.descent,E),o*c+T>=x){if(0===T)throw new Error(`[BitmapFont] textureWidth ${p}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${e}')`);--t,w+=E*c,w=Math.ceil(w),T=0,E=0;continue}h.drawGlyph(b,v,i,T,w,c,y);const d=l.extractCharCode(i.text);_.char.push({id:d,page:A.length-1,x:T/c,y:w/c,width:o,height:a,xoffset:0,yoffset:0,xadvance:r-(y.dropShadow?y.dropShadowDistance:0)-(y.stroke?y.strokeThickness:0)}),T+=(o+2*u)*c,T=Math.ceil(T)}for(let t=0,e=g.length;t<e;t++){const i=g[t];for(let t=0;t<e;t++){const e=g[t],s=v.measureText(i).width,n=v.measureText(e).width,r=v.measureText(i+e).width-(s+n);r&&_.kerning.push({first:l.extractCharCode(i),second:l.extractCharCode(e),amount:r})}}const M=new d(_,A,!0);return void 0!==d.available[t]&&d.uninstall(t),d.available[t]=M,M}};let u=d;u.ALPHA=[["a","z"],["A","Z"]," "],u.NUMERIC=[["0","9"]],u.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],u.ASCII=[[" ","~"]],u.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:d.ALPHANUMERIC},u.available={},e.BitmapFont=u},99238:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.BitmapFontData=class{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}},88236:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(27191),r=i(21770),a=i(76362),o=i(27088),h=i(56670);i(49307);var l=i(4937),d=i(40171);const u=[],c=[],p=[],m=class extends n.Container{constructor(t,e={}){super();const{align:i,tint:n,maxWidth:r,letterSpacing:o,fontName:h,fontSize:l}=Object.assign({},m.styleDefaults,e);if(!a.BitmapFont.available[h])throw new Error(`Missing BitmapFont "${h}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=i,this._tintColor=new s.Color(n),this._font=void 0,this._fontName=h,this._fontSize=l,this.text=t,this._maxWidth=r,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new s.ObservablePoint((()=>{this.dirty=!0}),this,0,0),this._roundPixels=s.settings.ROUND_PIXELS,this.dirty=!0,this._resolution=s.settings.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const t=a.BitmapFont.available[this._fontName],e=this.fontSize,i=e/t.size,n=new s.Point,m=[],f=[],g=[],y=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",x=l.splitTextToCharacters(y),_=this._maxWidth*t.size/e,b="none"===t.distanceFieldType?u:c;let v=null,S=0,T=0,w=0,E=-1,C=0,A=0,M=0,P=0;for(let e=0;e<x.length;e++){const i=x[e],r=d.extractCharCode(i);if(/(?:\s)/.test(i)&&(E=e,C=S,P++),"\r"===i||"\n"===i){f.push(S),g.push(-1),T=Math.max(T,S),++w,++A,n.x=0,n.y+=t.lineHeight,v=null,P=0;continue}const a=t.chars[r];if(!a)continue;v&&a.kerning[v]&&(n.x+=a.kerning[v]);const o=p.pop()||{texture:s.Texture.EMPTY,line:0,charCode:0,prevSpaces:0,position:new s.Point};o.texture=a.texture,o.line=w,o.charCode=r,o.position.x=Math.round(n.x+a.xOffset+this._letterSpacing/2),o.position.y=Math.round(n.y+a.yOffset),o.prevSpaces=P,m.push(o),S=o.position.x+Math.max(a.xAdvance-a.xOffset,a.texture.orig.width),n.x+=a.xAdvance+this._letterSpacing,M=Math.max(M,a.yOffset+a.texture.height),v=r,-1!==E&&_>0&&n.x>_&&(++A,s.utils.removeItems(m,1+E-A,1+e-E),e=E,E=-1,f.push(C),g.push(m.length>0?m[m.length-1].prevSpaces:0),T=Math.max(T,C),w++,n.x=0,n.y+=t.lineHeight,v=null,P=0)}const B=x[x.length-1];"\r"!==B&&"\n"!==B&&(/(?:\s)/.test(B)&&(S=C),f.push(S),T=Math.max(T,S),g.push(-1));const R=[];for(let t=0;t<=w;t++){let e=0;"right"===this._align?e=T-f[t]:"center"===this._align?e=(T-f[t])/2:"justify"===this._align&&(e=g[t]<0?0:(T-f[t])/g[t]),R.push(e)}const I=m.length,k={},O=[],D=this._activePagesMeshData;b.push(...D);for(let e=0;e<I;e++){const i=m[e].texture,n=i.baseTexture.uid;if(!k[n]){let e=b.pop();if(!e){const i=new r.MeshGeometry;let n,a;"none"===t.distanceFieldType?(n=new r.MeshMaterial(s.Texture.EMPTY),a=s.BLEND_MODES.NORMAL):(n=new r.MeshMaterial(s.Texture.EMPTY,{program:s.Program.from(h.default,o.default),uniforms:{uFWidth:0}}),a=s.BLEND_MODES.NORMAL_NPM);const l=new r.Mesh(i,n);l.blendMode=a,e={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:l,vertices:null,uvs:null,indices:null}}e.index=0,e.indexCount=0,e.vertexCount=0,e.uvsCount=0,e.total=0;const{_textureCache:a}=this;a[n]=a[n]||new s.Texture(i.baseTexture),e.mesh.texture=a[n],e.mesh.tint=this._tintColor.value,O.push(e),k[n]=e}k[n].total++}for(let t=0;t<D.length;t++)O.includes(D[t])||this.removeChild(D[t].mesh);for(let t=0;t<O.length;t++)O[t].mesh.parent!==this&&this.addChild(O[t].mesh);this._activePagesMeshData=O;for(const t in k){const e=k[t],i=e.total;if(!(e.indices?.length>6*i)||e.vertices.length<2*r.Mesh.BATCHABLE_SIZE)e.vertices=new Float32Array(8*i),e.uvs=new Float32Array(8*i),e.indices=new Uint16Array(6*i);else{const t=e.total,i=e.vertices;for(let e=4*t*2;e<i.length;e++)i[e]=0}e.mesh.size=6*i}for(let t=0;t<I;t++){const e=m[t];let s=e.position.x+R[e.line]*("justify"===this._align?e.prevSpaces:1);this._roundPixels&&(s=Math.round(s));const n=s*i,r=e.position.y*i,a=e.texture,o=k[a.baseTexture.uid],h=a.frame,l=a._uvs,d=o.index++;o.indices[6*d+0]=0+4*d,o.indices[6*d+1]=1+4*d,o.indices[6*d+2]=2+4*d,o.indices[6*d+3]=0+4*d,o.indices[6*d+4]=2+4*d,o.indices[6*d+5]=3+4*d,o.vertices[8*d+0]=n,o.vertices[8*d+1]=r,o.vertices[8*d+2]=n+h.width*i,o.vertices[8*d+3]=r,o.vertices[8*d+4]=n+h.width*i,o.vertices[8*d+5]=r+h.height*i,o.vertices[8*d+6]=n,o.vertices[8*d+7]=r+h.height*i,o.uvs[8*d+0]=l.x0,o.uvs[8*d+1]=l.y0,o.uvs[8*d+2]=l.x1,o.uvs[8*d+3]=l.y1,o.uvs[8*d+4]=l.x2,o.uvs[8*d+5]=l.y2,o.uvs[8*d+6]=l.x3,o.uvs[8*d+7]=l.y3}this._textWidth=T*i,this._textHeight=(n.y+t.lineHeight)*i;for(const t in k){const e=k[t];if(0!==this.anchor.x||0!==this.anchor.y){let t=0;const i=this._textWidth*this.anchor.x,s=this._textHeight*this.anchor.y;for(let n=0;n<e.total;n++)e.vertices[t++]-=i,e.vertices[t++]-=s,e.vertices[t++]-=i,e.vertices[t++]-=s,e.vertices[t++]-=i,e.vertices[t++]-=s,e.vertices[t++]-=i,e.vertices[t++]-=s}this._maxLineHeight=M*i;const s=e.mesh.geometry.getBuffer("aVertexPosition"),n=e.mesh.geometry.getBuffer("aTextureCoord"),r=e.mesh.geometry.getIndex();s.data=e.vertices,n.data=e.uvs,r.data=e.indices,s.update(),n.update(),r.update()}for(let t=0;t<m.length;t++)p.push(m[t]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:i,size:s}=a.BitmapFont.available[this._fontName];if("none"!==i){const{a:i,b:n,c:r,d:a}=this.worldTransform,o=Math.sqrt(i*i+n*n),h=Math.sqrt(r*r+a*a),l=(Math.abs(o)+Math.abs(h))/2,d=this.fontSize/s,u=t._view.resolution;for(const t of this._activePagesMeshData)t.mesh.shader.uniforms.uFWidth=l*e*d*u}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=a.BitmapFont.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!a.BitmapFont.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??a.BitmapFont.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,i="none"===a.BitmapFont.available[this._fontName].distanceFieldType?u:c;i.push(...this._activePagesMeshData);for(const t of this._activePagesMeshData)this.removeChild(t.mesh);this._activePagesMeshData=[],i.filter((t=>e[t.mesh.texture.baseTexture.uid])).forEach((t=>{t.mesh.texture=s.Texture.EMPTY}));for(const t in e){e[t].destroy(),delete e[t]}this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};let f=m;f.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e.BitmapText=f},94289:()=>{},59340:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(99238);e.TextFormat=class{static test(t){return"string"==typeof t&&t.startsWith("info face=")}static parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const t in e){const s=e[t].match(/^[a-z]+/gm)[0],n=e[t].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),r={};for(const t in n){const e=n[t].split("="),i=e[0],s=e[1].replace(/"/gm,""),a=parseFloat(s),o=isNaN(a)?s:a;r[i]=o}i[s].push(r)}const n=new s.BitmapFontData;return i.info.forEach((t=>n.info.push({face:t.face,size:parseInt(t.size,10)}))),i.common.forEach((t=>n.common.push({lineHeight:parseInt(t.lineHeight,10)}))),i.page.forEach((t=>n.page.push({id:parseInt(t.id,10),file:t.file}))),i.char.forEach((t=>n.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)}))),i.kerning.forEach((t=>n.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)}))),i.distanceField.forEach((t=>n.distanceField.push({distanceRange:parseInt(t.distanceRange,10),fieldType:t.fieldType}))),n}}},96257:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(99238);e.XMLFormat=class{static test(t){const e=t;return"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")}static parse(t){const e=new s.BitmapFontData,i=t.getElementsByTagName("info"),n=t.getElementsByTagName("common"),r=t.getElementsByTagName("page"),a=t.getElementsByTagName("char"),o=t.getElementsByTagName("kerning"),h=t.getElementsByTagName("distanceField");for(let t=0;t<i.length;t++)e.info.push({face:i[t].getAttribute("face"),size:parseInt(i[t].getAttribute("size"),10)});for(let t=0;t<n.length;t++)e.common.push({lineHeight:parseInt(n[t].getAttribute("lineHeight"),10)});for(let t=0;t<r.length;t++)e.page.push({id:parseInt(r[t].getAttribute("id"),10)||0,file:r[t].getAttribute("file")});for(let t=0;t<a.length;t++){const i=a[t];e.char.push({id:parseInt(i.getAttribute("id"),10),page:parseInt(i.getAttribute("page"),10)||0,x:parseInt(i.getAttribute("x"),10),y:parseInt(i.getAttribute("y"),10),width:parseInt(i.getAttribute("width"),10),height:parseInt(i.getAttribute("height"),10),xoffset:parseInt(i.getAttribute("xoffset"),10),yoffset:parseInt(i.getAttribute("yoffset"),10),xadvance:parseInt(i.getAttribute("xadvance"),10)})}for(let t=0;t<o.length;t++)e.kerning.push({first:parseInt(o[t].getAttribute("first"),10),second:parseInt(o[t].getAttribute("second"),10),amount:parseInt(o[t].getAttribute("amount"),10)});for(let t=0;t<h.length;t++)e.distanceField.push({fieldType:h[t].getAttribute("fieldType"),distanceRange:parseInt(h[t].getAttribute("distanceRange"),10)});return e}}},24869:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(96257);e.XMLStringFormat=class{static test(t){return!("string"!=typeof t||!t.includes("<font>"))&&n.XMLFormat.test(s.settings.ADAPTER.parseXML(t))}static parse(t){return n.XMLFormat.parse(s.settings.ADAPTER.parseXML(t))}}},4772:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(59340),n=i(96257),r=i(24869);const a=[s.TextFormat,n.XMLFormat,r.XMLStringFormat];e.TextFormat=s.TextFormat,e.XMLFormat=n.XMLFormat,e.XMLStringFormat=r.XMLStringFormat,e.autoDetectFormat=function(t){for(let e=0;e<a.length;e++)if(a[e].test(t))return a[e];return null}},53485:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(76362),n=i(99238),r=i(88236);i(94289);var a=i(4772),o=i(54457),h=i(59340),l=i(96257),d=i(24869);e.BitmapFont=s.BitmapFont,e.BitmapFontData=n.BitmapFontData,e.BitmapText=r.BitmapText,e.autoDetectFormat=a.autoDetectFormat,e.loadBitmapFont=o.loadBitmapFont,e.TextFormat=h.TextFormat,e.XMLFormat=l.XMLFormat,e.XMLStringFormat=d.XMLStringFormat},54457:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(8415),n=i(48742),r=i(76362);i(4772);var a=i(59340),o=i(24869);const h=[".xml",".fnt"],l={extension:{type:n.ExtensionType.LoadParser,priority:s.LoaderParserPriority.Normal},name:"loadBitmapFont",test:t=>h.includes(n.utils.path.extname(t).toLowerCase()),testParse:async t=>a.TextFormat.test(t)||o.XMLStringFormat.test(t),async parse(t,e,i){const h=a.TextFormat.test(t)?a.TextFormat.parse(t):o.XMLStringFormat.parse(t),{src:l}=e,{page:d}=h,u=[];for(let t=0;t<d.length;++t){const e=d[t].file;let i=n.utils.path.join(n.utils.path.dirname(l),e);i=s.copySearchParams(i,l),u.push(i)}const c=await i.load(u),p=u.map((t=>c[t]));return r.BitmapFont.install(h,p,!0)},load:async(t,e)=>(await n.settings.ADAPTER.fetch(t)).text(),unload(t){t.destroy()}};n.extensions.add(l),e.loadBitmapFont=l},27088:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n"},56670:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n"},95375:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(29402);e.drawGlyph=function(t,e,i,r,a,o,h){const l=i.text,d=i.fontProperties;e.translate(r,a),e.scale(o,o);const u=h.strokeThickness/2,c=-h.strokeThickness/2;if(e.font=h.toFontString(),e.lineWidth=h.strokeThickness,e.textBaseline=h.textBaseline,e.lineJoin=h.lineJoin,e.miterLimit=h.miterLimit,e.fillStyle=n.generateFillStyle(t,e,h,o,[l],i),e.strokeStyle=h.stroke,h.dropShadow){const t=h.dropShadowColor,i=h.dropShadowBlur*o,n=h.dropShadowDistance*o;e.shadowColor=s.Color.shared.setValue(t).setAlpha(h.dropShadowAlpha).toRgbaString(),e.shadowBlur=i,e.shadowOffsetX=Math.cos(h.dropShadowAngle)*n,e.shadowOffsetY=Math.sin(h.dropShadowAngle)*n}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;h.stroke&&h.strokeThickness&&e.strokeText(l,u,c+i.lineHeight-d.descent),h.fill&&e.fillText(l,u,c+i.lineHeight-d.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}},40171:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractCharCode=function(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}},29402:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(66338);e.generateFillStyle=function(t,e,i,n,r,a){const o=i.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];let h;const l=i.dropShadow?i.dropShadowDistance:0,d=i.padding||0,u=t.width/n-l-2*d,c=t.height/n-l-2*d,p=o.slice(),m=i.fillGradientStops.slice();if(!m.length){const t=p.length+1;for(let e=1;e<t;++e)m.push(e/t)}if(p.unshift(o[0]),m.unshift(0),p.push(o[o.length-1]),m.push(1),i.fillGradientType===s.TEXT_GRADIENT.LINEAR_VERTICAL){h=e.createLinearGradient(u/2,d,u/2,c+d);let t=0;const s=(a.fontProperties.fontSize+i.strokeThickness)/c;for(let e=0;e<r.length;e++){const i=a.lineHeight*e;for(let e=0;e<p.length;e++){let n=0;n="number"==typeof m[e]?m[e]:e/p.length;const r=i/c+n*s;let a=Math.max(t,r);a=Math.min(a,1),h.addColorStop(a,p[e]),t=a}}}else{h=e.createLinearGradient(d,c/2,u+d,c/2);const t=p.length+1;let i=1;for(let e=0;e<p.length;e++){let s;s="number"==typeof m[e]?m[e]:i/t,h.addColorStop(s,p[e]),i++}}return h}},49307:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(95375),n=i(40171),r=i(29402),a=i(61717),o=i(4937);e.drawGlyph=s.drawGlyph,e.extractCharCode=n.extractCharCode,e.generateFillStyle=r.generateFillStyle,e.resolveCharacters=a.resolveCharacters,e.splitTextToCharacters=o.splitTextToCharacters},61717:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(4937);e.resolveCharacters=function(t){"string"==typeof t&&(t=[t]);const e=[];for(let i=0,n=t.length;i<n;i++){const n=t[i];if(Array.isArray(n)){if(2!==n.length)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`);const t=n[0].charCodeAt(0),i=n[1].charCodeAt(0);if(i<t)throw new Error("[BitmapFont]: Invalid character range.");for(let s=t,n=i;s<=n;s++)e.push(String.fromCharCode(s))}else e.push(...s.splitTextToCharacters(n))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}},4937:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.splitTextToCharacters=function(t){return Array.from?Array.from(t):t.split("")}},91085:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(6903),r=i(66338),a=i(58005);const o=class extends n.Sprite{constructor(t="",e={}){super(s.Texture.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const i=new Image,n=s.Texture.from(i,{scaleMode:s.settings.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new s.Rectangle,n.trim=new s.Rectangle,this.texture=n;const r="http://www.w3.org/2000/svg",a="http://www.w3.org/1999/xhtml",h=document.createElementNS(r,"svg"),l=document.createElementNS(r,"foreignObject"),d=document.createElementNS(a,"div"),u=document.createElementNS(a,"style");l.setAttribute("width","10000"),l.setAttribute("height","10000"),l.style.overflow="hidden",h.appendChild(l),this.maxWidth=o.defaultMaxWidth,this.maxHeight=o.defaultMaxHeight,this._domElement=d,this._styleElement=u,this._svgRoot=h,this._foreignObject=l,this._foreignObject.appendChild(u),this._foreignObject.appendChild(d),this._image=i,this._loadImage=new Image,this._autoResolution=o.defaultAutoResolution,this._resolution=o.defaultResolution??s.settings.RESOLUTION,this.text=t,this.style=e}measureText(t){const{text:e,style:i,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:i.toCSS(s)}),this._styleElement.textContent=i.toGlobalCSS(),document.body.appendChild(this._svgRoot);const n=this._domElement.getBoundingClientRect();this._svgRoot.remove();const r=Math.min(this.maxWidth,Math.ceil(n.width)),a=Math.min(this.maxHeight,Math.ceil(n.height));return this._svgRoot.setAttribute("width",r.toString()),this._svgRoot.setAttribute("height",a.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),i!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(s)}),this._styleElement.textContent=this._style?.toGlobalCSS()),{width:r+2*i.padding,height:a+2*i.padding}}async updateText(t=!0){const{style:e,_image:i,_loadImage:s}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:n,height:r}=this.measureText();i.width=s.width=Math.ceil(Math.max(1,n)),i.height=s.height=Math.ceil(Math.max(1,r)),this._loading||(this._loading=!0,await new Promise((t=>{s.onload=async()=>{await e.onBeforeDraw(),this._loading=!1,i.src=s.src,s.onload=null,s.src="",this.updateTexture(),t()};const n=(new XMLSerializer).serializeToString(this._svgRoot);s.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(n)}`})))}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:i,resolution:s}=this,{padding:n}=t,{baseTexture:r}=e;e.trim.width=e._frame.width=i.width/s,e.trim.height=e._frame.height=i.height/s,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-2*n,e.orig.height=e._frame.height-2*n,this._onTextureUpdate(),r.setRealSize(i.width,i.height,s),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},o.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&this._style?.cleanFonts(),this._style=e,this._svgRoot?.remove(),this._svgRoot=e,this._domElement?.remove(),this._domElement=e,this._foreignObject?.remove(),this._foreignObject=e,this._styleElement?.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=s.utils.sign(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=s.utils.sign(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&((t=t||{})instanceof a.HTMLTextStyle?(this.ownsStyle=!1,this._style=t):t instanceof r.TextStyle?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=a.HTMLTextStyle.from(t)):(this.ownsStyle=!0,this._style=new a.HTMLTextStyle(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(""===t||null==t?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let h=o;h.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},h.defaultMaxWidth=2024,h.defaultMaxHeight=2024,h.defaultAutoResolution=!0,e.HTMLText=h},58005:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(66338);const r=class extends n.TextStyle{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new r(Object.keys(r.defaultOptions).reduce(((e,i)=>({...e,[i]:t[i]})),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach((t=>{URL.revokeObjectURL(t.src),t.refs--,0===t.refs&&(t.fontFace&&document.fonts.delete(t.fontFace),delete r.availableFonts[t.originalUrl])})),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:i}=r;if(i[t]){const e=i[t];return this._fonts.push(e),e.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return s.settings.ADAPTER.fetch(t).then((t=>t.blob())).then((async t=>new Promise(((e,i)=>{const s=URL.createObjectURL(t),n=new FileReader;n.onload=()=>e([s,n.result]),n.onerror=i,n.readAsDataURL(t)})))).then((async([n,r])=>{const a=Object.assign({family:s.utils.path.basename(t,s.utils.path.extname(t)),weight:"normal",style:"normal",src:n,dataSrc:r,refs:1,originalUrl:t,fontFace:null},e);i[t]=a,this._fonts.push(a),this.styleID++;const o=new FontFace(a.family,`url(${a.src})`,{weight:a.weight,style:a.style});a.fontFace=o,await o.load(),document.fonts.add(o),await document.fonts.ready,this.styleID++,this.fontsDirty=!0}))}addOverride(...t){const e=t.filter((t=>!this._overrides.includes(t)));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter((t=>this._overrides.includes(t)));e.length>0&&(this._overrides=this._overrides.filter((t=>!e.includes(t))),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?["word-wrap: "+(this.breakWords?"break-all":"break-word"),`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce(((t,e)=>`${t}\n            @font-face {\n                font-family: "${e.family}";\n                src: url('${e.dataSrc}');\n                font-weight: ${e.weight};\n                font-style: ${e.style}; \n            }`),this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=s.utils.rgb2hex(t)),"number"==typeof t?s.utils.hex2string(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,i=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),s=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(255*e|0).toString(16).padStart(2,"0"));const n=`${i}px ${s}px`;return this.dropShadowBlur>0?`text-shadow: ${n} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${n} ${t}`}reset(){Object.assign(this,r.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise((t=>setTimeout(t,100))):Promise.resolve()}get isSafari(){const{userAgent:t}=s.settings.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};let a=r;a.availableFonts={},a.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100},e.HTMLTextStyle=a},17509:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(91085),n=i(58005);e.HTMLText=s.HTMLText,e.HTMLTextStyle=n.HTMLTextStyle},30448:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(6903),r=i(16016),a=i(75345),o=i(38774);const h={texture:!0,children:!1,baseTexture:!0},l=class extends n.Sprite{constructor(t,e,i){let n=!1;i||(i=s.settings.ADAPTER.createCanvas(),n=!0),i.width=3,i.height=3;const r=s.Texture.from(i);r.orig=new s.Rectangle,r.trim=new s.Rectangle,super(r),this._ownCanvas=n,this.canvas=i,this.context=i.getContext("2d",{willReadFrequently:!0}),this._resolution=l.defaultResolution??s.settings.RESOLUTION,this._autoResolution=l.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return a.TextMetrics.experimentalLetterSpacing}static set experimentalLetterSpacing(t){s.utils.deprecation("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),a.TextMetrics.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const i=this.context,n=a.TextMetrics.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),r=n.width,o=n.height,h=n.lines,l=n.lineHeight,d=n.lineWidths,u=n.maxLineWidth,c=n.fontProperties;let p,m;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,r)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+2*e.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=e.strokeThickness,i.textBaseline=e.textBaseline,i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit;const f=e.dropShadow?2:1;for(let t=0;t<f;++t){const r=e.dropShadow&&0===t,a=r?Math.ceil(Math.max(1,o)+2*e.padding):0,f=a*this._resolution;if(r){i.fillStyle="black",i.strokeStyle="black";const t=e.dropShadowColor,n=e.dropShadowBlur*this._resolution,r=e.dropShadowDistance*this._resolution;i.shadowColor=s.Color.shared.setValue(t).setAlpha(e.dropShadowAlpha).toRgbaString(),i.shadowBlur=n,i.shadowOffsetX=Math.cos(e.dropShadowAngle)*r,i.shadowOffsetY=Math.sin(e.dropShadowAngle)*r+f}else i.fillStyle=this._generateFillStyle(e,h,n),i.strokeStyle=e.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;let g=(l-c.fontSize)/2;l-c.fontSize<0&&(g=0);for(let t=0;t<h.length;t++)p=e.strokeThickness/2,m=e.strokeThickness/2+t*l+c.ascent+g,"right"===e.align?p+=u-d[t]:"center"===e.align&&(p+=(u-d[t])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[t],p+e.padding,m+e.padding-a,!0),e.fill&&this.drawLetterSpacing(h[t],p+e.padding,m+e.padding-a)}this.updateTexture()}drawLetterSpacing(t,e,i,s=!1){const n=this._style.letterSpacing;let r=!1;if(a.TextMetrics.experimentalLetterSpacingSupported&&(a.TextMetrics.experimentalLetterSpacing?(this.context.letterSpacing=`${n}px`,this.context.textLetterSpacing=`${n}px`,r=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===n||r)return void(s?this.context.strokeText(t,e,i):this.context.fillText(t,e,i));let o=e;const h=a.TextMetrics.graphemeSegmenter(t);let l=this.context.measureText(t).width,d=0;for(let t=0;t<h.length;++t){const e=h[t];s?this.context.strokeText(e,o,i):this.context.fillText(e,o,i);let r="";for(let e=t+1;e<h.length;++e)r+=h[e];d=this.context.measureText(r).width,o+=l-d+n,l=d}}updateTexture(){const t=this.canvas;if(this._style.trim){const e=s.utils.trimCanvas(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}const e=this._texture,i=this._style,n=i.trim?0:i.padding,r=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-2*n,e.orig.height=e._frame.height-2*n,this._onTextureUpdate(),r.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),-1===this._textureID&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,i){const s=t.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];let n;const a=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,h=this.canvas.width/this._resolution-a-2*o,l=this.canvas.height/this._resolution-a-2*o,d=s.slice(),u=t.fillGradientStops.slice();if(!u.length){const t=d.length+1;for(let e=1;e<t;++e)u.push(e/t)}if(d.unshift(s[0]),u.unshift(0),d.push(s[s.length-1]),u.push(1),t.fillGradientType===r.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(h/2,o,h/2,l+o);const s=i.fontProperties.fontSize+t.strokeThickness;for(let t=0;t<e.length;t++){const r=i.lineHeight*(t-1)+s,a=i.lineHeight*t;let o=a;t>0&&r>a&&(o=(a+r)/2);const h=a+s,c=i.lineHeight*(t+1);let p=h;t+1<e.length&&c<h&&(p=(h+c)/2);const m=(p-o)/l;for(let t=0;t<d.length;t++){let e=0;e="number"==typeof u[t]?u[t]:t/d.length;let i=Math.min(1,Math.max(0,o/l+e*m));i=Number(i.toFixed(5)),n.addColorStop(i,d[t])}}}else{n=this.context.createLinearGradient(o,l/2,h+o,l/2);const t=d.length+1;let e=1;for(let i=0;i<d.length;i++){let s;s="number"==typeof u[i]?u[i]:e/t,n.addColorStop(s,d[i]),e++}}return n}destroy(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},h,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=s.utils.sign(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=s.utils.sign(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){(t=t||{})instanceof o.TextStyle?this._style=t:this._style=new o.TextStyle(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let d=l;d.defaultAutoResolution=!0,e.Text=d},75345:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742);const n={willReadFrequently:!0},r=class{static get experimentalLetterSpacingSupported(){let t=r._experimentalLetterSpacingSupported;if(void 0!==t){const e=s.settings.ADAPTER.getCanvasRenderingContext2D().prototype;t=r._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,i,s,n,r,a,o,h){this.text=t,this.style=e,this.width=i,this.height=s,this.lines=n,this.lineWidths=r,this.lineHeight=a,this.maxLineWidth=o,this.fontProperties=h}static measureText(t,e,i,s=r._canvas){i=null==i?e.wordWrap:i;const a=e.toFontString(),o=r.measureFont(a);0===o.fontSize&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);const h=s.getContext("2d",n);h.font=a;const l=(i?r.wordWrap(t,e,s):t).split(/(?:\r\n|\r|\n)/),d=new Array(l.length);let u=0;for(let t=0;t<l.length;t++){const i=r._measureText(l[t],e.letterSpacing,h);d[t]=i,u=Math.max(u,i)}let c=u+e.strokeThickness;e.dropShadow&&(c+=e.dropShadowDistance);const p=e.lineHeight||o.fontSize+e.strokeThickness;let m=Math.max(p,o.fontSize+2*e.strokeThickness)+(l.length-1)*(p+e.leading);return e.dropShadow&&(m+=e.dropShadowDistance),new r(t,e,c,m,l,d,p+e.leading,u,o)}static _measureText(t,e,i){let s=!1;r.experimentalLetterSpacingSupported&&(r.experimentalLetterSpacing?(i.letterSpacing=`${e}px`,i.textLetterSpacing=`${e}px`,s=!0):(i.letterSpacing="0px",i.textLetterSpacing="0px"));let n=i.measureText(t).width;return n>0&&(s?n-=e:n+=(r.graphemeSegmenter(t).length-1)*e),n}static wordWrap(t,e,i=r._canvas){const s=i.getContext("2d",n);let a=0,o="",h="";const l=Object.create(null),{letterSpacing:d,whiteSpace:u}=e,c=r.collapseSpaces(u),p=r.collapseNewlines(u);let m=!c;const f=e.wordWrapWidth+d,g=r.tokenize(t);for(let t=0;t<g.length;t++){let i=g[t];if(r.isNewline(i)){if(!p){h+=r.addLine(o),m=!c,o="",a=0;continue}i=" "}if(c){const t=r.isBreakingSpace(i),e=r.isBreakingSpace(o[o.length-1]);if(t&&e)continue}const n=r.getFromCache(i,d,l,s);if(n>f)if(""!==o&&(h+=r.addLine(o),o="",a=0),r.canBreakWords(i,e.breakWords)){const t=r.wordWrapSplit(i);for(let n=0;n<t.length;n++){let u=t[n],c=u,p=1;for(;t[n+p];){const s=t[n+p];if(r.canBreakChars(c,s,i,n,e.breakWords))break;u+=s,c=s,p++}n+=p-1;const g=r.getFromCache(u,d,l,s);g+a>f&&(h+=r.addLine(o),m=!1,o="",a=0),o+=u,a+=g}}else{o.length>0&&(h+=r.addLine(o),o="",a=0);const e=t===g.length-1;h+=r.addLine(i,!e),m=!1,o="",a=0}else n+a>f&&(m=!1,h+=r.addLine(o),o="",a=0),(o.length>0||!r.isBreakingSpace(i)||m)&&(o+=i,a+=n)}return h+=r.addLine(o,!1),h}static addLine(t,e=!0){return t=r.trimRight(t),t=e?`${t}\n`:t}static getFromCache(t,e,i,s){let n=i[t];return"number"!=typeof n&&(n=r._measureText(t,e,s)+e,i[t]=n),n}static collapseSpaces(t){return"normal"===t||"pre-line"===t}static collapseNewlines(t){return"normal"===t}static trimRight(t){if("string"!=typeof t)return"";for(let e=t.length-1;e>=0;e--){const i=t[e];if(!r.isBreakingSpace(i))break;t=t.slice(0,-1)}return t}static isNewline(t){return"string"==typeof t&&r._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return"string"==typeof t&&r._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let i="";if("string"!=typeof t)return e;for(let s=0;s<t.length;s++){const n=t[s],a=t[s+1];r.isBreakingSpace(n,a)||r.isNewline(n)?(""!==i&&(e.push(i),i=""),e.push(n)):i+=n}return""!==i&&e.push(i),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,i,s,n){return!0}static wordWrapSplit(t){return r.graphemeSegmenter(t)}static measureFont(t){if(r._fonts[t])return r._fonts[t];const e={ascent:0,descent:0,fontSize:0},i=r._canvas,s=r._context;s.font=t;const n=r.METRICS_STRING+r.BASELINE_SYMBOL,a=Math.ceil(s.measureText(n).width);let o=Math.ceil(s.measureText(r.BASELINE_SYMBOL).width);const h=Math.ceil(r.HEIGHT_MULTIPLIER*o);if(o=o*r.BASELINE_MULTIPLIER|0,0===a||0===h)return r._fonts[t]=e,e;i.width=a,i.height=h,s.fillStyle="#f00",s.fillRect(0,0,a,h),s.font=t,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(n,0,o);const l=s.getImageData(0,0,a,h).data,d=l.length,u=4*a;let c=0,p=0,m=!1;for(c=0;c<o;++c){for(let t=0;t<u;t+=4)if(255!==l[p+t]){m=!0;break}if(m)break;p+=u}for(e.ascent=o-c,p=d-u,m=!1,c=h;c>o;--c){for(let t=0;t<u;t+=4)if(255!==l[p+t]){m=!0;break}if(m)break;p-=u}return e.descent=c-o,e.fontSize=e.ascent+e.descent,r._fonts[t]=e,e}static clearMetrics(t=""){t?delete r._fonts[t]:r._fonts={}}static get _canvas(){if(!r.__canvas){let t;try{const e=new OffscreenCanvas(0,0),i=e.getContext("2d",n);if(i?.measureText)return r.__canvas=e,e;t=s.settings.ADAPTER.createCanvas()}catch(e){t=s.settings.ADAPTER.createCanvas()}t.width=t.height=10,r.__canvas=t}return r.__canvas}static get _context(){return r.__context||(r.__context=r._canvas.getContext("2d",n)),r.__context}};let a=r;a.METRICS_STRING="|q",a.BASELINE_SYMBOL="M",a.BASELINE_MULTIPLIER=1.4,a.HEIGHT_MULTIPLIER=2,a.graphemeSegmenter=(()=>{if("function"==typeof Intl?.Segmenter){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map((t=>t.segment))}return t=>[...t]})(),a.experimentalLetterSpacing=!1,a._fonts={},a._newlines=[10,13],a._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288],e.TextMetrics=a},38774:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(16016),n=i(48742);const r=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],a=class{constructor(t){this.styleID=0,this.reset(),l(this,t,t)}clone(){const t={};return l(t,this,a.defaultStyle),new a(t)}reset(){l(this,a.defaultStyle,a.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=h(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=h(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=h(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t="number"==typeof this.fontSize?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let t=e.length-1;t>=0;t--){let i=e[t].trim();/([\"\'])[^\'\"]+\1/.test(i)||r.includes(i)||(i=`"${i}"`),e[t]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let o=a;function h(t){const e=n.Color.shared;return Array.isArray(t)?t.map((t=>e.setValue(t).toHex())):e.setValue(t).toHex()}function l(t,e,i){for(const s in i)Array.isArray(e[s])?t[s]=e[s].slice():t[s]=e[s]}o.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:s.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100},e.TextStyle=o},16016:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(i||{});e.TEXT_GRADIENT=i},66338:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(16016),n=i(30448),r=i(75345),a=i(38774);e.TEXT_GRADIENT=s.TEXT_GRADIENT,e.Text=n.Text,e.TextMetrics=r.TextMetrics,e.TextStyle=a.TextStyle},91253:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(99699),n=i(80247);const r=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new n.TickerListener(null,null,1/0),this.deltaMS=1/r.targetFPMS,this.elapsedMS=1/r.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,i=s.UPDATE_PRIORITY.NORMAL){return this._addListener(new n.TickerListener(t,e,i))}addOnce(t,e,i=s.UPDATE_PRIORITY.NORMAL){return this._addListener(new n.TickerListener(t,e,i,!0))}_addListener(t){let e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this}remove(t,e){let i=this._head.next;for(;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const e=t-this._lastFrame|0;if(e<this._minElapsedMS)return;this._lastFrame=t-e%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*r.targetFPMS;const i=this._head;let s=i.next;for(;s;)s=s.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,r.targetFPMS);this._maxElapsedMS=1/i}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(0===t)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!r._shared){const t=r._shared=new r;t.autoStart=!0,t._protected=!0}return r._shared}static get system(){if(!r._system){const t=r._system=new r;t.autoStart=!0,t._protected=!0}return r._system}};let a=r;a.targetFPMS=.06,e.Ticker=a},80247:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.TickerListener=class{constructor(t,e=null,i=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=s}match(t,e=null){return this.fn===t&&this.context===e}emit(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));const e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const e=this.next;return this.next=t?null:e,this.previous=null,e}}},43019:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(71648),n=i(99699),r=i(91253);class a{static init(t){t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,n.UPDATE_PRIORITY.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?r.Ticker.shared:new r.Ticker,t.autoStart&&this.start()}static destroy(){if(this._ticker){const t=this._ticker;this.ticker=null,t.destroy()}}}a.extension=s.ExtensionType.Application,s.extensions.add(a),e.TickerPlugin=a},99699:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(i||{});e.UPDATE_PRIORITY=i},36082:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(12819);var s=i(99699),n=i(91253),r=i(43019);e.UPDATE_PRIORITY=s.UPDATE_PRIORITY,e.Ticker=n.Ticker,e.TickerPlugin=r.TickerPlugin},12819:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(82101),n=i(12191),r=i(91253);Object.defineProperties(s.settings,{TARGET_FPMS:{get:()=>r.Ticker.targetFPMS,set(t){n.deprecation("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),r.Ticker.targetFPMS=t}}}),Object.defineProperty(e,"settings",{enumerable:!0,get:function(){return s.settings}})},38944:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(78162);e.sayHello=function(){s.deprecation("7.0.0",'sayHello is deprecated, please use Renderer\'s "hello" option')},e.skipHello=function(){s.deprecation("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}},16358:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(70335);var s=i(82101);let n;e.isWebGLSupported=function(){return void 0===n&&(n=function(){const t={stencil:!0,failIfMajorPerformanceCaveat:s.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!s.settings.ADAPTER.getWebGLRenderingContext())return!1;const e=s.settings.ADAPTER.createCanvas();let i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);const n=!!i?.getContextAttributes()?.stencil;if(i){const t=i.getExtension("WEBGL_lose_context");t&&t.loseContext()}return i=null,n}catch(t){return!1}}()),n}},6165:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1122),n=i(78162);e.hex2rgb=function(t,e=[]){return n.deprecation("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),s.Color.shared.setValue(t).toRgbArray(e)},e.hex2string=function(t){return n.deprecation("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),s.Color.shared.setValue(t).toHex()},e.rgb2hex=function(t){return n.deprecation("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),s.Color.shared.setValue(t).toNumber()},e.string2hex=function(t){return n.deprecation("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),s.Color.shared.setValue(t).toNumber()}},61469:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1122),n=i(57616),r=i(78162);const a=function(){const t=[],e=[];for(let i=0;i<32;i++)t[i]=i,e[i]=i;t[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,t[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,t[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,e[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,e[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,e[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;const i=[];return i.push(e),i.push(t),i}();e.correctBlendMode=function(t,e){return a[e?1:0][t]},e.premultiplyBlendMode=a,e.premultiplyRgba=function(t,e,i,n=!0){return r.deprecation("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),s.Color.shared.setValue(t).premultiply(e,n).toArray(i??new Float32Array(4))},e.premultiplyTint=function(t,e){return r.deprecation("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),s.Color.shared.setValue(t).toPremultiplied(e)},e.premultiplyTintToRgba=function(t,e,i,n=!0){return r.deprecation("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),s.Color.shared.setValue(t).premultiply(e,n).toArray(i??new Float32Array(4))}},91988:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i},37154:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createIndicesForQuads=function(t,e=null){const i=6*t;if((e=e||new Uint16Array(i)).length!==i)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${i}`);for(let t=0,s=0;t<i;t+=6,s+=4)e[t+0]=s+0,e[t+1]=s+1,e[t+2]=s+2,e[t+3]=s+0,e[t+4]=s+2,e[t+5]=s+3;return e}},15668:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBufferType=function(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}},89530:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(15668);const n={Float32Array,Uint32Array,Int32Array,Uint8Array};e.interleaveTypedArrays=function(t,e){let i=0,r=0;const a={};for(let s=0;s<t.length;s++)r+=e[s],i+=t[s].length;const o=new ArrayBuffer(4*i);let h=null,l=0;for(let i=0;i<t.length;i++){const d=e[i],u=t[i],c=s.getBufferType(u);a[c]||(a[c]=new n[c](o)),h=a[c];for(let t=0;t<u.length;t++){h[(t/d|0)*r+l+t%d]=u[t]}l+=d}return new Float32Array(o)}},55919:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){let e=(t>65535?1:0)<<4,i=((t>>>=e)>255?1:0)<<3;return e|=i,i=((t>>>=i)>15?1:0)<<2,e|=i,i=((t>>>=i)>3?1:0)<<1,e|=i,e|(t>>>=i)>>1},e.nextPow2=function(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}},23582:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeItems=function(t,e,i){const s=t.length;let n;if(e>=s||0===i)return;const r=s-(i=e+i>s?s-e:i);for(n=e;n<r;++n)t[n]=t[n+i];t.length=r}},91815:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sign=function(t){return 0===t?0:t<0?-1:1}},46066:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});let i=0;e.uid=function(){return++i}},12191:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(70335);var s=i(82101),n=i(26729),r=i(9187),a=i(41913),o=i(1087),h=i(38944),l=i(16358),d=i(6165),u=i(61469),c=i(91988),p=i(37154),m=i(15668),f=i(89530),g=i(55919),y=i(23582),x=i(91815),_=i(46066),b=i(78162),v=i(42114),S=i(91635),T=i(78260),w=i(58217),E=i(3889),C=i(3424),A=i(37570),M=i(15197);function P(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}i(17090);var B=P(n),R=P(r);Object.defineProperty(e,"isMobile",{enumerable:!0,get:function(){return s.isMobile}}),Object.defineProperty(e,"EventEmitter",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(e,"earcut",{enumerable:!0,get:function(){return R.default}}),e.url=a.url,e.path=o.path,e.sayHello=h.sayHello,e.skipHello=h.skipHello,e.isWebGLSupported=l.isWebGLSupported,e.hex2rgb=d.hex2rgb,e.hex2string=d.hex2string,e.rgb2hex=d.rgb2hex,e.string2hex=d.string2hex,e.correctBlendMode=u.correctBlendMode,e.premultiplyBlendMode=u.premultiplyBlendMode,e.premultiplyRgba=u.premultiplyRgba,e.premultiplyTint=u.premultiplyTint,e.premultiplyTintToRgba=u.premultiplyTintToRgba,e.DATA_URI=c.DATA_URI,e.createIndicesForQuads=p.createIndicesForQuads,e.getBufferType=m.getBufferType,e.interleaveTypedArrays=f.interleaveTypedArrays,e.isPow2=g.isPow2,e.log2=g.log2,e.nextPow2=g.nextPow2,e.removeItems=y.removeItems,e.sign=x.sign,e.uid=_.uid,e.deprecation=b.deprecation,e.BoundingBox=v.BoundingBox,e.BaseTextureCache=S.BaseTextureCache,e.ProgramCache=S.ProgramCache,e.TextureCache=S.TextureCache,e.clearTextureCache=S.clearTextureCache,e.destroyTextureCache=S.destroyTextureCache,e.CanvasRenderTarget=T.CanvasRenderTarget,e.getCanvasBoundingBox=w.getCanvasBoundingBox,e.trimCanvas=E.trimCanvas,e.decomposeDataUri=C.decomposeDataUri,e.determineCrossOrigin=A.determineCrossOrigin,e.getResolutionOfUrl=M.getResolutionOfUrl},78162:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i={};e.deprecation=function(t,e,s=3){if(i[e])return;let n=(new Error).stack;void 0===n?console.warn("PixiJS Deprecation Warning: ",`${e}\nDeprecated since v${t}`):(n=n.split("\n").splice(s).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}\nDeprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}\nDeprecated since v${t}`),console.warn(n))),i[e]=!0}},42114:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=class{constructor(t,e,i,s){this.left=t,this.top=e,this.right=i,this.bottom=s}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let s=i;s.EMPTY=new i(0,0,0,0),e.BoundingBox=s},78260:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(82101);e.CanvasRenderTarget=class{constructor(t,e,i){this._canvas=s.settings.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=i||s.settings.RESOLUTION,this.resize(t,e)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(t,e){this._checkDestroyed(),this._canvas.width=Math.round(t*this.resolution),this._canvas.height=Math.round(e*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(t){this._checkDestroyed(),this._canvas.width=Math.round(t)}get height(){return this._checkDestroyed(),this._canvas.height}set height(t){this._checkDestroyed(),this._canvas.height=Math.round(t)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}},91635:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=Object.create(null),s=Object.create(null);e.BaseTextureCache=s,e.ProgramCache={},e.TextureCache=i,e.clearTextureCache=function(){let t;for(t in i)delete i[t];for(t in s)delete s[t]},e.destroyTextureCache=function(){let t;for(t in i)i[t].destroy();for(t in s)s[t].destroy()}},58217:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(42114);function n(t,e,i){for(let s=0,n=4*i*e;s<e;++s,n+=4)if(0!==t[n+3])return!1;return!0}function r(t,e,i,s,n){const r=4*e;for(let e=s,a=s*r+4*i;e<=n;++e,a+=r)if(0!==t[a+3])return!1;return!0}e.getCanvasBoundingBox=function(t){const{width:e,height:i}=t,a=t.getContext("2d",{willReadFrequently:!0});if(null===a)throw new TypeError("Failed to get canvas 2D context");const o=a.getImageData(0,0,e,i).data;let h=0,l=0,d=e-1,u=i-1;for(;l<i&&n(o,e,l);)++l;if(l===i)return s.BoundingBox.EMPTY;for(;n(o,e,u);)--u;for(;r(o,e,h,l,u);)++h;for(;r(o,e,d,l,u);)--d;return++d,++u,new s.BoundingBox(h,l,d,u)}},3889:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(58217);e.trimCanvas=function(t){const e=s.getCanvasBoundingBox(t),{width:i,height:n}=e;let r=null;if(!e.isEmpty()){const s=t.getContext("2d");if(null===s)throw new TypeError("Failed to get canvas 2D context");r=s.getImageData(e.left,e.top,i,n)}return{width:i,height:n,data:r}}},3424:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(91988);e.decomposeDataUri=function(t){const e=s.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}},37570:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(41913);let n;e.determineCrossOrigin=function(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,n||(n=document.createElement("a")),n.href=t;const i=s.url.parse(n.href),r=!i.port&&""===e.port||i.port===e.port;return i.hostname===e.hostname&&r&&i.protocol===e.protocol?"":"anonymous"}},15197:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(70335);var s=i(82101);e.getResolutionOfUrl=function(t,e=1){const i=s.settings.RETINA_PREFIX?.exec(t);return i?parseFloat(i[1]):e}},1087:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(82101);function n(t){if("string"!=typeof t)throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function r(t){return t.split("?")[0].split("#")[0]}const a={toPosix(t){return e="\\",i="/",t.replace(new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),i);var e,i},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl:t=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t),hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){n(t),t=this.toPosix(t);let e="";const i=/^file:\/\/\//.exec(t),s=/^[^/:]+:\/\//.exec(t),r=/^[^/:]+:\//.exec(t);if(i||s||r){const n=i?.[0]||s?.[0]||r?.[0];e=n,t=t.slice(n.length)}return e},toAbsolute(t,e,i){if(this.isDataUrl(t))return t;const o=r(this.toPosix(e??s.settings.ADAPTER.getBaseUrl())),h=r(this.toPosix(i??this.rootname(o)));if(n(t),(t=this.toPosix(t)).startsWith("/"))return a.join(h,t.slice(1));return this.isAbsolute(t)?t:this.join(o,t)},normalize(t){if(n(t=this.toPosix(t)),0===t.length)return".";let e="";const i=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const s=t.endsWith("/");return(t=function(t,e){let i="",s=0,n=-1,r=0,a=-1;for(let o=0;o<=t.length;++o){if(o<t.length)a=t.charCodeAt(o);else{if(47===a)break;a=47}if(47===a){if(n===o-1||1===r);else if(n!==o-1&&2===r){if(i.length<2||2!==s||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){const t=i.lastIndexOf("/");if(t!==i.length-1){-1===t?(i="",s=0):(i=i.slice(0,t),s=i.length-1-i.lastIndexOf("/")),n=o,r=0;continue}}else if(2===i.length||1===i.length){i="",s=0,n=o,r=0;continue}e&&(i.length>0?i+="/..":i="..",s=2)}else i.length>0?i+=`/${t.slice(n+1,o)}`:i=t.slice(n+1,o),s=o-n-1;n=o,r=0}else 46===a&&-1!==r?++r:r=-1}return i}(t,!1)).length>0&&s&&(t+="/"),i?`/${t}`:e+t},isAbsolute(t){return n(t),t=this.toPosix(t),!!this.hasProtocol(t)||t.startsWith("/")},join(...t){if(0===t.length)return".";let e;for(let i=0;i<t.length;++i){const s=t[i];if(n(s),s.length>0)if(void 0===e)e=s;else{const n=t[i-1]??"";this.extname(n)?e+=`/../${s}`:e+=`/${s}`}}return void 0===e?".":this.normalize(e)},dirname(t){if(n(t),0===t.length)return".";let e=(t=this.toPosix(t)).charCodeAt(0);const i=47===e;let s=-1,r=!0;const a=this.getProtocol(t),o=t;for(let i=(t=t.slice(a.length)).length-1;i>=1;--i)if(e=t.charCodeAt(i),47===e){if(!r){s=i;break}}else r=!1;return-1===s?i?"/":this.isUrl(o)?a+t:a:i&&1===s?"//":a+t.slice(0,s)},rootname(t){n(t);let e="";if(e=(t=this.toPosix(t)).startsWith("/")?"/":this.getProtocol(t),this.isUrl(t)){const i=t.indexOf("/",e.length);e=-1!==i?t.slice(0,i):t,e.endsWith("/")||(e+="/")}return e},basename(t,e){n(t),e&&n(e),t=r(this.toPosix(t));let i,s=0,a=-1,o=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let n=e.length-1,r=-1;for(i=t.length-1;i>=0;--i){const h=t.charCodeAt(i);if(47===h){if(!o){s=i+1;break}}else-1===r&&(o=!1,r=i+1),n>=0&&(h===e.charCodeAt(n)?-1==--n&&(a=i):(n=-1,a=r))}return s===a?a=r:-1===a&&(a=t.length),t.slice(s,a)}for(i=t.length-1;i>=0;--i)if(47===t.charCodeAt(i)){if(!o){s=i+1;break}}else-1===a&&(o=!1,a=i+1);return-1===a?"":t.slice(s,a)},extname(t){n(t);let e=-1,i=0,s=-1,a=!0,o=0;for(let n=(t=r(this.toPosix(t))).length-1;n>=0;--n){const r=t.charCodeAt(n);if(47!==r)-1===s&&(a=!1,s=n+1),46===r?-1===e?e=n:1!==o&&(o=1):-1!==e&&(o=-1);else if(!a){i=n+1;break}}return-1===e||-1===s||0===o||1===o&&e===s-1&&e===i+1?"":t.slice(e,s)},parse(t){n(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;let i=(t=r(this.toPosix(t))).charCodeAt(0);const s=this.isAbsolute(t);let a;e.root=this.rootname(t),a=s||this.hasProtocol(t)?1:0;let o=-1,h=0,l=-1,d=!0,u=t.length-1,c=0;for(;u>=a;--u)if(i=t.charCodeAt(u),47!==i)-1===l&&(d=!1,l=u+1),46===i?-1===o?o=u:1!==c&&(c=1):-1!==o&&(c=-1);else if(!d){h=u+1;break}return-1===o||-1===l||0===c||1===c&&o===l-1&&o===h+1?-1!==l&&(e.base=e.name=0===h&&s?t.slice(1,l):t.slice(h,l)):(0===h&&s?(e.name=t.slice(1,o),e.base=t.slice(1,l)):(e.name=t.slice(h,o),e.base=t.slice(h,l)),e.ext=t.slice(o,l)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};e.path=a},70335:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(82101);s.settings.RETINA_PREFIX=/@([0-9\.]+)x/,s.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,Object.defineProperty(e,"settings",{enumerable:!0,get:function(){return s.settings}})},17090:()=>{},41913:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(8575);const n={parse:s.parse,format:s.format,resolve:s.resolve};e.url=n},96872:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i={grad:.9,turn:360,rad:360/(2*Math.PI)},s=function(t){return"string"==typeof t?t.length>0:"number"==typeof t},n=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=Math.pow(10,e)),Math.round(i*t)/i+0},r=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=1),t>i?i:t>e?t:e},a=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},o=function(t){return{r:r(t.r,0,255),g:r(t.g,0,255),b:r(t.b,0,255),a:r(t.a)}},h=function(t){return{r:n(t.r),g:n(t.g),b:n(t.b),a:n(t.a,3)}},l=/^#([0-9a-f]{3,8})$/i,d=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},u=function(t){var e=t.r,i=t.g,s=t.b,n=t.a,r=Math.max(e,i,s),a=r-Math.min(e,i,s),o=a?r===e?(i-s)/a:r===i?2+(s-e)/a:4+(e-i)/a:0;return{h:60*(o<0?o+6:o),s:r?a/r*100:0,v:r/255*100,a:n}},c=function(t){var e=t.h,i=t.s,s=t.v,n=t.a;e=e/360*6,i/=100,s/=100;var r=Math.floor(e),a=s*(1-i),o=s*(1-(e-r)*i),h=s*(1-(1-e+r)*i),l=r%6;return{r:255*[s,o,a,a,h,s][l],g:255*[h,s,s,o,a,a][l],b:255*[a,a,h,s,s,o][l],a:n}},p=function(t){return{h:a(t.h),s:r(t.s,0,100),l:r(t.l,0,100),a:r(t.a)}},m=function(t){return{h:n(t.h),s:n(t.s),l:n(t.l),a:n(t.a,3)}},f=function(t){return c((i=(e=t).s,{h:e.h,s:(i*=((s=e.l)<50?s:100-s)/100)>0?2*i/(s+i)*100:0,v:s+i,a:e.a}));var e,i,s},g=function(t){return{h:(e=u(t)).h,s:(n=(200-(i=e.s))*(s=e.v)/100)>0&&n<200?i*s/100/(n<=100?n:200-n)*100:0,l:n/2,a:e.a};var e,i,s,n},y=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,x=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,b=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v={string:[[function(t){var e=l.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:4===t.length?n(parseInt(t[3]+t[3],16)/255,2):1}:6===t.length||8===t.length?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:8===t.length?n(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=_.exec(t)||b.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:o({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:void 0===e[7]?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=y.exec(t)||x.exec(t);if(!e)return null;var s,n,r=p({h:(s=e[1],n=e[2],void 0===n&&(n="deg"),Number(s)*(i[n]||1)),s:Number(e[3]),l:Number(e[4]),a:void 0===e[5]?1:Number(e[5])/(e[6]?100:1)});return f(r)},"hsl"]],object:[[function(t){var e=t.r,i=t.g,n=t.b,r=t.a,a=void 0===r?1:r;return s(e)&&s(i)&&s(n)?o({r:Number(e),g:Number(i),b:Number(n),a:Number(a)}):null},"rgb"],[function(t){var e=t.h,i=t.s,n=t.l,r=t.a,a=void 0===r?1:r;if(!s(e)||!s(i)||!s(n))return null;var o=p({h:Number(e),s:Number(i),l:Number(n),a:Number(a)});return f(o)},"hsl"],[function(t){var e=t.h,i=t.s,n=t.v,o=t.a,h=void 0===o?1:o;if(!s(e)||!s(i)||!s(n))return null;var l=function(t){return{h:a(t.h),s:r(t.s,0,100),v:r(t.v,0,100),a:r(t.a)}}({h:Number(e),s:Number(i),v:Number(n),a:Number(h)});return c(l)},"hsv"]]},S=function(t,e){for(var i=0;i<e.length;i++){var s=e[i][0](t);if(s)return[s,e[i][1]]}return[null,void 0]},T=function(t){return"string"==typeof t?S(t.trim(),v.string):"object"==typeof t&&null!==t?S(t,v.object):[null,void 0]},w=function(t,e){var i=g(t);return{h:i.h,s:r(i.s+100*e,0,100),l:i.l,a:i.a}},E=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},C=function(t,e){var i=g(t);return{h:i.h,s:i.s,l:r(i.l+100*e,0,100),a:i.a}},A=function(){function t(t){this.parsed=T(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return null!==this.parsed},t.prototype.brightness=function(){return n(E(this.rgba),2)},t.prototype.isDark=function(){return E(this.rgba)<.5},t.prototype.isLight=function(){return E(this.rgba)>=.5},t.prototype.toHex=function(){return e=(t=h(this.rgba)).r,i=t.g,s=t.b,a=(r=t.a)<1?d(n(255*r)):"","#"+d(e)+d(i)+d(s)+a;var t,e,i,s,r,a},t.prototype.toRgb=function(){return h(this.rgba)},t.prototype.toRgbString=function(){return e=(t=h(this.rgba)).r,i=t.g,s=t.b,(n=t.a)<1?"rgba("+e+", "+i+", "+s+", "+n+")":"rgb("+e+", "+i+", "+s+")";var t,e,i,s,n},t.prototype.toHsl=function(){return m(g(this.rgba))},t.prototype.toHslString=function(){return e=(t=m(g(this.rgba))).h,i=t.s,s=t.l,(n=t.a)<1?"hsla("+e+", "+i+"%, "+s+"%, "+n+")":"hsl("+e+", "+i+"%, "+s+"%)";var t,e,i,s,n},t.prototype.toHsv=function(){return t=u(this.rgba),{h:n(t.h),s:n(t.s),v:n(t.v),a:n(t.a,3)};var t},t.prototype.invert=function(){return M({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},t.prototype.saturate=function(t){return void 0===t&&(t=.1),M(w(this.rgba,t))},t.prototype.desaturate=function(t){return void 0===t&&(t=.1),M(w(this.rgba,-t))},t.prototype.grayscale=function(){return M(w(this.rgba,-1))},t.prototype.lighten=function(t){return void 0===t&&(t=.1),M(C(this.rgba,t))},t.prototype.darken=function(t){return void 0===t&&(t=.1),M(C(this.rgba,-t))},t.prototype.rotate=function(t){return void 0===t&&(t=15),this.hue(this.hue()+t)},t.prototype.alpha=function(t){return"number"==typeof t?M({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):n(this.rgba.a,3);var e},t.prototype.hue=function(t){var e=g(this.rgba);return"number"==typeof t?M({h:t,s:e.s,l:e.l,a:e.a}):n(e.h)},t.prototype.isEqual=function(t){return this.toHex()===M(t).toHex()},t}(),M=function(t){return t instanceof A?t:new A(t)},P=[];e.Colord=A,e.colord=M,e.extend=function(t){t.forEach((function(t){P.indexOf(t)<0&&(t(A,v),P.push(t))}))},e.getFormat=function(t){return T(t)[1]},e.random=function(){return new A({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}},12121:t=>{t.exports=function(t,e){var i={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var n in i)s[i[n]]=n;var r={};t.prototype.toName=function(e){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var n,a,o=s[this.toHex()];if(o)return o;if(null==e?void 0:e.closest){var h=this.toRgb(),l=1/0,d="black";if(!r.length)for(var u in i)r[u]=new t(i[u]).toRgb();for(var c in i){var p=(n=h,a=r[c],Math.pow(n.r-a.r,2)+Math.pow(n.g-a.g,2)+Math.pow(n.b-a.b,2));p<l&&(l=p,d=c)}return d}},e.string.push([function(e){var s=e.toLowerCase(),n="transparent"===s?"#0000":i[s];return n?new t(n).toRgb():null},"name"])}},9187:t=>{"use strict";function e(t,e,s){s=s||2;var r,a,o,h,u,c,m,f=e&&e.length,g=f?e[0]*s:t.length,y=i(t,0,g,s,!0),x=[];if(!y||y.next===y.prev)return x;if(f&&(y=function(t,e,s,n){var r,a,o,h=[];for(r=0,a=e.length;r<a;r++)(o=i(t,e[r]*n,r<a-1?e[r+1]*n:t.length,n,!1))===o.next&&(o.steiner=!0),h.push(p(o));for(h.sort(l),r=0;r<h.length;r++)s=d(h[r],s);return s}(t,e,y,s)),t.length>80*s){r=o=t[0],a=h=t[1];for(var _=s;_<g;_+=s)(u=t[_])<r&&(r=u),(c=t[_+1])<a&&(a=c),u>o&&(o=u),c>h&&(h=c);m=0!==(m=Math.max(o-r,h-a))?32767/m:0}return n(y,x,s,r,a,m,0),x}function i(t,e,i,s,n){var r,a;if(n===C(t,e,i,s)>0)for(r=e;r<i;r+=s)a=T(r,t[r],t[r+1],a);else for(r=i-s;r>=e;r-=s)a=T(r,t[r],t[r+1],a);return a&&y(a,a.next)&&(w(a),a=a.next),a}function s(t,e){if(!t)return t;e||(e=t);var i,s=t;do{if(i=!1,s.steiner||!y(s,s.next)&&0!==g(s.prev,s,s.next))s=s.next;else{if(w(s),(s=e=s.prev)===s.next)break;i=!0}}while(i||s!==e);return e}function n(t,e,i,l,d,u,p){if(t){!p&&u&&function(t,e,i,s){var n=t;do{0===n.z&&(n.z=c(n.x,n.y,e,i,s)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,s,n,r,a,o,h,l=1;do{for(i=t,t=null,r=null,a=0;i;){for(a++,s=i,o=0,e=0;e<l&&(o++,s=s.nextZ);e++);for(h=l;o>0||h>0&&s;)0!==o&&(0===h||!s||i.z<=s.z)?(n=i,i=i.nextZ,o--):(n=s,s=s.nextZ,h--),r?r.nextZ=n:t=n,n.prevZ=r,r=n;i=s}r.nextZ=null,l*=2}while(a>1)}(n)}(t,l,d,u);for(var m,f,g=t;t.prev!==t.next;)if(m=t.prev,f=t.next,u?a(t,l,d,u):r(t))e.push(m.i/i|0),e.push(t.i/i|0),e.push(f.i/i|0),w(t),t=f.next,g=f.next;else if((t=f)===g){p?1===p?n(t=o(s(t),e,i),e,i,l,d,u,2):2===p&&h(t,e,i,l,d,u):n(s(t),e,i,l,d,u,1);break}}}function r(t){var e=t.prev,i=t,s=t.next;if(g(e,i,s)>=0)return!1;for(var n=e.x,r=i.x,a=s.x,o=e.y,h=i.y,l=s.y,d=n<r?n<a?n:a:r<a?r:a,u=o<h?o<l?o:l:h<l?h:l,c=n>r?n>a?n:a:r>a?r:a,p=o>h?o>l?o:l:h>l?h:l,f=s.next;f!==e;){if(f.x>=d&&f.x<=c&&f.y>=u&&f.y<=p&&m(n,o,r,h,a,l,f.x,f.y)&&g(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function a(t,e,i,s){var n=t.prev,r=t,a=t.next;if(g(n,r,a)>=0)return!1;for(var o=n.x,h=r.x,l=a.x,d=n.y,u=r.y,p=a.y,f=o<h?o<l?o:l:h<l?h:l,y=d<u?d<p?d:p:u<p?u:p,x=o>h?o>l?o:l:h>l?h:l,_=d>u?d>p?d:p:u>p?u:p,b=c(f,y,e,i,s),v=c(x,_,e,i,s),S=t.prevZ,T=t.nextZ;S&&S.z>=b&&T&&T.z<=v;){if(S.x>=f&&S.x<=x&&S.y>=y&&S.y<=_&&S!==n&&S!==a&&m(o,d,h,u,l,p,S.x,S.y)&&g(S.prev,S,S.next)>=0)return!1;if(S=S.prevZ,T.x>=f&&T.x<=x&&T.y>=y&&T.y<=_&&T!==n&&T!==a&&m(o,d,h,u,l,p,T.x,T.y)&&g(T.prev,T,T.next)>=0)return!1;T=T.nextZ}for(;S&&S.z>=b;){if(S.x>=f&&S.x<=x&&S.y>=y&&S.y<=_&&S!==n&&S!==a&&m(o,d,h,u,l,p,S.x,S.y)&&g(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;T&&T.z<=v;){if(T.x>=f&&T.x<=x&&T.y>=y&&T.y<=_&&T!==n&&T!==a&&m(o,d,h,u,l,p,T.x,T.y)&&g(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function o(t,e,i){var n=t;do{var r=n.prev,a=n.next.next;!y(r,a)&&x(r,n,n.next,a)&&v(r,a)&&v(a,r)&&(e.push(r.i/i|0),e.push(n.i/i|0),e.push(a.i/i|0),w(n),w(n.next),n=t=a),n=n.next}while(n!==t);return s(n)}function h(t,e,i,r,a,o){var h=t;do{for(var l=h.next.next;l!==h.prev;){if(h.i!==l.i&&f(h,l)){var d=S(h,l);return h=s(h,h.next),d=s(d,d.next),n(h,e,i,r,a,o,0),void n(d,e,i,r,a,o,0)}l=l.next}h=h.next}while(h!==t)}function l(t,e){return t.x-e.x}function d(t,e){var i=function(t,e){var i,s=e,n=t.x,r=t.y,a=-1/0;do{if(r<=s.y&&r>=s.next.y&&s.next.y!==s.y){var o=s.x+(r-s.y)*(s.next.x-s.x)/(s.next.y-s.y);if(o<=n&&o>a&&(a=o,i=s.x<s.next.x?s:s.next,o===n))return i}s=s.next}while(s!==e);if(!i)return null;var h,l=i,d=i.x,c=i.y,p=1/0;s=i;do{n>=s.x&&s.x>=d&&n!==s.x&&m(r<c?n:a,r,d,c,r<c?a:n,r,s.x,s.y)&&(h=Math.abs(r-s.y)/(n-s.x),v(s,t)&&(h<p||h===p&&(s.x>i.x||s.x===i.x&&u(i,s)))&&(i=s,p=h)),s=s.next}while(s!==l);return i}(t,e);if(!i)return e;var n=S(i,t);return s(n,n.next),s(i,i.next)}function u(t,e){return g(t.prev,t,e.prev)<0&&g(e.next,t,t.next)<0}function c(t,e,i,s,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*n|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-s)*n|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function m(t,e,i,s,n,r,a,o){return(n-a)*(e-o)>=(t-a)*(r-o)&&(t-a)*(s-o)>=(i-a)*(e-o)&&(i-a)*(r-o)>=(n-a)*(s-o)}function f(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&x(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(v(t,e)&&v(e,t)&&function(t,e){var i=t,s=!1,n=(t.x+e.x)/2,r=(t.y+e.y)/2;do{i.y>r!=i.next.y>r&&i.next.y!==i.y&&n<(i.next.x-i.x)*(r-i.y)/(i.next.y-i.y)+i.x&&(s=!s),i=i.next}while(i!==t);return s}(t,e)&&(g(t.prev,t,e.prev)||g(t,e.prev,e))||y(t,e)&&g(t.prev,t,t.next)>0&&g(e.prev,e,e.next)>0)}function g(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function y(t,e){return t.x===e.x&&t.y===e.y}function x(t,e,i,s){var n=b(g(t,e,i)),r=b(g(t,e,s)),a=b(g(i,s,t)),o=b(g(i,s,e));return n!==r&&a!==o||(!(0!==n||!_(t,i,e))||(!(0!==r||!_(t,s,e))||(!(0!==a||!_(i,t,s))||!(0!==o||!_(i,e,s)))))}function _(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function b(t){return t>0?1:t<0?-1:0}function v(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function S(t,e){var i=new E(t.i,t.x,t.y),s=new E(e.i,e.x,e.y),n=t.next,r=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,s.next=i,i.prev=s,r.next=s,s.prev=r,s}function T(t,e,i,s){var n=new E(t,e,i);return s?(n.next=s.next,n.prev=s,s.next.prev=n,s.next=n):(n.prev=n,n.next=n),n}function w(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(t,e,i,s){for(var n=0,r=e,a=i-s;r<i;r+=s)n+=(t[a]-t[r])*(t[r+1]+t[a+1]),a=r;return n}t.exports=e,t.exports.default=e,e.deviation=function(t,e,i,s){var n=e&&e.length,r=n?e[0]*i:t.length,a=Math.abs(C(t,0,r,i));if(n)for(var o=0,h=e.length;o<h;o++){var l=e[o]*i,d=o<h-1?e[o+1]*i:t.length;a-=Math.abs(C(t,l,d,i))}var u=0;for(o=0;o<s.length;o+=3){var c=s[o]*i,p=s[o+1]*i,m=s[o+2]*i;u+=Math.abs((t[c]-t[m])*(t[p+1]-t[c+1])-(t[c]-t[p])*(t[m+1]-t[c+1]))}return 0===a&&0===u?0:Math.abs((u-a)/a)},e.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},s=0,n=0;n<t.length;n++){for(var r=0;r<t[n].length;r++)for(var a=0;a<e;a++)i.vertices.push(t[n][r][a]);n>0&&(s+=t[n-1].length,i.holes.push(s))}return i}},26729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,i="~";function s(){}function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(t,e,s,r,a){if("function"!=typeof s)throw new TypeError("The listener must be a function");var o=new n(s,r||t,a),h=i?i+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],o]:t._events[h].push(o):(t._events[h]=o,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new s:delete t._events[e]}function o(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(i=!1)),o.prototype.eventNames=function(){var t,s,n=[];if(0===this._eventsCount)return n;for(s in t=this._events)e.call(t,s)&&n.push(i?s.slice(1):s);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},o.prototype.listeners=function(t){var e=i?i+t:t,s=this._events[e];if(!s)return[];if(s.fn)return[s.fn];for(var n=0,r=s.length,a=new Array(r);n<r;n++)a[n]=s[n].fn;return a},o.prototype.listenerCount=function(t){var e=i?i+t:t,s=this._events[e];return s?s.fn?1:s.length:0},o.prototype.emit=function(t,e,s,n,r,a){var o=i?i+t:t;if(!this._events[o])return!1;var h,l,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(t,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,e),!0;case 3:return d.fn.call(d.context,e,s),!0;case 4:return d.fn.call(d.context,e,s,n),!0;case 5:return d.fn.call(d.context,e,s,n,r),!0;case 6:return d.fn.call(d.context,e,s,n,r,a),!0}for(l=1,h=new Array(u-1);l<u;l++)h[l-1]=arguments[l];d.fn.apply(d.context,h)}else{var c,p=d.length;for(l=0;l<p;l++)switch(d[l].once&&this.removeListener(t,d[l].fn,void 0,!0),u){case 1:d[l].fn.call(d[l].context);break;case 2:d[l].fn.call(d[l].context,e);break;case 3:d[l].fn.call(d[l].context,e,s);break;case 4:d[l].fn.call(d[l].context,e,s,n);break;default:if(!h)for(c=1,h=new Array(u-1);c<u;c++)h[c-1]=arguments[c];d[l].fn.apply(d[l].context,h)}}return!0},o.prototype.on=function(t,e,i){return r(this,t,e,i,!1)},o.prototype.once=function(t,e,i){return r(this,t,e,i,!0)},o.prototype.removeListener=function(t,e,s,n){var r=i?i+t:t;if(!this._events[r])return this;if(!e)return a(this,r),this;var o=this._events[r];if(o.fn)o.fn!==e||n&&!o.once||s&&o.context!==s||a(this,r);else{for(var h=0,l=[],d=o.length;h<d;h++)(o[h].fn!==e||n&&!o[h].once||s&&o[h].context!==s)&&l.push(o[h]);l.length?this._events[r]=1===l.length?l[0]:l:a(this,r)}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&a(this,e)):(this._events=new s,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=i,o.EventEmitter=o,t.exports=o},34607:(t,e,i)=>{"use strict";i.r(e),i.d(e,{PixiPlugin:()=>W,default:()=>W});var s,n,r,a,o,h,l,d,u,c=function(){return"undefined"!=typeof window},p=function(){return s||c()&&(s=window.gsap)&&s.registerPlugin&&s},m=function(t){return"function"==typeof t},f=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],g=.212671,y=.71516,x=.072169,_=function(t,e){var i,s,n=[],r=0,a=0;for(i=0;i<4;i++){for(s=0;s<5;s++)a=4===s?t[r+4]:0,n[r+s]=t[r]*e[s]+t[r+1]*e[s+5]+t[r+2]*e[s+10]+t[r+3]*e[s+15]+a;r+=5}return n},b=function(t,e){var i=1-e,s=i*g,n=i*y,r=i*x;return _([s+e,n,r,0,0,s,n+e,r,0,0,s,n,r+e,0,0,0,0,0,1,0],t)},v=function(t,e,i){var s=r(e),n=s[0]/255,a=s[1]/255,o=s[2]/255,h=1-i;return _([h+i*n*g,i*n*y,i*n*x,0,0,i*a*g,h+i*a*y,i*a*x,0,0,i*o*g,i*o*y,h+i*o*x,0,0,0,0,0,1,0],t)},S=function(t,e){e*=Math.PI/180;var i=Math.cos(e),s=Math.sin(e);return _([g+i*(1-g)+s*-g,y+i*-y+s*-y,x+i*-x+s*(1-x),0,0,g+i*-g+.143*s,y+.28484*i+.14*s,x+i*-x+-.283*s,0,0,g+i*-g+-.787329*s,y+i*-y+s*y,x+i*(1-x)+s*x,0,0,0,0,0,1,0,0,0,0,0,1],t)},T=function(t,e){return _([e,0,0,0,.5*(1-e),0,e,0,0,.5*(1-e),0,0,e,0,.5*(1-e),0,0,0,1,0],t)},w=function(t,e){var i,s,n=a.filters[e],r=t.filters||[],o=r.length;for(n||(s=e+" not found. PixiPlugin.registerPIXI(PIXI)",console.warn(s));--o>-1;)if(r[o]instanceof n)return r[o];return i=new n,"BlurFilter"===e&&(i.blur=0),r.push(i),t.filters=r,i},E=function(t,e,i,s){e.add(i,t,i[t],s[t]),e._props.push(t)},C=function(t,e){var i=new a.filters.ColorMatrixFilter;return i.matrix=e,i.brightness(t,!0),i.matrix},A={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},M=function(t,e,i){var s,n,r,a=w(t,"ColorMatrixFilter"),o=t._gsColorMatrixFilter=t._gsColorMatrixFilter||function(t){var e,i={};for(e in t)i[e]=t[e];return i}(A),h=e.combineCMF&&!("colorMatrixFilter"in e&&!e.colorMatrixFilter);r=a.matrix,e.resolution&&(a.resolution=e.resolution),e.matrix&&e.matrix.length===r.length?(n=e.matrix,1!==o.contrast&&E("contrast",i,o,A),o.hue&&E("hue",i,o,A),1!==o.brightness&&E("brightness",i,o,A),o.colorizeAmount&&(E("colorize",i,o,A),E("colorizeAmount",i,o,A)),1!==o.saturation&&E("saturation",i,o,A)):(n=f.slice(),null!=e.contrast?(n=T(n,+e.contrast),E("contrast",i,o,e)):1!==o.contrast&&(h?n=T(n,o.contrast):E("contrast",i,o,A)),null!=e.hue?(n=S(n,+e.hue),E("hue",i,o,e)):o.hue&&(h?n=S(n,o.hue):E("hue",i,o,A)),null!=e.brightness?(n=C(+e.brightness,n),E("brightness",i,o,e)):1!==o.brightness&&(h?n=C(o.brightness,n):E("brightness",i,o,A)),null!=e.colorize?(e.colorizeAmount="colorizeAmount"in e?+e.colorizeAmount:1,n=v(n,e.colorize,e.colorizeAmount),E("colorize",i,o,e),E("colorizeAmount",i,o,e)):o.colorizeAmount&&(h?n=v(n,o.colorize,o.colorizeAmount):(E("colorize",i,o,A),E("colorizeAmount",i,o,A))),null!=e.saturation?(n=b(n,+e.saturation),E("saturation",i,o,e)):1!==o.saturation&&(h?n=b(n,o.saturation):E("saturation",i,o,A))),s=n.length;for(;--s>-1;)n[s]!==r[s]&&i.add(r,s,r[s],n[s],"colorMatrixFilter");i._props.push("colorMatrixFilter")},P=function(t,e){var i=e.t,s=e.p,n=e.color;(0,e.set)(i,s,n[0]<<16|n[1]<<8|n[2])},B=function(t,e){var i=e.g;i&&(i.dirty++,i.clearDirty++)},R=function(t,e){e.t.visible=!!e.t.alpha},I=function(t,e,i,s){var n=t[e],a=r(m(n)?t[e.indexOf("set")||!m(t["get"+e.substr(3)])?e:"get"+e.substr(3)]():n),l=r(i);s._pt=new o(s._pt,t,e,0,0,P,{t,p:e,color:a,set:h(t,e)}),s.add(a,0,a[0],l[0]),s.add(a,1,a[1],l[1]),s.add(a,2,a[2],l[2])},k={tint:1,lineColor:1,fillColor:1},O="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),D={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},F={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},L=Math.PI/180,N=function(t){return"string"==typeof t},U=function(t){return N(t)&&"="===t.charAt(1)?t.substr(0,2)+parseFloat(t.substr(2))*L:t*L},G=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e5*(e.s+e.c*t))/1e5,e)},V=function(t,e,i,s,n,r){var a,h,l=360*(r?L:1),d=N(n),u=d&&"="===n.charAt(1)?+(n.charAt(0)+"1"):0,c=parseFloat(u?n.substr(2):n)*(r?L:1),p=u?c*u:c-s,m=s+p;return d&&("short"===(a=n.split("_")[1])&&(p%=l)!==p%(l/2)&&(p+=p<0?l:-l),"cw"===a&&p<0?p=(p+1e10*l)%l-~~(p/l)*l:"ccw"===a&&p>0&&(p=(p-1e10*l)%l-~~(p/l)*l)),t._pt=h=new o(t._pt,e,i,s,p,G),h.e=m,h},j=function(){c()&&(n=window,s=p(),a=a||n.PIXI,l=a&&a.VERSION&&"4"===a.VERSION.charAt(0),r=function(t){return s.utils.splitColor("0x"===(t+"").substr(0,2)?"#"+t.substr(2):t)})};for(d=0;d<O.length;d++)u=O[d],D[u+"X"]=u,D[u+"Y"]=u;var W={version:"3.11.5",name:"pixi",register:function(t,e,i){s=t,o=i,h=e.getSetter,j()},registerPIXI:function(t){a=t},init:function(t,e,i,s,n){if(a||j(),!(a&&t instanceof a.DisplayObject))return console.warn(t,"is not a DisplayObject or PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var r,h,d,u,c,p,m,f,g;for(p in e){if(r=D[p],d=e[p],r)h=~p.charAt(p.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(t[r],h,t[r][h],"skew"===r?U(d):d,0,0,0,0,0,1);else if("scale"===p||"anchor"===p||"pivot"===p||"tileScale"===p)this.add(t[p],"x",t[p].x,d),this.add(t[p],"y",t[p].y,d);else if("rotation"===p||"angle"===p)V(this,t,p,t[p],d,"rotation"===p);else if(F[p])u||(M(t,e.colorMatrixFilter||e,this),u=!0);else if("blur"===p||"blurX"===p||"blurY"===p||"blurPadding"===p){if(c=w(t,"BlurFilter"),this.add(c,p,c[p],d),0!==e.blurPadding)for(m=e.blurPadding||2*Math.max(c[p],d),f=t.filters.length;--f>-1;)t.filters[f].padding=Math.max(t.filters[f].padding,m)}else if(k[p])if(("lineColor"===p||"fillColor"===p)&&t instanceof a.Graphics)for(g=(t.geometry||t).graphicsData,this._pt=new o(this._pt,t,p,0,0,B,{g:t.geometry||t}),f=g.length;--f>-1;)I(l?g[f]:g[f][p.substr(0,4)+"Style"],l?p:"color",d,this);else I(t,p,d,this);else"autoAlpha"===p?(this._pt=new o(this._pt,t,"visible",0,0,R),this.add(t,"alpha",t.alpha,d),this._props.push("alpha","visible")):"resolution"!==p&&this.add(t,p,"get",d);this._props.push(p)}}};p()&&s.registerPlugin(W)},66358:(t,e,i)=>{"use strict";function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}i.r(e),i.d(e,{Back:()=>Xi,Bounce:()=>$i,CSSPlugin:()=>dn,Circ:()=>Ki,Cubic:()=>Gi,Elastic:()=>Yi,Expo:()=>qi,Linear:()=>Ni,Power0:()=>ki,Power1:()=>Oi,Power2:()=>Di,Power3:()=>Fi,Power4:()=>Li,Quad:()=>Ui,Quart:()=>Vi,Quint:()=>ji,Sine:()=>zi,SteppedEase:()=>Hi,Strong:()=>Wi,TimelineLite:()=>Ve,TimelineMax:()=>Ve,TweenLite:()=>Je,TweenMax:()=>cn,default:()=>un,gsap:()=>un});var r,a,o,h,l,d,u,c,p,m,f,g,y,x,_,b={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},v={duration:.5,overwrite:!1,delay:0},S=1e8,T=1e-8,w=2*Math.PI,E=w/4,C=0,A=Math.sqrt,M=Math.cos,P=Math.sin,B=function(t){return"string"==typeof t},R=function(t){return"function"==typeof t},I=function(t){return"number"==typeof t},k=function(t){return void 0===t},O=function(t){return"object"==typeof t},D=function(t){return!1!==t},F=function(){return"undefined"!=typeof window},L=function(t){return R(t)||B(t)},N="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},U=Array.isArray,G=/(?:-?\.?\d|\.)+/gi,V=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,j=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,W=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Y=/[+-]=-?[.\d]+/,X=/[^,'"\[\]\s]+/gi,H=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,$={},z={},q=function(t){return(z=wt(t,$))&&wi},K=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},Z=function(t,e){return!e&&console.warn(t)},J=function(t,e){return t&&($[t]=e)&&z&&(z[t]=e)||$},Q=function(){return 0},tt={suppressEvents:!0,isStart:!0,kill:!1},et={suppressEvents:!0,kill:!1},it={suppressEvents:!0},st={},nt=[],rt={},at={},ot={},ht=30,lt=[],dt="",ut=function(t){var e,i,s=t[0];if(O(s)||R(s)||(t=[t]),!(e=(s._gsap||{}).harness)){for(i=lt.length;i--&&!lt[i].targetTest(s););e=lt[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new Ue(t[i],e)))||t.splice(i,1);return t},ct=function(t){return t._gsap||ut(ie(t))[0]._gsap},pt=function(t,e,i){return(i=t[e])&&R(i)?t[e]():k(i)&&t.getAttribute&&t.getAttribute(e)||i},mt=function(t,e){return(t=t.split(",")).forEach(e)||t},ft=function(t){return Math.round(1e5*t)/1e5||0},gt=function(t){return Math.round(1e7*t)/1e7||0},yt=function(t,e){var i=e.charAt(0),s=parseFloat(e.substr(2));return t=parseFloat(t),"+"===i?t+s:"-"===i?t-s:"*"===i?t*s:t/s},xt=function(t,e){for(var i=e.length,s=0;t.indexOf(e[s])<0&&++s<i;);return s<i},_t=function(){var t,e,i=nt.length,s=nt.slice(0);for(rt={},nt.length=0,t=0;t<i;t++)(e=s[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},bt=function(t,e,i,s){nt.length&&!a&&_t(),t.render(e,i,s||a&&e<0&&(t._initted||t._startAt)),nt.length&&!a&&_t()},vt=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(X).length<2?e:B(t)?t.trim():t},St=function(t){return t},Tt=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},wt=function(t,e){for(var i in e)t[i]=e[i];return t},Et=function t(e,i){for(var s in i)"__proto__"!==s&&"constructor"!==s&&"prototype"!==s&&(e[s]=O(i[s])?t(e[s]||(e[s]={}),i[s]):i[s]);return e},Ct=function(t,e){var i,s={};for(i in t)i in e||(s[i]=t[i]);return s},At=function(t){var e,i=t.parent||h,s=t.keyframes?(e=U(t.keyframes),function(t,i){for(var s in i)s in t||"duration"===s&&e||"ease"===s||(t[s]=i[s])}):Tt;if(D(t.inherit))for(;i;)s(t,i.vars.defaults),i=i.parent||i._dp;return t},Mt=function(t,e,i,s,n){void 0===i&&(i="_first"),void 0===s&&(s="_last");var r,a=t[s];if(n)for(r=e[n];a&&a[n]>r;)a=a._prev;return a?(e._next=a._next,a._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[s]=e,e._prev=a,e.parent=e._dp=t,e},Pt=function(t,e,i,s){void 0===i&&(i="_first"),void 0===s&&(s="_last");var n=e._prev,r=e._next;n?n._next=r:t[i]===e&&(t[i]=r),r?r._prev=n:t[s]===e&&(t[s]=n),e._next=e._prev=e.parent=null},Bt=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},Rt=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},It=function(t,e,i,s){return t._startAt&&(a?t._startAt.revert(et):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,s))},kt=function t(e){return!e||e._ts&&t(e.parent)},Ot=function(t){return t._repeat?Dt(t._tTime,t=t.duration()+t._rDelay)*t:0},Dt=function(t,e){var i=Math.floor(t/=e);return t&&i===t?i-1:i},Ft=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Lt=function(t){return t._end=gt(t._start+(t._tDur/Math.abs(t._ts||t._rts||T)||0))},Nt=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=gt(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Lt(t),i._dirty||Rt(i,t)),t},Ut=function(t,e){var i;if((e._time||e._initted&&!e._dur)&&(i=Ft(t.rawTime(),e),(!e._dur||Zt(0,e.totalDuration(),i)-e._tTime>T)&&e.render(i,!0)),Rt(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-1e-8}},Gt=function(t,e,i,s){return e.parent&&Bt(e),e._start=gt((I(i)?i:i||t!==h?zt(t,i,e):t._time)+e._delay),e._end=gt(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Mt(t,e,"_first","_last",t._sort?"_start":0),Yt(e)||(t._recent=e),s||Ut(t,e),t._ts<0&&Nt(t,t._tTime),t},Vt=function(t,e){return($.ScrollTrigger||K("scrollTrigger",e))&&$.ScrollTrigger.create(e,t)},jt=function(t,e,i,s,n){return $e(t,e,n),t._initted?!i&&t._pt&&!a&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&p!==Ce.frame?(nt.push(t),t._lazy=[n,s],1):void 0:1},Wt=function t(e){var i=e.parent;return i&&i._ts&&i._initted&&!i._lock&&(i.rawTime()<0||t(i))},Yt=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},Xt=function(t,e,i,s){var n=t._repeat,r=gt(e)||0,a=t._tTime/t._tDur;return a&&!s&&(t._time*=r/t._dur),t._dur=r,t._tDur=n?n<0?1e10:gt(r*(n+1)+t._rDelay*n):r,a>0&&!s&&Nt(t,t._tTime=t._tDur*a),t.parent&&Lt(t),i||Rt(t.parent,t),t},Ht=function(t){return t instanceof Ve?Rt(t):Xt(t,t._dur)},$t={_start:0,endTime:Q,totalDuration:Q},zt=function t(e,i,s){var n,r,a,o=e.labels,h=e._recent||$t,l=e.duration()>=S?h.endTime(!1):e._dur;return B(i)&&(isNaN(i)||i in o)?(r=i.charAt(0),a="%"===i.substr(-1),n=i.indexOf("="),"<"===r||">"===r?(n>=0&&(i=i.replace(/=/,"")),("<"===r?h._start:h.endTime(h._repeat>=0))+(parseFloat(i.substr(1))||0)*(a?(n<0?h:s).totalDuration()/100:1)):n<0?(i in o||(o[i]=l),o[i]):(r=parseFloat(i.charAt(n-1)+i.substr(n+1)),a&&s&&(r=r/100*(U(s)?s[0]:s).totalDuration()),n>1?t(e,i.substr(0,n-1),s)+r:l+r)):null==i?l:+i},qt=function(t,e,i){var s,n,r=I(e[1]),a=(r?2:1)+(t<2?0:1),o=e[a];if(r&&(o.duration=e[1]),o.parent=i,t){for(s=o,n=i;n&&!("immediateRender"in s);)s=n.vars.defaults||{},n=D(n.vars.inherit)&&n.parent;o.immediateRender=D(s.immediateRender),t<2?o.runBackwards=1:o.startAt=e[a-1]}return new Je(e[0],o,e[a+1])},Kt=function(t,e){return t||0===t?e(t):e},Zt=function(t,e,i){return i<t?t:i>e?e:i},Jt=function(t,e){return B(t)&&(e=H.exec(t))?e[1]:""},Qt=[].slice,te=function(t,e){return t&&O(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&O(t[0]))&&!t.nodeType&&t!==l},ee=function(t,e,i){return void 0===i&&(i=[]),t.forEach((function(t){var s;return B(t)&&!e||te(t,1)?(s=i).push.apply(s,ie(t)):i.push(t)}))||i},ie=function(t,e,i){return o&&!e&&o.selector?o.selector(t):!B(t)||i||!d&&Ae()?U(t)?ee(t,i):te(t)?Qt.call(t,0):t?[t]:[]:Qt.call((e||u).querySelectorAll(t),0)},se=function(t){return t=ie(t)[0]||Z("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return ie(e,i.querySelectorAll?i:i===t?Z("Invalid scope")||u.createElement("div"):t)}},ne=function(t){return t.sort((function(){return.5-Math.random()}))},re=function(t){if(R(t))return t;var e=O(t)?t:{each:t},i=Oe(e.ease),s=e.from||0,n=parseFloat(e.base)||0,r={},a=s>0&&s<1,o=isNaN(s)||a,h=e.axis,l=s,d=s;return B(s)?l=d={center:.5,edges:.5,end:1}[s]||0:!a&&o&&(l=s[0],d=s[1]),function(t,a,u){var c,p,m,f,g,y,x,_,b,v=(u||e).length,T=r[v];if(!T){if(!(b="auto"===e.grid?0:(e.grid||[1,S])[1])){for(x=-S;x<(x=u[b++].getBoundingClientRect().left)&&b<v;);b--}for(T=r[v]=[],c=o?Math.min(b,v)*l-.5:s%b,p=b===S?0:o?v*d/b-.5:s/b|0,x=0,_=S,y=0;y<v;y++)m=y%b-c,f=p-(y/b|0),T[y]=g=h?Math.abs("y"===h?f:m):A(m*m+f*f),g>x&&(x=g),g<_&&(_=g);"random"===s&&ne(T),T.max=x-_,T.min=_,T.v=v=(parseFloat(e.amount)||parseFloat(e.each)*(b>v?v-1:h?"y"===h?v/b:b:Math.max(b,v/b))||0)*("edges"===s?-1:1),T.b=v<0?n-v:n,T.u=Jt(e.amount||e.each)||0,i=i&&v<0?Ie(i):i}return v=(T[t]-T.min)/T.max||0,gt(T.b+(i?i(v):v)*T.v)+T.u}},ae=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var s=gt(Math.round(parseFloat(i)/t)*t*e);return(s-s%1)/e+(I(i)?0:Jt(i))}},oe=function(t,e){var i,s,n=U(t);return!n&&O(t)&&(i=n=t.radius||S,t.values?(t=ie(t.values),(s=!I(t[0]))&&(i*=i)):t=ae(t.increment)),Kt(e,n?R(t)?function(e){return s=t(e),Math.abs(s-e)<=i?s:e}:function(e){for(var n,r,a=parseFloat(s?e.x:e),o=parseFloat(s?e.y:0),h=S,l=0,d=t.length;d--;)(n=s?(n=t[d].x-a)*n+(r=t[d].y-o)*r:Math.abs(t[d]-a))<h&&(h=n,l=d);return l=!i||h<=i?t[l]:e,s||l===e||I(e)?l:l+Jt(e)}:ae(t))},he=function(t,e,i,s){return Kt(U(t)?!e:!0===i?!!(i=0):!s,(function(){return U(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(s=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+.99*i))/i)*i*s)/s}))},le=function(t,e,i){return Kt(i,(function(i){return t[~~e(i)]}))},de=function(t){for(var e,i,s,n,r=0,a="";~(e=t.indexOf("random(",r));)s=t.indexOf(")",e),n="["===t.charAt(e+7),i=t.substr(e+7,s-e-7).match(n?X:G),a+=t.substr(r,e-r)+he(n?i:+i[0],n?0:+i[1],+i[2]||1e-5),r=s+1;return a+t.substr(r,t.length-r)},ue=function(t,e,i,s,n){var r=e-t,a=s-i;return Kt(n,(function(e){return i+((e-t)/r*a||0)}))},ce=function(t,e,i){var s,n,r,a=t.labels,o=S;for(s in a)(n=a[s]-e)<0==!!i&&n&&o>(n=Math.abs(n))&&(r=s,o=n);return r},pe=function(t,e,i){var s,n,r,a=t.vars,h=a[e],l=o,d=t._ctx;if(h)return s=a[e+"Params"],n=a.callbackScope||t,i&&nt.length&&_t(),d&&(o=d),r=s?h.apply(n,s):h.call(n),o=l,r},me=function(t){return Bt(t),t.scrollTrigger&&t.scrollTrigger.kill(!!a),t.progress()<1&&pe(t,"onInterrupt"),t},fe=[],ge=function(t){if(F()){var e=(t=!t.name&&t.default||t).name,i=R(t),s=e&&!i&&t.init?function(){this._props=[]}:t,n={init:Q,render:oi,add:Xe,kill:li,modifier:hi,rawVars:0},r={targetTest:0,get:0,getSetter:si,aliases:{},register:0};if(Ae(),t!==s){if(at[e])return;Tt(s,Tt(Ct(t,n),r)),wt(s.prototype,wt(n,Ct(t,r))),at[s.prop=e]=s,t.targetTest&&(lt.push(s),st[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}J(e,s),t.register&&t.register(wi,s,ci)}else fe.push(t)},ye=255,xe={aqua:[0,ye,ye],lime:[0,ye,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ye],navy:[0,0,128],white:[ye,ye,ye],olive:[128,128,0],yellow:[ye,ye,0],orange:[ye,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ye,0,0],pink:[ye,192,203],cyan:[0,ye,ye],transparent:[ye,ye,ye,0]},_e=function(t,e,i){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)*ye+.5|0},be=function(t,e,i){var s,n,r,a,o,h,l,d,u,c,p=t?I(t)?[t>>16,t>>8&ye,t&ye]:0:xe.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),xe[t])p=xe[t];else if("#"===t.charAt(0)){if(t.length<6&&(s=t.charAt(1),n=t.charAt(2),r=t.charAt(3),t="#"+s+s+n+n+r+r+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&ye,p&ye,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&ye,t&ye]}else if("hsl"===t.substr(0,3))if(p=c=t.match(G),e){if(~t.indexOf("="))return p=t.match(V),i&&p.length<4&&(p[3]=1),p}else a=+p[0]%360/360,o=+p[1]/100,s=2*(h=+p[2]/100)-(n=h<=.5?h*(o+1):h+o-h*o),p.length>3&&(p[3]*=1),p[0]=_e(a+1/3,s,n),p[1]=_e(a,s,n),p[2]=_e(a-1/3,s,n);else p=t.match(G)||xe.transparent;p=p.map(Number)}return e&&!c&&(s=p[0]/ye,n=p[1]/ye,r=p[2]/ye,h=((l=Math.max(s,n,r))+(d=Math.min(s,n,r)))/2,l===d?a=o=0:(u=l-d,o=h>.5?u/(2-l-d):u/(l+d),a=l===s?(n-r)/u+(n<r?6:0):l===n?(r-s)/u+2:(s-n)/u+4,a*=60),p[0]=~~(a+.5),p[1]=~~(100*o+.5),p[2]=~~(100*h+.5)),i&&p.length<4&&(p[3]=1),p},ve=function(t){var e=[],i=[],s=-1;return t.split(Te).forEach((function(t){var n=t.match(j)||[];e.push.apply(e,n),i.push(s+=n.length+1)})),e.c=i,e},Se=function(t,e,i){var s,n,r,a,o="",h=(t+o).match(Te),l=e?"hsla(":"rgba(",d=0;if(!h)return t;if(h=h.map((function(t){return(t=be(t,e,1))&&l+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),i&&(r=ve(t),(s=i.c).join(o)!==r.c.join(o)))for(a=(n=t.replace(Te,"1").split(j)).length-1;d<a;d++)o+=n[d]+(~s.indexOf(d)?h.shift()||l+"0,0,0,0)":(r.length?r:h.length?h:i).shift());if(!n)for(a=(n=t.split(Te)).length-1;d<a;d++)o+=n[d]+h[d];return o+n[a]},Te=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in xe)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),we=/hsl[a]?\(/,Ee=function(t){var e,i=t.join(" ");if(Te.lastIndex=0,Te.test(i))return e=we.test(i),t[1]=Se(t[1],e),t[0]=Se(t[0],e,ve(t[1])),!0},Ce=function(){var t,e,i,s,n,r,a=Date.now,o=500,h=33,p=a(),m=p,g=1e3/240,y=g,x=[],_=function i(l){var d,u,c,f,_=a()-m,b=!0===l;if(_>o&&(p+=_-h),((d=(c=(m+=_)-p)-y)>0||b)&&(f=++s.frame,n=c-1e3*s.time,s.time=c/=1e3,y+=d+(d>=g?4:g-d),u=1),b||(t=e(i)),u)for(r=0;r<x.length;r++)x[r](c,n,f,l)};return s={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(t){return n/(1e3/(t||60))},wake:function(){c&&(!d&&F()&&(l=d=window,u=l.document||{},$.gsap=wi,(l.gsapVersions||(l.gsapVersions=[])).push(wi.version),q(z||l.GreenSockGlobals||!l.gsap&&l||{}),i=l.requestAnimationFrame,fe.forEach(ge)),t&&s.sleep(),e=i||function(t){return setTimeout(t,y-1e3*s.time+1|0)},f=1,_(2))},sleep:function(){(i?l.cancelAnimationFrame:clearTimeout)(t),f=0,e=Q},lagSmoothing:function(t,e){o=t||1/0,h=Math.min(e||33,o)},fps:function(t){g=1e3/(t||240),y=1e3*s.time+g},add:function(t,e,i){var n=e?function(e,i,r,a){t(e,i,r,a),s.remove(n)}:t;return s.remove(t),x[i?"unshift":"push"](n),Ae(),n},remove:function(t,e){~(e=x.indexOf(t))&&x.splice(e,1)&&r>=e&&r--},_listeners:x}}(),Ae=function(){return!f&&Ce.wake()},Me={},Pe=/^[\d.\-M][\d.\-,\s]/,Be=/["']/g,Re=function(t){for(var e,i,s,n={},r=t.substr(1,t.length-3).split(":"),a=r[0],o=1,h=r.length;o<h;o++)i=r[o],e=o!==h-1?i.lastIndexOf(","):i.length,s=i.substr(0,e),n[a]=isNaN(s)?s.replace(Be,"").trim():+s,a=i.substr(e+1).trim();return n},Ie=function(t){return function(e){return 1-t(1-e)}},ke=function t(e,i){for(var s,n=e._first;n;)n instanceof Ve?t(n,i):!n.vars.yoyoEase||n._yoyo&&n._repeat||n._yoyo===i||(n.timeline?t(n.timeline,i):(s=n._ease,n._ease=n._yEase,n._yEase=s,n._yoyo=i)),n=n._next},Oe=function(t,e){return t&&(R(t)?t:Me[t]||function(t){var e,i,s,n,r=(t+"").split("("),a=Me[r[0]];return a&&r.length>1&&a.config?a.config.apply(null,~t.indexOf("{")?[Re(r[1])]:(e=t,i=e.indexOf("(")+1,s=e.indexOf(")"),n=e.indexOf("(",i),e.substring(i,~n&&n<s?e.indexOf(")",s+1):s)).split(",").map(vt)):Me._CE&&Pe.test(t)?Me._CE("",t):a}(t))||e},De=function(t,e,i,s){void 0===i&&(i=function(t){return 1-e(1-t)}),void 0===s&&(s=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var n,r={easeIn:e,easeOut:i,easeInOut:s};return mt(t,(function(t){for(var e in Me[t]=$[t]=r,Me[n=t.toLowerCase()]=i,r)Me[n+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Me[t+"."+e]=r[e]})),r},Fe=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Le=function t(e,i,s){var n=i>=1?i:1,r=(s||(e?.3:.45))/(i<1?i:1),a=r/w*(Math.asin(1/n)||0),o=function(t){return 1===t?1:n*Math.pow(2,-10*t)*P((t-a)*r)+1},h="out"===e?o:"in"===e?function(t){return 1-o(1-t)}:Fe(o);return r=w/r,h.config=function(i,s){return t(e,i,s)},h},Ne=function t(e,i){void 0===i&&(i=1.70158);var s=function(t){return t?--t*t*((i+1)*t+i)+1:0},n="out"===e?s:"in"===e?function(t){return 1-s(1-t)}:Fe(s);return n.config=function(i){return t(e,i)},n};mt("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var i=e<5?e+1:e;De(t+",Power"+(i-1),e?function(t){return Math.pow(t,i)}:function(t){return t},(function(t){return 1-Math.pow(1-t,i)}),(function(t){return t<.5?Math.pow(2*t,i)/2:1-Math.pow(2*(1-t),i)/2}))})),Me.Linear.easeNone=Me.none=Me.Linear.easeIn,De("Elastic",Le("in"),Le("out"),Le()),g=7.5625,x=1/(y=2.75),De("Bounce",(function(t){return 1-_(1-t)}),_=function(t){return t<x?g*t*t:t<.7272727272727273?g*Math.pow(t-1.5/y,2)+.75:t<.9090909090909092?g*(t-=2.25/y)*t+.9375:g*Math.pow(t-2.625/y,2)+.984375}),De("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),De("Circ",(function(t){return-(A(1-t*t)-1)})),De("Sine",(function(t){return 1===t?1:1-M(t*E)})),De("Back",Ne("in"),Ne("out"),Ne()),Me.SteppedEase=Me.steps=$.SteppedEase={config:function(t,e){void 0===t&&(t=1);var i=1/t,s=t+(e?0:1),n=e?1:0;return function(t){return((s*Zt(0,.99999999,t)|0)+n)*i}}},v.ease=Me["quad.out"],mt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return dt+=t+","+t+"Params,"}));var Ue=function(t,e){this.id=C++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:pt,this.set=e?e.getSetter:si},Ge=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Xt(this,+t.duration,1,1),this.data=t.data,o&&(this._ctx=o,o.data.push(this)),f||Ce.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Xt(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Ae(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(Nt(this,t),!i._dp||i.parent||Ut(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Gt(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===T||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),bt(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Ot(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Ot(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*i,e):this._repeat?Dt(this._tTime,i)+1:1},e.timeScale=function(t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?Ft(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime(Zt(-Math.abs(this._delay),this._tDur,e),!0),Lt(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ae(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==T&&(this._tTime-=T)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&Gt(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(D(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ft(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=it);var e=a;return a=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),a=e,this},e.globalTime=function(t){for(var e=this,i=arguments.length?t:e.rawTime();e;)i=e._start+i/(e._ts||1),e=e._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(t):i},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Ht(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,Ht(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(zt(this,t),D(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,D(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,i=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<this.endTime(!0)-T))},e.eventCallback=function(t,e,i){var s=this.vars;return arguments.length>1?(e?(s[t]=e,i&&(s[t+"Params"]=i),"onUpdate"===t&&(this._onUpdate=e)):delete s[t],this):s[t]},e.then=function(t){var e=this;return new Promise((function(i){var s=R(t)?t:St,n=function(){var t=e.then;e.then=null,R(s)&&(s=s(e))&&(s.then||s===e)&&(e.then=t),i(s),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?n():e._prom=n}))},e.kill=function(){me(this)},t}();Tt(Ge.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Ve=function(t){function e(e,i){var n;return void 0===e&&(e={}),(n=t.call(this,e)||this).labels={},n.smoothChildTiming=!!e.smoothChildTiming,n.autoRemoveChildren=!!e.autoRemoveChildren,n._sort=D(e.sortChildren),h&&Gt(e.parent||h,s(n),i),e.reversed&&n.reverse(),e.paused&&n.paused(!0),e.scrollTrigger&&Vt(s(n),e.scrollTrigger),n}n(e,t);var i=e.prototype;return i.to=function(t,e,i){return qt(0,arguments,this),this},i.from=function(t,e,i){return qt(1,arguments,this),this},i.fromTo=function(t,e,i,s){return qt(2,arguments,this),this},i.set=function(t,e,i){return e.duration=0,e.parent=this,At(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Je(t,e,zt(this,i),1),this},i.call=function(t,e,i){return Gt(this,Je.delayedCall(0,t,e),i)},i.staggerTo=function(t,e,i,s,n,r,a){return i.duration=e,i.stagger=i.stagger||s,i.onComplete=r,i.onCompleteParams=a,i.parent=this,new Je(t,i,zt(this,n)),this},i.staggerFrom=function(t,e,i,s,n,r,a){return i.runBackwards=1,At(i).immediateRender=D(i.immediateRender),this.staggerTo(t,e,i,s,n,r,a)},i.staggerFromTo=function(t,e,i,s,n,r,a,o){return s.startAt=i,At(s).immediateRender=D(s.immediateRender),this.staggerTo(t,e,s,n,r,a,o)},i.render=function(t,e,i){var s,n,r,o,l,d,u,c,p,m,f,g,y=this._time,x=this._dirty?this.totalDuration():this._tDur,_=this._dur,b=t<=0?0:gt(t),v=this._zTime<0!=t<0&&(this._initted||!_);if(this!==h&&b>x&&t>=0&&(b=x),b!==this._tTime||i||v){if(y!==this._time&&_&&(b+=this._time-y,t+=this._time-y),s=b,p=this._start,d=!(c=this._ts),v&&(_||(y=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(f=this._yoyo,l=_+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*l+t,e,i);if(s=gt(b%l),b===x?(o=this._repeat,s=_):((o=~~(b/l))&&o===b/l&&(s=_,o--),s>_&&(s=_)),m=Dt(this._tTime,l),!y&&this._tTime&&m!==o&&this._tTime-m*l-this._dur<=0&&(m=o),f&&1&o&&(s=_-s,g=1),o!==m&&!this._lock){var S=f&&1&m,w=S===(f&&1&o);if(o<m&&(S=!S),y=S?0:_,this._lock=1,this.render(y||(g?0:gt(o*l)),e,!_)._lock=0,this._tTime=b,!e&&this.parent&&pe(this,"onRepeat"),this.vars.repeatRefresh&&!g&&(this.invalidate()._lock=1),y&&y!==this._time||d!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(_=this._dur,x=this._tDur,w&&(this._lock=2,y=S?_:-1e-4,this.render(y,!0),this.vars.repeatRefresh&&!g&&this.invalidate()),this._lock=0,!this._ts&&!d)return this;ke(this,g)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(u=function(t,e,i){var s;if(i>e)for(s=t._first;s&&s._start<=i;){if("isPause"===s.data&&s._start>e)return s;s=s._next}else for(s=t._last;s&&s._start>=i;){if("isPause"===s.data&&s._start<e)return s;s=s._prev}}(this,gt(y),gt(s)),u&&(b-=s-(s=u._start))),this._tTime=b,this._time=s,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,y=0),!y&&s&&!e&&!o&&(pe(this,"onStart"),this._tTime!==b))return this;if(s>=y&&t>=0)for(n=this._first;n;){if(r=n._next,(n._act||s>=n._start)&&n._ts&&u!==n){if(n.parent!==this)return this.render(t,e,i);if(n.render(n._ts>0?(s-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(s-n._start)*n._ts,e,i),s!==this._time||!this._ts&&!d){u=0,r&&(b+=this._zTime=-1e-8);break}}n=r}else{n=this._last;for(var E=t<0?t:s;n;){if(r=n._prev,(n._act||E<=n._end)&&n._ts&&u!==n){if(n.parent!==this)return this.render(t,e,i);if(n.render(n._ts>0?(E-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(E-n._start)*n._ts,e,i||a&&(n._initted||n._startAt)),s!==this._time||!this._ts&&!d){u=0,r&&(b+=this._zTime=E?-1e-8:T);break}}n=r}}if(u&&!e&&(this.pause(),u.render(s>=y?0:-1e-8)._zTime=s>=y?1:-1,this._ts))return this._start=p,Lt(this),this.render(t,e,i);this._onUpdate&&!e&&pe(this,"onUpdate",!0),(b===x&&this._tTime>=this.totalDuration()||!b&&y)&&(p!==this._start&&Math.abs(c)===Math.abs(this._ts)||this._lock||((t||!_)&&(b===x&&this._ts>0||!b&&this._ts<0)&&Bt(this,1),e||t<0&&!y||!b&&!y&&x||(pe(this,b===x&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(b<x&&this.timeScale()>0)&&this._prom())))}return this},i.add=function(t,e){var i=this;if(I(e)||(e=zt(this,e,t)),!(t instanceof Ge)){if(U(t))return t.forEach((function(t){return i.add(t,e)})),this;if(B(t))return this.addLabel(t,e);if(!R(t))return this;t=Je.delayedCall(0,t)}return this!==t?Gt(this,t,e):this},i.getChildren=function(t,e,i,s){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===s&&(s=-S);for(var n=[],r=this._first;r;)r._start>=s&&(r instanceof Je?e&&n.push(r):(i&&n.push(r),t&&n.push.apply(n,r.getChildren(!0,e,i)))),r=r._next;return n},i.getById=function(t){for(var e=this.getChildren(1,1,1),i=e.length;i--;)if(e[i].vars.id===t)return e[i]},i.remove=function(t){return B(t)?this.removeLabel(t):R(t)?this.killTweensOf(t):(Pt(this,t),t===this._recent&&(this._recent=this._last),Rt(this))},i.totalTime=function(e,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=gt(Ce.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,i),this._forcing=0,this):this._tTime},i.addLabel=function(t,e){return this.labels[t]=zt(this,e),this},i.removeLabel=function(t){return delete this.labels[t],this},i.addPause=function(t,e,i){var s=Je.delayedCall(0,e||Q,i);return s.data="isPause",this._hasPause=1,Gt(this,s,zt(this,t))},i.removePause=function(t){var e=this._first;for(t=zt(this,t);e;)e._start===t&&"isPause"===e.data&&Bt(e),e=e._next},i.killTweensOf=function(t,e,i){for(var s=this.getTweensOf(t,i),n=s.length;n--;)je!==s[n]&&s[n].kill(t,e);return this},i.getTweensOf=function(t,e){for(var i,s=[],n=ie(t),r=this._first,a=I(e);r;)r instanceof Je?xt(r._targets,n)&&(a?(!je||r._initted&&r._ts)&&r.globalTime(0)<=e&&r.globalTime(r.totalDuration())>e:!e||r.isActive())&&s.push(r):(i=r.getTweensOf(n,e)).length&&s.push.apply(s,i),r=r._next;return s},i.tweenTo=function(t,e){e=e||{};var i,s=this,n=zt(s,t),r=e,a=r.startAt,o=r.onStart,h=r.onStartParams,l=r.immediateRender,d=Je.to(s,Tt({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:n,overwrite:"auto",duration:e.duration||Math.abs((n-(a&&"time"in a?a.time:s._time))/s.timeScale())||T,onStart:function(){if(s.pause(),!i){var t=e.duration||Math.abs((n-(a&&"time"in a?a.time:s._time))/s.timeScale());d._dur!==t&&Xt(d,t,0,1).render(d._time,!0,!0),i=1}o&&o.apply(d,h||[])}},e));return l?d.render(0):d},i.tweenFromTo=function(t,e,i){return this.tweenTo(e,Tt({startAt:{time:zt(this,t)}},i))},i.recent=function(){return this._recent},i.nextLabel=function(t){return void 0===t&&(t=this._time),ce(this,zt(this,t))},i.previousLabel=function(t){return void 0===t&&(t=this._time),ce(this,zt(this,t),1)},i.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+T)},i.shiftChildren=function(t,e,i){void 0===i&&(i=0);for(var s,n=this._first,r=this.labels;n;)n._start>=i&&(n._start+=t,n._end+=t),n=n._next;if(e)for(s in r)r[s]>=i&&(r[s]+=t);return Rt(this)},i.invalidate=function(e){var i=this._first;for(this._lock=0;i;)i.invalidate(e),i=i._next;return t.prototype.invalidate.call(this,e)},i.clear=function(t){void 0===t&&(t=!0);for(var e,i=this._first;i;)e=i._next,this.remove(i),i=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Rt(this)},i.totalDuration=function(t){var e,i,s,n=0,r=this,a=r._last,o=S;if(arguments.length)return r.timeScale((r._repeat<0?r.duration():r.totalDuration())/(r.reversed()?-t:t));if(r._dirty){for(s=r.parent;a;)e=a._prev,a._dirty&&a.totalDuration(),(i=a._start)>o&&r._sort&&a._ts&&!r._lock?(r._lock=1,Gt(r,a,i-a._delay,1)._lock=0):o=i,i<0&&a._ts&&(n-=i,(!s&&!r._dp||s&&s.smoothChildTiming)&&(r._start+=i/r._ts,r._time-=i,r._tTime-=i),r.shiftChildren(-i,!1,-Infinity),o=0),a._end>n&&a._ts&&(n=a._end),a=e;Xt(r,r===h&&r._time>n?r._time:n,1,1),r._dirty=0}return r._tDur},e.updateRoot=function(t){if(h._ts&&(bt(h,Ft(t,h)),p=Ce.frame),Ce.frame>=ht){ht+=b.autoSleep||120;var e=h._first;if((!e||!e._ts)&&b.autoSleep&&Ce._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Ce.sleep()}}},e}(Ge);Tt(Ve.prototype,{_lock:0,_hasPause:0,_forcing:0});var je,We,Ye=function(t,e,i,s,n,r,a){var o,h,l,d,u,c,p,m,f=new ci(this._pt,t,e,0,1,ai,null,n),g=0,y=0;for(f.b=i,f.e=s,i+="",(p=~(s+="").indexOf("random("))&&(s=de(s)),r&&(r(m=[i,s],t,e),i=m[0],s=m[1]),h=i.match(W)||[];o=W.exec(s);)d=o[0],u=s.substring(g,o.index),l?l=(l+1)%5:"rgba("===u.substr(-5)&&(l=1),d!==h[y++]&&(c=parseFloat(h[y-1])||0,f._pt={_next:f._pt,p:u||1===y?u:",",s:c,c:"="===d.charAt(1)?yt(c,d)-c:parseFloat(d)-c,m:l&&l<4?Math.round:0},g=W.lastIndex);return f.c=g<s.length?s.substring(g,s.length):"",f.fp=a,(Y.test(s)||p)&&(f.e=0),this._pt=f,f},Xe=function(t,e,i,s,n,r,a,o,h,l){R(s)&&(s=s(n||0,t,r));var d,u=t[e],c="get"!==i?i:R(u)?h?t[e.indexOf("set")||!R(t["get"+e.substr(3)])?e:"get"+e.substr(3)](h):t[e]():u,p=R(u)?h?ei:ti:Qe;if(B(s)&&(~s.indexOf("random(")&&(s=de(s)),"="===s.charAt(1)&&((d=yt(c,s)+(Jt(c)||0))||0===d)&&(s=d)),!l||c!==s||We)return isNaN(c*s)||""===s?(!u&&!(e in t)&&K(e,s),Ye.call(this,t,e,c,s,p,o||b.stringFilter,h)):(d=new ci(this._pt,t,e,+c||0,s-(c||0),"boolean"==typeof u?ri:ni,0,p),h&&(d.fp=h),a&&d.modifier(a,this,t),this._pt=d)},He=function(t,e,i,s,n,r){var a,o,h,l;if(at[t]&&!1!==(a=new at[t]).init(n,a.rawVars?e[t]:function(t,e,i,s,n){if(R(t)&&(t=qe(t,n,e,i,s)),!O(t)||t.style&&t.nodeType||U(t)||N(t))return B(t)?qe(t,n,e,i,s):t;var r,a={};for(r in t)a[r]=qe(t[r],n,e,i,s);return a}(e[t],s,n,r,i),i,s,r)&&(i._pt=o=new ci(i._pt,n,t,0,1,a.render,a,0,a.priority),i!==m))for(h=i._ptLookup[i._targets.indexOf(n)],l=a._props.length;l--;)h[a._props[l]]=o;return a},$e=function t(e,i,s){var n,o,l,d,u,c,p,m,f,g,y,x,_,b=e.vars,w=b.ease,E=b.startAt,C=b.immediateRender,A=b.lazy,M=b.onUpdate,P=b.onUpdateParams,B=b.callbackScope,R=b.runBackwards,I=b.yoyoEase,k=b.keyframes,O=b.autoRevert,F=e._dur,L=e._startAt,N=e._targets,U=e.parent,G=U&&"nested"===U.data?U.vars.targets:N,V="auto"===e._overwrite&&!r,j=e.timeline;if(j&&(!k||!w)&&(w="none"),e._ease=Oe(w,v.ease),e._yEase=I?Ie(Oe(!0===I?w:I,v.ease)):0,I&&e._yoyo&&!e._repeat&&(I=e._yEase,e._yEase=e._ease,e._ease=I),e._from=!j&&!!b.runBackwards,!j||k&&!b.stagger){if(x=(m=N[0]?ct(N[0]).harness:0)&&b[m.prop],n=Ct(b,st),L&&(L._zTime<0&&L.progress(1),i<0&&R&&C&&!O?L.render(-1,!0):L.revert(R&&F?et:tt),L._lazy=0),E){if(Bt(e._startAt=Je.set(N,Tt({data:"isStart",overwrite:!1,parent:U,immediateRender:!0,lazy:!L&&D(A),startAt:null,delay:0,onUpdate:M,onUpdateParams:P,callbackScope:B,stagger:0},E))),e._startAt._dp=0,e._startAt._sat=e,i<0&&(a||!C&&!O)&&e._startAt.revert(et),C&&F&&i<=0&&s<=0)return void(i&&(e._zTime=i))}else if(R&&F&&!L)if(i&&(C=!1),l=Tt({overwrite:!1,data:"isFromStart",lazy:C&&!L&&D(A),immediateRender:C,stagger:0,parent:U},n),x&&(l[m.prop]=x),Bt(e._startAt=Je.set(N,l)),e._startAt._dp=0,e._startAt._sat=e,i<0&&(a?e._startAt.revert(et):e._startAt.render(-1,!0)),e._zTime=i,C){if(!i)return}else t(e._startAt,T,T);for(e._pt=e._ptCache=0,A=F&&D(A)||A&&!F,o=0;o<N.length;o++){if(p=(u=N[o])._gsap||ut(N)[o]._gsap,e._ptLookup[o]=g={},rt[p.id]&&nt.length&&_t(),y=G===N?o:G.indexOf(u),m&&!1!==(f=new m).init(u,x||n,e,y,G)&&(e._pt=d=new ci(e._pt,u,f.name,0,1,f.render,f,0,f.priority),f._props.forEach((function(t){g[t]=d})),f.priority&&(c=1)),!m||x)for(l in n)at[l]&&(f=He(l,n,e,y,u,G))?f.priority&&(c=1):g[l]=d=Xe.call(e,u,l,"get",n[l],y,G,0,b.stringFilter);e._op&&e._op[o]&&e.kill(u,e._op[o]),V&&e._pt&&(je=e,h.killTweensOf(u,g,e.globalTime(i)),_=!e.parent,je=0),e._pt&&A&&(rt[p.id]=1)}c&&ui(e),e._onInit&&e._onInit(e)}e._onUpdate=M,e._initted=(!e._op||e._pt)&&!_,k&&i<=0&&j.render(S,!0,!0)},ze=function(t,e,i,s){var n,r,a=e.ease||s||"power1.inOut";if(U(e))r=i[t]||(i[t]=[]),e.forEach((function(t,i){return r.push({t:i/(e.length-1)*100,v:t,e:a})}));else for(n in e)r=i[n]||(i[n]=[]),"ease"===n||r.push({t:parseFloat(t),v:e[n],e:a})},qe=function(t,e,i,s,n){return R(t)?t.call(e,i,s,n):B(t)&&~t.indexOf("random(")?de(t):t},Ke=dt+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Ze={};mt(Ke+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return Ze[t]=1}));var Je=function(t){function e(e,i,n,a){var o;"number"==typeof i&&(n.duration=i,i=n,n=null);var l,d,u,c,p,m,f,g,y=(o=t.call(this,a?i:At(i))||this).vars,x=y.duration,_=y.delay,v=y.immediateRender,S=y.stagger,T=y.overwrite,w=y.keyframes,E=y.defaults,C=y.scrollTrigger,A=y.yoyoEase,M=i.parent||h,P=(U(e)||N(e)?I(e[0]):"length"in i)?[e]:ie(e);if(o._targets=P.length?ut(P):Z("GSAP target "+e+" not found. https://greensock.com",!b.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=T,w||S||L(x)||L(_)){if(i=o.vars,(l=o.timeline=new Ve({data:"nested",defaults:E||{},targets:M&&"nested"===M.data?M.vars.targets:P})).kill(),l.parent=l._dp=s(o),l._start=0,S||L(x)||L(_)){if(c=P.length,f=S&&re(S),O(S))for(p in S)~Ke.indexOf(p)&&(g||(g={}),g[p]=S[p]);for(d=0;d<c;d++)(u=Ct(i,Ze)).stagger=0,A&&(u.yoyoEase=A),g&&wt(u,g),m=P[d],u.duration=+qe(x,s(o),d,m,P),u.delay=(+qe(_,s(o),d,m,P)||0)-o._delay,!S&&1===c&&u.delay&&(o._delay=_=u.delay,o._start+=_,u.delay=0),l.to(m,u,f?f(d,m,P):0),l._ease=Me.none;l.duration()?x=_=0:o.timeline=0}else if(w){At(Tt(l.vars.defaults,{ease:"none"})),l._ease=Oe(w.ease||i.ease||"none");var B,R,k,F=0;if(U(w))w.forEach((function(t){return l.to(P,t,">")})),l.duration();else{for(p in u={},w)"ease"===p||"easeEach"===p||ze(p,w[p],u,w.easeEach);for(p in u)for(B=u[p].sort((function(t,e){return t.t-e.t})),F=0,d=0;d<B.length;d++)(k={ease:(R=B[d]).e,duration:(R.t-(d?B[d-1].t:0))/100*x})[p]=R.v,l.to(P,k,F),F+=k.duration;l.duration()<x&&l.to({},{duration:x-l.duration()})}}x||o.duration(x=l.duration())}else o.timeline=0;return!0!==T||r||(je=s(o),h.killTweensOf(P),je=0),Gt(M,s(o),n),i.reversed&&o.reverse(),i.paused&&o.paused(!0),(v||!x&&!w&&o._start===gt(M._time)&&D(v)&&kt(s(o))&&"nested"!==M.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-_)||0)),C&&Vt(s(o),C),o}n(e,t);var i=e.prototype;return i.render=function(t,e,i){var s,n,r,o,h,l,d,u,c,p=this._time,m=this._tDur,f=this._dur,g=t<0,y=t>m-T&&!g?m:t<T?0:t;if(f){if(y!==this._tTime||!t||i||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g){if(s=y,u=this.timeline,this._repeat){if(o=f+this._rDelay,this._repeat<-1&&g)return this.totalTime(100*o+t,e,i);if(s=gt(y%o),y===m?(r=this._repeat,s=f):((r=~~(y/o))&&r===y/o&&(s=f,r--),s>f&&(s=f)),(l=this._yoyo&&1&r)&&(c=this._yEase,s=f-s),h=Dt(this._tTime,o),s===p&&!i&&this._initted)return this._tTime=y,this;r!==h&&(u&&this._yEase&&ke(u,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=i=1,this.render(gt(o*r),!0).invalidate()._lock=0))}if(!this._initted){if(jt(this,g?t:s,i,e,y))return this._tTime=0,this;if(p!==this._time)return this;if(f!==this._dur)return this.render(t,e,i)}if(this._tTime=y,this._time=s,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=d=(c||this._ease)(s/f),this._from&&(this.ratio=d=1-d),s&&!p&&!e&&!r&&(pe(this,"onStart"),this._tTime!==y))return this;for(n=this._pt;n;)n.r(d,n.d),n=n._next;u&&u.render(t<0?t:!s&&l?-1e-8:u._dur*u._ease(s/this._dur),e,i)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(g&&It(this,t,0,i),pe(this,"onUpdate")),this._repeat&&r!==h&&this.vars.onRepeat&&!e&&this.parent&&pe(this,"onRepeat"),y!==this._tDur&&y||this._tTime!==y||(g&&!this._onUpdate&&It(this,t,0,!0),(t||!f)&&(y===this._tDur&&this._ts>0||!y&&this._ts<0)&&Bt(this,1),e||g&&!p||!(y||p||l)||(pe(this,y===m?"onComplete":"onReverseComplete",!0),this._prom&&!(y<m&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,i,s){var n,r,o,h=t.ratio,l=e<0||!e&&(!t._start&&Wt(t)&&(t._initted||!Yt(t))||(t._ts<0||t._dp._ts<0)&&!Yt(t))?0:1,d=t._rDelay,u=0;if(d&&t._repeat&&(u=Zt(0,t._tDur,e),r=Dt(u,d),t._yoyo&&1&r&&(l=1-l),r!==Dt(t._tTime,d)&&(h=1-l,t.vars.repeatRefresh&&t._initted&&t.invalidate())),l!==h||a||s||t._zTime===T||!e&&t._zTime){if(!t._initted&&jt(t,e,s,i,u))return;for(o=t._zTime,t._zTime=e||(i?T:0),i||(i=e&&!o),t.ratio=l,t._from&&(l=1-l),t._time=0,t._tTime=u,n=t._pt;n;)n.r(l,n.d),n=n._next;e<0&&It(t,e,0,!0),t._onUpdate&&!i&&pe(t,"onUpdate"),u&&t._repeat&&!i&&t.parent&&pe(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===l&&(l&&Bt(t,1),i||a||(pe(t,l?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,i);return this},i.targets=function(){return this._targets},i.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},i.resetTo=function(t,e,i,s){f||Ce.wake(),this._ts||this.play();var n=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||$e(this,n),function(t,e,i,s,n,r,a){var o,h,l,d,u=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!u)for(u=t._ptCache[e]=[],l=t._ptLookup,d=t._targets.length;d--;){if((o=l[d][e])&&o.d&&o.d._pt)for(o=o.d._pt;o&&o.p!==e&&o.fp!==e;)o=o._next;if(!o)return We=1,t.vars[e]="+=0",$e(t,a),We=0,1;u.push(o)}for(d=u.length;d--;)(o=(h=u[d])._pt||h).s=!s&&0!==s||n?o.s+(s||0)+r*o.c:s,o.c=i-o.s,h.e&&(h.e=ft(i)+Jt(h.e)),h.b&&(h.b=o.s+Jt(h.b))}(this,t,e,i,s,this._ease(n/this._dur),n)?this.resetTo(t,e,i,s):(Nt(this,0),this.parent||Mt(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},i.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?me(this):this;if(this.timeline){var i=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,je&&!0!==je.vars.overwrite)._first||me(this),this.parent&&i!==this.timeline.totalDuration()&&Xt(this,this._dur*this.timeline._tDur/i,0,1),this}var s,n,r,a,o,h,l,d=this._targets,u=t?ie(t):d,c=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function(t,e){for(var i=t.length,s=i===e.length;s&&i--&&t[i]===e[i];);return i<0}(d,u))return"all"===e&&(this._pt=0),me(this);for(s=this._op=this._op||[],"all"!==e&&(B(e)&&(o={},mt(e,(function(t){return o[t]=1})),e=o),e=function(t,e){var i,s,n,r,a=t[0]?ct(t[0]).harness:0,o=a&&a.aliases;if(!o)return e;for(s in i=wt({},e),o)if(s in i)for(n=(r=o[s].split(",")).length;n--;)i[r[n]]=i[s];return i}(d,e)),l=d.length;l--;)if(~u.indexOf(d[l]))for(o in n=c[l],"all"===e?(s[l]=e,a=n,r={}):(r=s[l]=s[l]||{},a=e),a)(h=n&&n[o])&&("kill"in h.d&&!0!==h.d.kill(o)||Pt(this,h,"_pt"),delete n[o]),"all"!==r&&(r[o]=1);return this._initted&&!this._pt&&p&&me(this),this},e.to=function(t,i){return new e(t,i,arguments[2])},e.from=function(t,e){return qt(1,arguments)},e.delayedCall=function(t,i,s,n){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:i,onReverseComplete:i,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:n})},e.fromTo=function(t,e,i){return qt(2,arguments)},e.set=function(t,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(t,i)},e.killTweensOf=function(t,e,i){return h.killTweensOf(t,e,i)},e}(Ge);Tt(Je.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),mt("staggerTo,staggerFrom,staggerFromTo",(function(t){Je[t]=function(){var e=new Ve,i=Qt.call(arguments,0);return i.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,i)}}));var Qe=function(t,e,i){return t[e]=i},ti=function(t,e,i){return t[e](i)},ei=function(t,e,i,s){return t[e](s.fp,i)},ii=function(t,e,i){return t.setAttribute(e,i)},si=function(t,e){return R(t[e])?ti:k(t[e])&&t.setAttribute?ii:Qe},ni=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},ri=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},ai=function(t,e){var i=e._pt,s="";if(!t&&e.b)s=e.b;else if(1===t&&e.e)s=e.e;else{for(;i;)s=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+s,i=i._next;s+=e.c}e.set(e.t,e.p,s,e)},oi=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},hi=function(t,e,i,s){for(var n,r=this._pt;r;)n=r._next,r.p===s&&r.modifier(t,e,i),r=n},li=function(t){for(var e,i,s=this._pt;s;)i=s._next,s.p===t&&!s.op||s.op===t?Pt(this,s,"_pt"):s.dep||(e=1),s=i;return!e},di=function(t,e,i,s){s.mSet(t,e,s.m.call(s.tween,i,s.mt),s)},ui=function(t){for(var e,i,s,n,r=t._pt;r;){for(e=r._next,i=s;i&&i.pr>r.pr;)i=i._next;(r._prev=i?i._prev:n)?r._prev._next=r:s=r,(r._next=i)?i._prev=r:n=r,r=e}t._pt=s},ci=function(){function t(t,e,i,s,n,r,a,o,h){this.t=e,this.s=s,this.c=n,this.p=i,this.r=r||ni,this.d=a||this,this.set=o||Qe,this.pr=h||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,i){this.mSet=this.mSet||this.set,this.set=di,this.m=t,this.mt=i,this.tween=e},t}();mt(dt+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return st[t]=1})),$.TweenMax=$.TweenLite=Je,$.TimelineLite=$.TimelineMax=Ve,h=new Ve({sortChildren:!1,defaults:v,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),b.stringFilter=Ee;var pi=[],mi={},fi=[],gi=0,yi=function(t){return(mi[t]||fi).map((function(t){return t()}))},xi=function(){var t=Date.now(),e=[];t-gi>2&&(yi("matchMediaInit"),pi.forEach((function(t){var i,s,n,r,a=t.queries,o=t.conditions;for(s in a)(i=l.matchMedia(a[s]).matches)&&(n=1),i!==o[s]&&(o[s]=i,r=1);r&&(t.revert(),n&&e.push(t))})),yi("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t)})),gi=t,yi("matchMedia"))},_i=function(){function t(t,e){this.selector=e&&se(e),this.data=[],this._r=[],this.isReverted=!1,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,i){R(t)&&(i=e,e=t,t=R);var s=this,n=function(){var t,n=o,r=s.selector;return n&&n!==s&&n.data.push(s),i&&(s.selector=se(i)),o=s,t=e.apply(s,arguments),R(t)&&s._r.push(t),o=n,s.selector=r,s.isReverted=!1,t};return s.last=n,t===R?n(s):t?s[t]=n:n},e.ignore=function(t){var e=o;o=null,t(this),o=e},e.getTweens=function(){var e=[];return this.data.forEach((function(i){return i instanceof t?e.push.apply(e,i.getTweens()):i instanceof Je&&!(i.parent&&"nested"===i.parent.data)&&e.push(i)})),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var i=this;if(t){var s=this.getTweens();this.data.forEach((function(t){"isFlip"===t.data&&(t.revert(),t.getChildren(!0,!0,!1).forEach((function(t){return s.splice(s.indexOf(t),1)})))})),s.map((function(t){return{g:t.globalTime(0),t}})).sort((function(t,e){return e.g-t.g||-1})).forEach((function(e){return e.t.revert(t)})),this.data.forEach((function(e){return!(e instanceof Ge)&&e.revert&&e.revert(t)})),this._r.forEach((function(e){return e(t,i)})),this.isReverted=!0}else this.data.forEach((function(t){return t.kill&&t.kill()}));if(this.clear(),e){var n=pi.indexOf(this);~n&&pi.splice(n,1)}},e.revert=function(t){this.kill(t||{})},t}(),bi=function(){function t(t){this.contexts=[],this.scope=t}var e=t.prototype;return e.add=function(t,e,i){O(t)||(t={matches:t});var s,n,r,a=new _i(0,i||this.scope),o=a.conditions={};for(n in this.contexts.push(a),e=a.add("onMatch",e),a.queries=t,t)"all"===n?r=1:(s=l.matchMedia(t[n]))&&(pi.indexOf(a)<0&&pi.push(a),(o[n]=s.matches)&&(r=1),s.addListener?s.addListener(xi):s.addEventListener("change",xi));return r&&e(a),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},t}(),vi={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach((function(t){return ge(t)}))},timeline:function(t){return new Ve(t)},getTweensOf:function(t,e){return h.getTweensOf(t,e)},getProperty:function(t,e,i,s){B(t)&&(t=ie(t)[0]);var n=ct(t||{}).get,r=i?St:vt;return"native"===i&&(i=""),t?e?r((at[e]&&at[e].get||n)(t,e,i,s)):function(e,i,s){return r((at[e]&&at[e].get||n)(t,e,i,s))}:t},quickSetter:function(t,e,i){if((t=ie(t)).length>1){var s=t.map((function(t){return wi.quickSetter(t,e,i)})),n=s.length;return function(t){for(var e=n;e--;)s[e](t)}}t=t[0]||{};var r=at[e],a=ct(t),o=a.harness&&(a.harness.aliases||{})[e]||e,h=r?function(e){var s=new r;m._pt=0,s.init(t,i?e+i:e,m,0,[t]),s.render(1,s),m._pt&&oi(1,m)}:a.set(t,o);return r?h:function(e){return h(t,o,i?e+i:e,a,1)}},quickTo:function(t,e,i){var s,n=wi.to(t,wt(((s={})[e]="+=0.1",s.paused=!0,s),i||{})),r=function(t,i,s){return n.resetTo(e,t,i,s)};return r.tween=n,r},isTweening:function(t){return h.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Oe(t.ease,v.ease)),Et(v,t||{})},config:function(t){return Et(b,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,s=t.plugins,n=t.defaults,r=t.extendTimeline;(s||"").split(",").forEach((function(t){return t&&!at[t]&&!$[t]&&Z(e+" effect requires "+t+" plugin.")})),ot[e]=function(t,e,s){return i(ie(t),Tt(e||{},n),s)},r&&(Ve.prototype[e]=function(t,i,s){return this.add(ot[e](t,O(i)?i:(s=i)&&{},this),s)})},registerEase:function(t,e){Me[t]=Oe(e)},parseEase:function(t,e){return arguments.length?Oe(t,e):Me},getById:function(t){return h.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var i,s,n=new Ve(t);for(n.smoothChildTiming=D(t.smoothChildTiming),h.remove(n),n._dp=0,n._time=n._tTime=h._time,i=h._first;i;)s=i._next,!e&&!i._dur&&i instanceof Je&&i.vars.onComplete===i._targets[0]||Gt(n,i,i._start-i._delay),i=s;return Gt(h,n,0),n},context:function(t,e){return t?new _i(t,e):o},matchMedia:function(t){return new bi(t)},matchMediaRefresh:function(){return pi.forEach((function(t){var e,i,s=t.conditions;for(i in s)s[i]&&(s[i]=!1,e=1);e&&t.revert()}))||xi()},addEventListener:function(t,e){var i=mi[t]||(mi[t]=[]);~i.indexOf(e)||i.push(e)},removeEventListener:function(t,e){var i=mi[t],s=i&&i.indexOf(e);s>=0&&i.splice(s,1)},utils:{wrap:function t(e,i,s){var n=i-e;return U(e)?le(e,t(0,e.length),i):Kt(s,(function(t){return(n+(t-e)%n)%n+e}))},wrapYoyo:function t(e,i,s){var n=i-e,r=2*n;return U(e)?le(e,t(0,e.length-1),i):Kt(s,(function(t){return e+((t=(r+(t-e)%r)%r||0)>n?r-t:t)}))},distribute:re,random:he,snap:oe,normalize:function(t,e,i){return ue(t,e,0,1,i)},getUnit:Jt,clamp:function(t,e,i){return Kt(i,(function(i){return Zt(t,e,i)}))},splitColor:be,toArray:ie,selector:se,mapRange:ue,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(i){return t(parseFloat(i))+(e||Jt(i))}},interpolate:function t(e,i,s,n){var r=isNaN(e+i)?0:function(t){return(1-t)*e+t*i};if(!r){var a,o,h,l,d,u=B(e),c={};if(!0===s&&(n=1)&&(s=null),u)e={p:e},i={p:i};else if(U(e)&&!U(i)){for(h=[],l=e.length,d=l-2,o=1;o<l;o++)h.push(t(e[o-1],e[o]));l--,r=function(t){t*=l;var e=Math.min(d,~~t);return h[e](t-e)},s=i}else n||(e=wt(U(e)?[]:{},e));if(!h){for(a in i)Xe.call(c,e,a,"get",i[a]);r=function(t){return oi(t,c)||(u?e.p:e)}}}return Kt(s,r)},shuffle:ne},install:q,effects:ot,ticker:Ce,updateRoot:Ve.updateRoot,plugins:at,globalTimeline:h,core:{PropTween:ci,globals:J,Tween:Je,Timeline:Ve,Animation:Ge,getCache:ct,_removeLinkedListItem:Pt,reverting:function(){return a},context:function(t){return t&&o&&(o.data.push(t),t._ctx=o),o},suppressOverwrites:function(t){return r=t}}};mt("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return vi[t]=Je[t]})),Ce.add(Ve.updateRoot),m=vi.to({},{duration:0});var Si=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},Ti=function(t,e){return{name:t,rawVars:1,init:function(t,i,s){s._onInit=function(t){var s,n;if(B(i)&&(s={},mt(i,(function(t){return s[t]=1})),i=s),e){for(n in s={},i)s[n]=e(i[n]);i=s}!function(t,e){var i,s,n,r=t._targets;for(i in e)for(s=r.length;s--;)(n=t._ptLookup[s][i])&&(n=n.d)&&(n._pt&&(n=Si(n,i)),n&&n.modifier&&n.modifier(e[i],t,r[s],i))}(t,i)}}}},wi=vi.registerPlugin({name:"attr",init:function(t,e,i,s,n){var r,a,o;for(r in this.tween=i,e)o=t.getAttribute(r)||"",(a=this.add(t,"setAttribute",(o||0)+"",e[r],s,n,0,0,r)).op=r,a.b=o,this._props.push(r)},render:function(t,e){for(var i=e._pt;i;)a?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i],0,0,0,0,0,1)}},Ti("roundProps",ae),Ti("modifiers"),Ti("snap",oe))||vi;Je.version=Ve.version=wi.version="3.11.5",c=1,F()&&Ae();var Ei,Ci,Ai,Mi,Pi,Bi,Ri,Ii,ki=Me.Power0,Oi=Me.Power1,Di=Me.Power2,Fi=Me.Power3,Li=Me.Power4,Ni=Me.Linear,Ui=Me.Quad,Gi=Me.Cubic,Vi=Me.Quart,ji=Me.Quint,Wi=Me.Strong,Yi=Me.Elastic,Xi=Me.Back,Hi=Me.SteppedEase,$i=Me.Bounce,zi=Me.Sine,qi=Me.Expo,Ki=Me.Circ,Zi={},Ji=180/Math.PI,Qi=Math.PI/180,ts=Math.atan2,es=/([A-Z])/g,is=/(left|right|width|margin|padding|x)/i,ss=/[\s,\(]\S/,ns={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},rs=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},as=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},os=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},hs=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},ls=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},ds=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},us=function(t,e,i){return t.style[e]=i},cs=function(t,e,i){return t.style.setProperty(e,i)},ps=function(t,e,i){return t._gsap[e]=i},ms=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},fs=function(t,e,i,s,n){var r=t._gsap;r.scaleX=r.scaleY=i,r.renderTransform(n,r)},gs=function(t,e,i,s,n){var r=t._gsap;r[e]=i,r.renderTransform(n,r)},ys="transform",xs=ys+"Origin",_s=function t(e,i){var s=this,n=this.target,r=n.style;if(e in Zi){if(this.tfm=this.tfm||{},"transform"===e)return ns.transform.split(",").forEach((function(e){return t.call(s,e,i)}));if(~(e=ns[e]||e).indexOf(",")?e.split(",").forEach((function(t){return s.tfm[t]=Ls(n,t)})):this.tfm[e]=n._gsap.x?n._gsap[e]:Ls(n,e),this.props.indexOf(ys)>=0)return;n._gsap.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(xs,i,"")),e=ys}(r||i)&&this.props.push(e,i,r[e])},bs=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},vs=function(){var t,e,i=this.props,s=this.target,n=s.style,r=s._gsap;for(t=0;t<i.length;t+=3)i[t+1]?s[i[t]]=i[t+2]:i[t+2]?n[i[t]]=i[t+2]:n.removeProperty("--"===i[t].substr(0,2)?i[t]:i[t].replace(es,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)r[e]=this.tfm[e];r.svg&&(r.renderTransform(),s.setAttribute("data-svg-origin",this.svgo||"")),(t=Ri())&&t.isStart||n[ys]||(bs(n),r.uncache=1)}},Ss=function(t,e){var i={target:t,props:[],revert:vs,save:_s};return t._gsap||wi.core.getCache(t),e&&e.split(",").forEach((function(t){return i.save(t)})),i},Ts=function(t,e){var i=Ci.createElementNS?Ci.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Ci.createElement(t);return i.style?i:Ci.createElement(t)},ws=function t(e,i,s){var n=getComputedStyle(e);return n[i]||n.getPropertyValue(i.replace(es,"-$1").toLowerCase())||n.getPropertyValue(i)||!s&&t(e,Cs(i)||i,1)||""},Es="O,Moz,ms,Ms,Webkit".split(","),Cs=function(t,e,i){var s=(e||Pi).style,n=5;if(t in s&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);n--&&!(Es[n]+t in s););return n<0?null:(3===n?"ms":n>=0?Es[n]:"")+t},As=function(){"undefined"!=typeof window&&window.document&&(Ei=window,Ci=Ei.document,Ai=Ci.documentElement,Pi=Ts("div")||{style:{}},Ts("div"),ys=Cs(ys),xs=ys+"Origin",Pi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Ii=!!Cs("perspective"),Ri=wi.core.reverting,Mi=1)},Ms=function t(e){var i,s=Ts("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,r=this.nextSibling,a=this.style.cssText;if(Ai.appendChild(s),s.appendChild(this),this.style.display="block",e)try{i=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(i=this._gsapBBox());return n&&(r?n.insertBefore(this,r):n.appendChild(this)),Ai.removeChild(s),this.style.cssText=a,i},Ps=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},Bs=function(t){var e;try{e=t.getBBox()}catch(i){e=Ms.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===Ms||(e=Ms.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+Ps(t,["x","cx","x1"])||0,y:+Ps(t,["y","cy","y1"])||0,width:0,height:0}},Rs=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Bs(t))},Is=function(t,e){if(e){var i=t.style;e in Zi&&e!==xs&&(e=ys),i.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),i.removeProperty(e.replace(es,"-$1").toLowerCase())):i.removeAttribute(e)}},ks=function(t,e,i,s,n,r){var a=new ci(t._pt,e,i,0,1,r?ds:ls);return t._pt=a,a.b=s,a.e=n,t._props.push(i),a},Os={deg:1,rad:1,turn:1},Ds={grid:1,flex:1},Fs=function t(e,i,s,n){var r,a,o,h,l=parseFloat(s)||0,d=(s+"").trim().substr((l+"").length)||"px",u=Pi.style,c=is.test(i),p="svg"===e.tagName.toLowerCase(),m=(p?"client":"offset")+(c?"Width":"Height"),f=100,g="px"===n,y="%"===n;return n===d||!l||Os[n]||Os[d]?l:("px"!==d&&!g&&(l=t(e,i,s,"px")),h=e.getCTM&&Rs(e),!y&&"%"!==d||!Zi[i]&&!~i.indexOf("adius")?(u[c?"width":"height"]=f+(g?d:n),a=~i.indexOf("adius")||"em"===n&&e.appendChild&&!p?e:e.parentNode,h&&(a=(e.ownerSVGElement||{}).parentNode),a&&a!==Ci&&a.appendChild||(a=Ci.body),(o=a._gsap)&&y&&o.width&&c&&o.time===Ce.time&&!o.uncache?ft(l/o.width*f):((y||"%"===d)&&!Ds[ws(a,"display")]&&(u.position=ws(e,"position")),a===e&&(u.position="static"),a.appendChild(Pi),r=Pi[m],a.removeChild(Pi),u.position="absolute",c&&y&&((o=ct(a)).time=Ce.time,o.width=a[m]),ft(g?r*l/f:r&&l?f/r*l:0))):(r=h?e.getBBox()[c?"width":"height"]:e[m],ft(y?l/r*f:l/100*r)))},Ls=function(t,e,i,s){var n;return Mi||As(),e in ns&&"transform"!==e&&~(e=ns[e]).indexOf(",")&&(e=e.split(",")[0]),Zi[e]&&"transform"!==e?(n=zs(t,s),n="transformOrigin"!==e?n[e]:n.svg?n.origin:qs(ws(t,xs))+" "+n.zOrigin+"px"):(!(n=t.style[e])||"auto"===n||s||~(n+"").indexOf("calc("))&&(n=Vs[e]&&Vs[e](t,e,i)||ws(t,e)||pt(t,e)||("opacity"===e?1:0)),i&&!~(n+"").trim().indexOf(" ")?Fs(t,e,n,i)+i:n},Ns=function(t,e,i,s){if(!i||"none"===i){var n=Cs(e,t,1),r=n&&ws(t,n,1);r&&r!==i?(e=n,i=r):"borderColor"===e&&(i=ws(t,"borderTopColor"))}var a,o,h,l,d,u,c,p,m,f,g,y=new ci(this._pt,t.style,e,0,1,ai),x=0,_=0;if(y.b=i,y.e=s,i+="","auto"===(s+="")&&(t.style[e]=s,s=ws(t,e)||s,t.style[e]=i),Ee(a=[i,s]),s=a[1],h=(i=a[0]).match(j)||[],(s.match(j)||[]).length){for(;o=j.exec(s);)c=o[0],m=s.substring(x,o.index),d?d=(d+1)%5:"rgba("!==m.substr(-5)&&"hsla("!==m.substr(-5)||(d=1),c!==(u=h[_++]||"")&&(l=parseFloat(u)||0,g=u.substr((l+"").length),"="===c.charAt(1)&&(c=yt(l,c)+g),p=parseFloat(c),f=c.substr((p+"").length),x=j.lastIndex-f.length,f||(f=f||b.units[e]||g,x===s.length&&(s+=f,y.e+=f)),g!==f&&(l=Fs(t,e,u,f)||0),y._pt={_next:y._pt,p:m||1===_?m:",",s:l,c:p-l,m:d&&d<4||"zIndex"===e?Math.round:0});y.c=x<s.length?s.substring(x,s.length):""}else y.r="display"===e&&"none"===s?ds:ls;return Y.test(s)&&(y.e=0),this._pt=y,y},Us={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Gs=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i,s,n,r=e.t,a=r.style,o=e.u,h=r._gsap;if("all"===o||!0===o)a.cssText="",s=1;else for(n=(o=o.split(",")).length;--n>-1;)i=o[n],Zi[i]&&(s=1,i="transformOrigin"===i?xs:ys),Is(r,i);s&&(Is(r,ys),h&&(h.svg&&r.removeAttribute("transform"),zs(r,1),h.uncache=1,bs(a)))}},Vs={clearProps:function(t,e,i,s,n){if("isFromStart"!==n.data){var r=t._pt=new ci(t._pt,e,i,0,0,Gs);return r.u=s,r.pr=-10,r.tween=n,t._props.push(i),1}}},js=[1,0,0,1,0,0],Ws={},Ys=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Xs=function(t){var e=ws(t,ys);return Ys(e)?js:e.substr(7).match(V).map(ft)},Hs=function(t,e){var i,s,n,r,a=t._gsap||ct(t),o=t.style,h=Xs(t);return a.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(h=[(n=t.transform.baseVal.consolidate().matrix).a,n.b,n.c,n.d,n.e,n.f]).join(",")?js:h:(h!==js||t.offsetParent||t===Ai||a.svg||(n=o.display,o.display="block",(i=t.parentNode)&&t.offsetParent||(r=1,s=t.nextElementSibling,Ai.appendChild(t)),h=Xs(t),n?o.display=n:Is(t,"display"),r&&(s?i.insertBefore(t,s):i?i.appendChild(t):Ai.removeChild(t))),e&&h.length>6?[h[0],h[1],h[4],h[5],h[12],h[13]]:h)},$s=function(t,e,i,s,n,r){var a,o,h,l=t._gsap,d=n||Hs(t,!0),u=l.xOrigin||0,c=l.yOrigin||0,p=l.xOffset||0,m=l.yOffset||0,f=d[0],g=d[1],y=d[2],x=d[3],_=d[4],b=d[5],v=e.split(" "),S=parseFloat(v[0])||0,T=parseFloat(v[1])||0;i?d!==js&&(o=f*x-g*y)&&(h=S*(-g/o)+T*(f/o)-(f*b-g*_)/o,S=S*(x/o)+T*(-y/o)+(y*b-x*_)/o,T=h):(S=(a=Bs(t)).x+(~v[0].indexOf("%")?S/100*a.width:S),T=a.y+(~(v[1]||v[0]).indexOf("%")?T/100*a.height:T)),s||!1!==s&&l.smooth?(_=S-u,b=T-c,l.xOffset=p+(_*f+b*y)-_,l.yOffset=m+(_*g+b*x)-b):l.xOffset=l.yOffset=0,l.xOrigin=S,l.yOrigin=T,l.smooth=!!s,l.origin=e,l.originIsAbsolute=!!i,t.style[xs]="0px 0px",r&&(ks(r,l,"xOrigin",u,S),ks(r,l,"yOrigin",c,T),ks(r,l,"xOffset",p,l.xOffset),ks(r,l,"yOffset",m,l.yOffset)),t.setAttribute("data-svg-origin",S+" "+T)},zs=function(t,e){var i=t._gsap||new Ue(t);if("x"in i&&!e&&!i.uncache)return i;var s,n,r,a,o,h,l,d,u,c,p,m,f,g,y,x,_,v,S,T,w,E,C,A,M,P,B,R,I,k,O,D,F=t.style,L=i.scaleX<0,N="px",U="deg",G=getComputedStyle(t),V=ws(t,xs)||"0";return s=n=r=h=l=d=u=c=p=0,a=o=1,i.svg=!(!t.getCTM||!Rs(t)),G.translate&&("none"===G.translate&&"none"===G.scale&&"none"===G.rotate||(F[ys]=("none"!==G.translate?"translate3d("+(G.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==G.rotate?"rotate("+G.rotate+") ":"")+("none"!==G.scale?"scale("+G.scale.split(" ").join(",")+") ":"")+("none"!==G[ys]?G[ys]:"")),F.scale=F.rotate=F.translate="none"),g=Hs(t,i.svg),i.svg&&(i.uncache?(M=t.getBBox(),V=i.xOrigin-M.x+"px "+(i.yOrigin-M.y)+"px",A=""):A=!e&&t.getAttribute("data-svg-origin"),$s(t,A||V,!!A||i.originIsAbsolute,!1!==i.smooth,g)),m=i.xOrigin||0,f=i.yOrigin||0,g!==js&&(v=g[0],S=g[1],T=g[2],w=g[3],s=E=g[4],n=C=g[5],6===g.length?(a=Math.sqrt(v*v+S*S),o=Math.sqrt(w*w+T*T),h=v||S?ts(S,v)*Ji:0,(u=T||w?ts(T,w)*Ji+h:0)&&(o*=Math.abs(Math.cos(u*Qi))),i.svg&&(s-=m-(m*v+f*T),n-=f-(m*S+f*w))):(D=g[6],k=g[7],B=g[8],R=g[9],I=g[10],O=g[11],s=g[12],n=g[13],r=g[14],l=(y=ts(D,I))*Ji,y&&(A=E*(x=Math.cos(-y))+B*(_=Math.sin(-y)),M=C*x+R*_,P=D*x+I*_,B=E*-_+B*x,R=C*-_+R*x,I=D*-_+I*x,O=k*-_+O*x,E=A,C=M,D=P),d=(y=ts(-T,I))*Ji,y&&(x=Math.cos(-y),O=w*(_=Math.sin(-y))+O*x,v=A=v*x-B*_,S=M=S*x-R*_,T=P=T*x-I*_),h=(y=ts(S,v))*Ji,y&&(A=v*(x=Math.cos(y))+S*(_=Math.sin(y)),M=E*x+C*_,S=S*x-v*_,C=C*x-E*_,v=A,E=M),l&&Math.abs(l)+Math.abs(h)>359.9&&(l=h=0,d=180-d),a=ft(Math.sqrt(v*v+S*S+T*T)),o=ft(Math.sqrt(C*C+D*D)),y=ts(E,C),u=Math.abs(y)>2e-4?y*Ji:0,p=O?1/(O<0?-O:O):0),i.svg&&(A=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!Ys(ws(t,ys)),A&&t.setAttribute("transform",A))),Math.abs(u)>90&&Math.abs(u)<270&&(L?(a*=-1,u+=h<=0?180:-180,h+=h<=0?180:-180):(o*=-1,u+=u<=0?180:-180)),e=e||i.uncache,i.x=s-((i.xPercent=s&&(!e&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-s)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+N,i.y=n-((i.yPercent=n&&(!e&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-n)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+N,i.z=r+N,i.scaleX=ft(a),i.scaleY=ft(o),i.rotation=ft(h)+U,i.rotationX=ft(l)+U,i.rotationY=ft(d)+U,i.skewX=u+U,i.skewY=c+U,i.transformPerspective=p+N,(i.zOrigin=parseFloat(V.split(" ")[2])||0)&&(F[xs]=qs(V)),i.xOffset=i.yOffset=0,i.force3D=b.force3D,i.renderTransform=i.svg?sn:Ii?en:Zs,i.uncache=0,i},qs=function(t){return(t=t.split(" "))[0]+" "+t[1]},Ks=function(t,e,i){var s=Jt(e);return ft(parseFloat(e)+parseFloat(Fs(t,"x",i+"px",s)))+s},Zs=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,en(t,e)},Js="0deg",Qs="0px",tn=") ",en=function(t,e){var i=e||this,s=i.xPercent,n=i.yPercent,r=i.x,a=i.y,o=i.z,h=i.rotation,l=i.rotationY,d=i.rotationX,u=i.skewX,c=i.skewY,p=i.scaleX,m=i.scaleY,f=i.transformPerspective,g=i.force3D,y=i.target,x=i.zOrigin,_="",b="auto"===g&&t&&1!==t||!0===g;if(x&&(d!==Js||l!==Js)){var v,S=parseFloat(l)*Qi,T=Math.sin(S),w=Math.cos(S);S=parseFloat(d)*Qi,v=Math.cos(S),r=Ks(y,r,T*v*-x),a=Ks(y,a,-Math.sin(S)*-x),o=Ks(y,o,w*v*-x+x)}f!==Qs&&(_+="perspective("+f+tn),(s||n)&&(_+="translate("+s+"%, "+n+"%) "),(b||r!==Qs||a!==Qs||o!==Qs)&&(_+=o!==Qs||b?"translate3d("+r+", "+a+", "+o+") ":"translate("+r+", "+a+tn),h!==Js&&(_+="rotate("+h+tn),l!==Js&&(_+="rotateY("+l+tn),d!==Js&&(_+="rotateX("+d+tn),u===Js&&c===Js||(_+="skew("+u+", "+c+tn),1===p&&1===m||(_+="scale("+p+", "+m+tn),y.style[ys]=_||"translate(0, 0)"},sn=function(t,e){var i,s,n,r,a,o=e||this,h=o.xPercent,l=o.yPercent,d=o.x,u=o.y,c=o.rotation,p=o.skewX,m=o.skewY,f=o.scaleX,g=o.scaleY,y=o.target,x=o.xOrigin,_=o.yOrigin,b=o.xOffset,v=o.yOffset,S=o.forceCSS,T=parseFloat(d),w=parseFloat(u);c=parseFloat(c),p=parseFloat(p),(m=parseFloat(m))&&(p+=m=parseFloat(m),c+=m),c||p?(c*=Qi,p*=Qi,i=Math.cos(c)*f,s=Math.sin(c)*f,n=Math.sin(c-p)*-g,r=Math.cos(c-p)*g,p&&(m*=Qi,a=Math.tan(p-m),n*=a=Math.sqrt(1+a*a),r*=a,m&&(a=Math.tan(m),i*=a=Math.sqrt(1+a*a),s*=a)),i=ft(i),s=ft(s),n=ft(n),r=ft(r)):(i=f,r=g,s=n=0),(T&&!~(d+"").indexOf("px")||w&&!~(u+"").indexOf("px"))&&(T=Fs(y,"x",d,"px"),w=Fs(y,"y",u,"px")),(x||_||b||v)&&(T=ft(T+x-(x*i+_*n)+b),w=ft(w+_-(x*s+_*r)+v)),(h||l)&&(a=y.getBBox(),T=ft(T+h/100*a.width),w=ft(w+l/100*a.height)),a="matrix("+i+","+s+","+n+","+r+","+T+","+w+")",y.setAttribute("transform",a),S&&(y.style[ys]=a)},nn=function(t,e,i,s,n){var r,a,o=360,h=B(n),l=parseFloat(n)*(h&&~n.indexOf("rad")?Ji:1)-s,d=s+l+"deg";return h&&("short"===(r=n.split("_")[1])&&(l%=o)!==l%180&&(l+=l<0?o:-360),"cw"===r&&l<0?l=(l+36e9)%o-~~(l/o)*o:"ccw"===r&&l>0&&(l=(l-36e9)%o-~~(l/o)*o)),t._pt=a=new ci(t._pt,e,i,s,l,as),a.e=d,a.u="deg",t._props.push(i),a},rn=function(t,e){for(var i in e)t[i]=e[i];return t},an=function(t,e,i){var s,n,r,a,o,h,l,d=rn({},i._gsap),u=i.style;for(n in d.svg?(r=i.getAttribute("transform"),i.setAttribute("transform",""),u[ys]=e,s=zs(i,1),Is(i,ys),i.setAttribute("transform",r)):(r=getComputedStyle(i)[ys],u[ys]=e,s=zs(i,1),u[ys]=r),Zi)(r=d[n])!==(a=s[n])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(n)<0&&(o=Jt(r)!==(l=Jt(a))?Fs(i,n,r,l):parseFloat(r),h=parseFloat(a),t._pt=new ci(t._pt,s,n,o,h-o,rs),t._pt.u=l||0,t._props.push(n));rn(s,d)};mt("padding,margin,Width,Radius",(function(t,e){var i="Top",s="Right",n="Bottom",r="Left",a=(e<3?[i,s,n,r]:[i+r,i+s,n+s,n+r]).map((function(i){return e<2?t+i:"border"+i+t}));Vs[e>1?"border"+t:t]=function(t,e,i,s,n){var r,o;if(arguments.length<4)return r=a.map((function(e){return Ls(t,e,i)})),5===(o=r.join(" ")).split(r[0]).length?r[0]:o;r=(s+"").split(" "),o={},a.forEach((function(t,e){return o[t]=r[e]=r[e]||r[(e-1)/2|0]})),t.init(e,o,n)}}));var on,hn,ln,dn={name:"css",register:As,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,s,n){var r,a,o,h,l,d,u,c,p,m,f,g,y,x,_,v,S,T,w,E,C=this._props,A=t.style,M=i.vars.startAt;for(u in Mi||As(),this.styles=this.styles||Ss(t),v=this.styles.props,this.tween=i,e)if("autoRound"!==u&&(a=e[u],!at[u]||!He(u,e,i,s,t,n)))if(l=typeof a,d=Vs[u],"function"===l&&(l=typeof(a=a.call(i,s,t,n))),"string"===l&&~a.indexOf("random(")&&(a=de(a)),d)d(this,t,u,a,i)&&(_=1);else if("--"===u.substr(0,2))r=(getComputedStyle(t).getPropertyValue(u)+"").trim(),a+="",Te.lastIndex=0,Te.test(r)||(c=Jt(r),p=Jt(a)),p?c!==p&&(r=Fs(t,u,r,p)+p):c&&(a+=c),this.add(A,"setProperty",r,a,s,n,0,0,u),C.push(u),v.push(u,0,A[u]);else if("undefined"!==l){if(M&&u in M?(r="function"==typeof M[u]?M[u].call(i,s,t,n):M[u],B(r)&&~r.indexOf("random(")&&(r=de(r)),Jt(r+"")||(r+=b.units[u]||Jt(Ls(t,u))||""),"="===(r+"").charAt(1)&&(r=Ls(t,u))):r=Ls(t,u),h=parseFloat(r),(m="string"===l&&"="===a.charAt(1)&&a.substr(0,2))&&(a=a.substr(2)),o=parseFloat(a),u in ns&&("autoAlpha"===u&&(1===h&&"hidden"===Ls(t,"visibility")&&o&&(h=0),v.push("visibility",0,A.visibility),ks(this,A,"visibility",h?"inherit":"hidden",o?"inherit":"hidden",!o)),"scale"!==u&&"transform"!==u&&~(u=ns[u]).indexOf(",")&&(u=u.split(",")[0])),f=u in Zi)if(this.styles.save(u),g||((y=t._gsap).renderTransform&&!e.parseTransform||zs(t,e.parseTransform),x=!1!==e.smoothOrigin&&y.smooth,(g=this._pt=new ci(this._pt,A,ys,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===u)this._pt=new ci(this._pt,y,"scaleY",y.scaleY,(m?yt(y.scaleY,m+o):o)-y.scaleY||0,rs),this._pt.u=0,C.push("scaleY",u),u+="X";else{if("transformOrigin"===u){v.push(xs,0,A[xs]),T=void 0,w=void 0,E=void 0,T=(S=a).split(" "),w=T[0],E=T[1]||"50%","top"!==w&&"bottom"!==w&&"left"!==E&&"right"!==E||(S=w,w=E,E=S),T[0]=Us[w]||w,T[1]=Us[E]||E,a=T.join(" "),y.svg?$s(t,a,0,x,0,this):((p=parseFloat(a.split(" ")[2])||0)!==y.zOrigin&&ks(this,y,"zOrigin",y.zOrigin,p),ks(this,A,u,qs(r),qs(a)));continue}if("svgOrigin"===u){$s(t,a,1,x,0,this);continue}if(u in Ws){nn(this,y,u,h,m?yt(h,m+a):a);continue}if("smoothOrigin"===u){ks(this,y,"smooth",y.smooth,a);continue}if("force3D"===u){y[u]=a;continue}if("transform"===u){an(this,a,t);continue}}else u in A||(u=Cs(u)||u);if(f||(o||0===o)&&(h||0===h)&&!ss.test(a)&&u in A)o||(o=0),(c=(r+"").substr((h+"").length))!==(p=Jt(a)||(u in b.units?b.units[u]:c))&&(h=Fs(t,u,r,p)),this._pt=new ci(this._pt,f?y:A,u,h,(m?yt(h,m+o):o)-h,f||"px"!==p&&"zIndex"!==u||!1===e.autoRound?rs:hs),this._pt.u=p||0,c!==p&&"%"!==p&&(this._pt.b=r,this._pt.r=os);else if(u in A)Ns.call(this,t,u,r,m?m+a:a);else if(u in t)this.add(t,u,r||t[u],m?m+a:a,s,n);else if("parseTransform"!==u){K(u,a);continue}f||(u in A?v.push(u,0,A[u]):v.push(u,1,r||t[u])),C.push(u)}_&&ui(this)},render:function(t,e){if(e.tween._time||!Ri())for(var i=e._pt;i;)i.r(t,i.d),i=i._next;else e.styles.revert()},get:Ls,aliases:ns,getSetter:function(t,e,i){var s=ns[e];return s&&s.indexOf(",")<0&&(e=s),e in Zi&&e!==xs&&(t._gsap.x||Ls(t,"x"))?i&&Bi===i?"scale"===e?ms:ps:(Bi=i||{})&&("scale"===e?fs:gs):t.style&&!k(t.style[e])?us:~e.indexOf("-")?cs:si(t,e)},core:{_removeProperty:Is,_getMatrix:Hs}};wi.utils.checkPrefix=Cs,wi.core.getStyleSaver=Ss,ln=mt((on="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(hn="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){Zi[t]=1})),mt(hn,(function(t){b.units[t]="deg",Ws[t]=1})),ns[ln[13]]=on+","+hn,mt("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");ns[e[1]]=ln[e[0]]})),mt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){b.units[t]="px"})),wi.registerPlugin(dn);var un=wi.registerPlugin(dn)||wi,cn=un.core.Tween},41766:(t,e,i)=>{var s;!function(){"use strict";var n=function(){this.init()};n.prototype={init:function(){var t=this||r;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||r;if(t=parseFloat(t),e.ctx||p(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,r.ctx.currentTime);for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var s=e._howls[i]._getSoundIds(),n=0;n<s.length;n++){var a=e._howls[i]._soundById(s[n]);a&&a._node&&(a._node.volume=a._volume*t)}return e}return e._volume},mute:function(t){var e=this||r;e.ctx||p(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,r.ctx.currentTime);for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var s=e._howls[i]._getSoundIds(),n=0;n<s.length;n++){var a=e._howls[i]._soundById(s[n]);a&&a._node&&(a._node.muted=!!t||a._muted)}return e},stop:function(){for(var t=this||r,e=0;e<t._howls.length;e++)t._howls[e].stop();return t},unload:function(){for(var t=this||r,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,p()),t},codecs:function(t){return(this||r)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||r;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||r,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var i=e.canPlayType("audio/mpeg;").replace(/^no$/,""),s=t._navigator?t._navigator.userAgent:"",n=s.match(/OPR\/([0-6].)/g),a=n&&parseInt(n[0].split("/")[1],10)<33,o=-1!==s.indexOf("Safari")&&-1===s.indexOf("Chrome"),h=s.match(/Version\/(.*?) /),l=o&&h&&parseInt(h[1],10)<15;return t._codecs={mp3:!(a||!i&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!i,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(e.canPlayType('audio/wav; codecs="1"')||e.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(e.canPlayType("audio/x-m4b;")||e.canPlayType("audio/m4b;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(l||!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(l||!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||r;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(i){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var s=new Audio;s._unlocked=!0,t._releaseHtml5Audio(s)}catch(i){t.noAudio=!0;break}for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),a=0;a<r.length;a++){var o=t._howls[n]._soundById(r[a]);o&&o._node&&!o._node._unlocked&&(o._node._unlocked=!0,o._node.load())}t._autoResume();var h=t.ctx.createBufferSource();h.buffer=t._scratchBuffer,h.connect(t.ctx.destination),void 0===h.start?h.noteOn(0):h.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),h.onended=function(){h.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0),document.removeEventListener("keydown",e,!0);for(var i=0;i<t._howls.length;i++)t._howls[i]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),document.addEventListener("keydown",e,!0),t}},_obtainHtml5Audio:function(){var t=this||r;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(t){var e=this||r;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&r.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var i=0;i<t._howls[e]._sounds.length;i++)if(!t._howls[e]._sounds[i]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var e=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(e,e)}}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&r.usingWebAudio)return"running"===t.state&&"interrupted"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state||"running"===t.state&&"interrupted"===t.ctx.state?(t.ctx.resume().then((function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var r=new n,a=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(t){var e=this;return r.ctx||p(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload&&"metadata"!==t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=r.usingWebAudio&&!e._html5,void 0!==r.ctx&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&"none"!==e._preload&&e.load(),e},load:function(){var t=this,e=null;if(r.noAudio)t._emit("loaderror",null,"No audio support.");else{"string"==typeof t._src&&(t._src=[t._src]);for(var i=0;i<t._src.length;i++){var s,n;if(t._format&&t._format[i])s=t._format[i];else{if("string"!=typeof(n=t._src[i])){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(s=/^data:audio\/([^;,]+);/i.exec(n))||(s=/\.([^.]+)$/.exec(n.split("?",1)[0])),s&&(s=s[1].toLowerCase())}if(s||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),s&&r.codecs(s)){e=t._src[i];break}}if(e)return t._src=e,t._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new o(t),t._webAudio&&l(t),t;t._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var i=this,s=null;if("number"==typeof t)s=t,t=null;else{if("string"==typeof t&&"loaded"===i._state&&!i._sprite[t])return null;if(void 0===t&&(t="__default",!i._playLock)){for(var n=0,a=0;a<i._sounds.length;a++)i._sounds[a]._paused&&!i._sounds[a]._ended&&(n++,s=i._sounds[a]._id);1===n?t=null:s=null}}var o=s?i._soundById(s):i._inactiveSound();if(!o)return null;if(s&&!t&&(t=o._sprite||"__default"),"loaded"!==i._state){o._sprite=t,o._ended=!1;var h=o._id;return i._queue.push({event:"play",action:function(){i.play(h)}}),h}if(s&&!o._paused)return e||i._loadQueue("play"),o._id;i._webAudio&&r._autoResume();var l=Math.max(0,o._seek>0?o._seek:i._sprite[t][0]/1e3),d=Math.max(0,(i._sprite[t][0]+i._sprite[t][1])/1e3-l),u=1e3*d/Math.abs(o._rate),c=i._sprite[t][0]/1e3,p=(i._sprite[t][0]+i._sprite[t][1])/1e3;o._sprite=t,o._ended=!1;var m=function(){o._paused=!1,o._seek=l,o._start=c,o._stop=p,o._loop=!(!o._loop&&!i._sprite[t][2])};if(!(l>=p)){var f=o._node;if(i._webAudio){var g=function(){i._playLock=!1,m(),i._refreshBuffer(o);var t=o._muted||i._muted?0:o._volume;f.gain.setValueAtTime(t,r.ctx.currentTime),o._playStart=r.ctx.currentTime,void 0===f.bufferSource.start?o._loop?f.bufferSource.noteGrainOn(0,l,86400):f.bufferSource.noteGrainOn(0,l,d):o._loop?f.bufferSource.start(0,l,86400):f.bufferSource.start(0,l,d),u!==1/0&&(i._endTimers[o._id]=setTimeout(i._ended.bind(i,o),u)),e||setTimeout((function(){i._emit("play",o._id),i._loadQueue()}),0)};"running"===r.state&&"interrupted"!==r.ctx.state?g():(i._playLock=!0,i.once("resume",g),i._clearTimer(o._id))}else{var y=function(){f.currentTime=l,f.muted=o._muted||i._muted||r._muted||f.muted,f.volume=o._volume*r.volume(),f.playbackRate=o._rate;try{var s=f.play();if(s&&"undefined"!=typeof Promise&&(s instanceof Promise||"function"==typeof s.then)?(i._playLock=!0,m(),s.then((function(){i._playLock=!1,f._unlocked=!0,e?i._loadQueue():i._emit("play",o._id)})).catch((function(){i._playLock=!1,i._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),o._ended=!0,o._paused=!0}))):e||(i._playLock=!1,m(),i._emit("play",o._id)),f.playbackRate=o._rate,f.paused)return void i._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||o._loop?i._endTimers[o._id]=setTimeout(i._ended.bind(i,o),u):(i._endTimers[o._id]=function(){i._ended(o),f.removeEventListener("ended",i._endTimers[o._id],!1)},f.addEventListener("ended",i._endTimers[o._id],!1))}catch(t){i._emit("playerror",o._id,t)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===f.src&&(f.src=i._src,f.load());var x=window&&window.ejecta||!f.readyState&&r._navigator.isCocoonJS;if(f.readyState>=3||x)y();else{i._playLock=!0,i._state="loading";var _=function(){i._state="loaded",y(),f.removeEventListener(r._canPlayEvent,_,!1)};f.addEventListener(r._canPlayEvent,_,!1),i._clearTimer(o._id)}}return o._id}i._ended(o)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var i=e._getSoundIds(t),s=0;s<i.length;s++){e._clearTimer(i[s]);var n=e._soundById(i[s]);if(n&&!n._paused&&(n._seek=e.seek(i[s]),n._rateSeek=0,n._paused=!0,e._stopFade(i[s]),n._node))if(e._webAudio){if(!n._node.bufferSource)continue;void 0===n._node.bufferSource.stop?n._node.bufferSource.noteOff(0):n._node.bufferSource.stop(0),e._cleanBuffer(n._node)}else isNaN(n._node.duration)&&n._node.duration!==1/0||n._node.pause();arguments[1]||e._emit("pause",n?n._id:null)}return e},stop:function(t,e){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"stop",action:function(){i.stop(t)}}),i;for(var s=i._getSoundIds(t),n=0;n<s.length;n++){i._clearTimer(s[n]);var r=i._soundById(s[n]);r&&(r._seek=r._start||0,r._rateSeek=0,r._paused=!0,r._ended=!0,i._stopFade(s[n]),r._node&&(i._webAudio?r._node.bufferSource&&(void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),i._cleanBuffer(r._node)):isNaN(r._node.duration)&&r._node.duration!==1/0||(r._node.currentTime=r._start||0,r._node.pause(),r._node.duration===1/0&&i._clearSound(r._node))),e||i._emit("stop",r._id))}return i},mute:function(t,e){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"mute",action:function(){i.mute(t,e)}}),i;if(void 0===e){if("boolean"!=typeof t)return i._muted;i._muted=t}for(var s=i._getSoundIds(e),n=0;n<s.length;n++){var a=i._soundById(s[n]);a&&(a._muted=t,a._interval&&i._stopFade(a._id),i._webAudio&&a._node?a._node.gain.setValueAtTime(t?0:a._volume,r.ctx.currentTime):a._node&&(a._node.muted=!!r._muted||t),i._emit("mute",a._id))}return i},volume:function(){var t,e,i,s=this,n=arguments;if(0===n.length)return s._volume;if(1===n.length||2===n.length&&void 0===n[1]?s._getSoundIds().indexOf(n[0])>=0?e=parseInt(n[0],10):t=parseFloat(n[0]):n.length>=2&&(t=parseFloat(n[0]),e=parseInt(n[1],10)),!(void 0!==t&&t>=0&&t<=1))return(i=e?s._soundById(e):s._sounds[0])?i._volume:0;if("loaded"!==s._state||s._playLock)return s._queue.push({event:"volume",action:function(){s.volume.apply(s,n)}}),s;void 0===e&&(s._volume=t),e=s._getSoundIds(e);for(var a=0;a<e.length;a++)(i=s._soundById(e[a]))&&(i._volume=t,n[2]||s._stopFade(e[a]),s._webAudio&&i._node&&!i._muted?i._node.gain.setValueAtTime(t,r.ctx.currentTime):i._node&&!i._muted&&(i._node.volume=t*r.volume()),s._emit("volume",i._id));return s},fade:function(t,e,i,s){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"fade",action:function(){n.fade(t,e,i,s)}}),n;t=Math.min(Math.max(0,parseFloat(t)),1),e=Math.min(Math.max(0,parseFloat(e)),1),i=parseFloat(i),n.volume(t,s);for(var a=n._getSoundIds(s),o=0;o<a.length;o++){var h=n._soundById(a[o]);if(h){if(s||n._stopFade(a[o]),n._webAudio&&!h._muted){var l=r.ctx.currentTime,d=l+i/1e3;h._volume=t,h._node.gain.setValueAtTime(t,l),h._node.gain.linearRampToValueAtTime(e,d)}n._startFadeInterval(h,t,e,i,a[o],void 0===s)}}return n},_startFadeInterval:function(t,e,i,s,n,r){var a=this,o=e,h=i-e,l=Math.abs(h/.01),d=Math.max(4,l>0?s/l:s),u=Date.now();t._fadeTo=i,t._interval=setInterval((function(){var n=(Date.now()-u)/s;u=Date.now(),o+=h*n,o=Math.round(100*o)/100,o=h<0?Math.max(i,o):Math.min(i,o),a._webAudio?t._volume=o:a.volume(o,t._id,!0),r&&(a._volume=o),(i<e&&o<=i||i>e&&o>=i)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,a.volume(i,t._id),a._emit("fade",t._id))}),d)},_stopFade:function(t){var e=this,i=e._soundById(t);return i&&i._interval&&(e._webAudio&&i._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(i._interval),i._interval=null,e.volume(i._fadeTo,t),i._fadeTo=null,e._emit("fade",t)),e},loop:function(){var t,e,i,s=this,n=arguments;if(0===n.length)return s._loop;if(1===n.length){if("boolean"!=typeof n[0])return!!(i=s._soundById(parseInt(n[0],10)))&&i._loop;t=n[0],s._loop=t}else 2===n.length&&(t=n[0],e=parseInt(n[1],10));for(var r=s._getSoundIds(e),a=0;a<r.length;a++)(i=s._soundById(r[a]))&&(i._loop=t,s._webAudio&&i._node&&i._node.bufferSource&&(i._node.bufferSource.loop=t,t&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop,s.playing(r[a])&&(s.pause(r[a],!0),s.play(r[a],!0)))));return s},rate:function(){var t,e,i,s=this,n=arguments;if(0===n.length)e=s._sounds[0]._id;else if(1===n.length){s._getSoundIds().indexOf(n[0])>=0?e=parseInt(n[0],10):t=parseFloat(n[0])}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));if("number"!=typeof t)return(i=s._soundById(e))?i._rate:s._rate;if("loaded"!==s._state||s._playLock)return s._queue.push({event:"rate",action:function(){s.rate.apply(s,n)}}),s;void 0===e&&(s._rate=t),e=s._getSoundIds(e);for(var a=0;a<e.length;a++)if(i=s._soundById(e[a])){s.playing(e[a])&&(i._rateSeek=s.seek(e[a]),i._playStart=s._webAudio?r.ctx.currentTime:i._playStart),i._rate=t,s._webAudio&&i._node&&i._node.bufferSource?i._node.bufferSource.playbackRate.setValueAtTime(t,r.ctx.currentTime):i._node&&(i._node.playbackRate=t);var o=s.seek(e[a]),h=1e3*((s._sprite[i._sprite][0]+s._sprite[i._sprite][1])/1e3-o)/Math.abs(i._rate);!s._endTimers[e[a]]&&i._paused||(s._clearTimer(e[a]),s._endTimers[e[a]]=setTimeout(s._ended.bind(s,i),h)),s._emit("rate",i._id)}return s},seek:function(){var t,e,i=this,s=arguments;if(0===s.length)i._sounds.length&&(e=i._sounds[0]._id);else if(1===s.length){i._getSoundIds().indexOf(s[0])>=0?e=parseInt(s[0],10):i._sounds.length&&(e=i._sounds[0]._id,t=parseFloat(s[0]))}else 2===s.length&&(t=parseFloat(s[0]),e=parseInt(s[1],10));if(void 0===e)return 0;if("number"==typeof t&&("loaded"!==i._state||i._playLock))return i._queue.push({event:"seek",action:function(){i.seek.apply(i,s)}}),i;var n=i._soundById(e);if(n){if(!("number"==typeof t&&t>=0)){if(i._webAudio){var a=i.playing(e)?r.ctx.currentTime-n._playStart:0,o=n._rateSeek?n._rateSeek-n._seek:0;return n._seek+(o+a*Math.abs(n._rate))}return n._node.currentTime}var h=i.playing(e);h&&i.pause(e,!0),n._seek=t,n._ended=!1,i._clearTimer(e),i._webAudio||!n._node||isNaN(n._node.duration)||(n._node.currentTime=t);var l=function(){h&&i.play(e,!0),i._emit("seek",e)};if(h&&!i._webAudio){var d=function(){i._playLock?setTimeout(d,0):l()};setTimeout(d,0)}else l()}return i},playing:function(t){var e=this;if("number"==typeof t){var i=e._soundById(t);return!!i&&!i._paused}for(var s=0;s<e._sounds.length;s++)if(!e._sounds[s]._paused)return!0;return!1},duration:function(t){var e=this,i=e._duration,s=e._soundById(t);return s&&(i=e._sprite[s._sprite][1]/1e3),i},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,i=0;i<e.length;i++)e[i]._paused||t.stop(e[i]._id),t._webAudio||(t._clearSound(e[i]._node),e[i]._node.removeEventListener("error",e[i]._errorFn,!1),e[i]._node.removeEventListener(r._canPlayEvent,e[i]._loadFn,!1),e[i]._node.removeEventListener("ended",e[i]._endFn,!1),r._releaseHtml5Audio(e[i]._node)),delete e[i]._node,t._clearTimer(e[i]._id);var s=r._howls.indexOf(t);s>=0&&r._howls.splice(s,1);var n=!0;for(i=0;i<r._howls.length;i++)if(r._howls[i]._src===t._src||t._src.indexOf(r._howls[i]._src)>=0){n=!1;break}return h&&n&&delete h[t._src],r.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,i,s){var n=this["_on"+t];return"function"==typeof e&&n.push(s?{id:i,fn:e,once:s}:{id:i,fn:e}),this},off:function(t,e,i){var s=this,n=s["_on"+t],r=0;if("number"==typeof e&&(i=e,e=null),e||i)for(r=0;r<n.length;r++){var a=i===n[r].id;if(e===n[r].fn&&a||!e&&a){n.splice(r,1);break}}else if(t)s["_on"+t]=[];else{var o=Object.keys(s);for(r=0;r<o.length;r++)0===o[r].indexOf("_on")&&Array.isArray(s[o[r]])&&(s[o[r]]=[])}return s},once:function(t,e,i){return this.on(t,e,i,1),this},_emit:function(t,e,i){for(var s=this,n=s["_on"+t],r=n.length-1;r>=0;r--)n[r].id&&n[r].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,i)}.bind(s,n[r].fn),0),n[r].once&&s.off(t,n[r].fn,n[r].id));return s._loadQueue(t),s},_loadQueue:function(t){var e=this;if(e._queue.length>0){var i=e._queue[0];i.event===t&&(e._queue.shift(),e._loadQueue()),t||i.action()}return e},_ended:function(t){var e=this,i=t._sprite;if(!e._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(e._ended.bind(e,t),100),e;var s=!(!t._loop&&!e._sprite[i][2]);if(e._emit("end",t._id),!e._webAudio&&s&&e.stop(t._id,!0).play(t._id),e._webAudio&&s){e._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=r.ctx.currentTime;var n=1e3*(t._stop-t._start)/Math.abs(t._rate);e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),n)}return e._webAudio&&!s&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),r._autoSuspend()),e._webAudio||s||e.stop(t._id,!0),e},_clearTimer:function(t){var e=this;if(e._endTimers[t]){if("function"!=typeof e._endTimers[t])clearTimeout(e._endTimers[t]);else{var i=e._soundById(t);i&&i._node&&i._node.removeEventListener("ended",e._endTimers[t],!1)}delete e._endTimers[t]}return e},_soundById:function(t){for(var e=this,i=0;i<e._sounds.length;i++)if(t===e._sounds[i]._id)return e._sounds[i];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new o(t)},_drain:function(){var t=this,e=t._pool,i=0,s=0;if(!(t._sounds.length<e)){for(s=0;s<t._sounds.length;s++)t._sounds[s]._ended&&i++;for(s=t._sounds.length-1;s>=0;s--){if(i<=e)return;t._sounds[s]._ended&&(t._webAudio&&t._sounds[s]._node&&t._sounds[s]._node.disconnect(0),t._sounds.splice(s,1),i--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],i=0;i<this._sounds.length;i++)e.push(this._sounds[i]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=r.ctx.createBufferSource(),t._node.bufferSource.buffer=h[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,r.ctx.currentTime),this},_cleanBuffer:function(t){var e=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(r._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=r._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(t){this._parent=t,this.init()};o.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++r._counter,e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,i=r._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),t._node.gain.setValueAtTime(i,r.ctx.currentTime),t._node.paused=!0,t._node.connect(r.masterGain)):r.noAudio||(t._node=r._obtainHtml5Audio(),t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(r._canPlayEvent,t._loadFn,!1),t._endFn=t._endListener.bind(t),t._node.addEventListener("ended",t._endFn,!1),t._node.src=e._src,t._node.preload=!0===e._preload?"auto":e._preload,t._node.volume=i*r.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++r._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorFn,!1)},_loadListener:function(){var t=this,e=t._parent;e._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),t._node.removeEventListener(r._canPlayEvent,t._loadFn,!1)},_endListener:function(){var t=this,e=t._parent;e._duration===1/0&&(e._duration=Math.ceil(10*t._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(t)),t._node.removeEventListener("ended",t._endFn,!1)}};var h={},l=function(t){var e=t._src;if(h[e])return t._duration=h[e].duration,void c(t);if(/^data:[^;]+;base64,/.test(e)){for(var i=atob(e.split(",")[1]),s=new Uint8Array(i.length),n=0;n<i.length;++n)s[n]=i.charCodeAt(n);u(s.buffer,t)}else{var r=new XMLHttpRequest;r.open(t._xhr.method,e,!0),r.withCredentials=t._xhr.withCredentials,r.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach((function(e){r.setRequestHeader(e,t._xhr.headers[e])})),r.onload=function(){var e=(r.status+"")[0];"0"===e||"2"===e||"3"===e?u(r.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+r.status+".")},r.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete h[e],t.load())},d(r)}},d=function(t){try{t.send()}catch(e){t.onerror()}},u=function(t,e){var i=function(){e._emit("loaderror",null,"Decoding audio data failed.")},s=function(t){t&&e._sounds.length>0?(h[e._src]=t,c(e,t)):i()};"undefined"!=typeof Promise&&1===r.ctx.decodeAudioData.length?r.ctx.decodeAudioData(t).then(s).catch(i):r.ctx.decodeAudioData(t,s,i)},c=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},p=function(){if(r.usingWebAudio){try{"undefined"!=typeof AudioContext?r.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch(t){r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),e=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=e?parseInt(e[1],10):null;if(t&&i&&i<9){var s=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!s&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};void 0===(s=function(){return{Howler:r,Howl:a}}.apply(e,[]))||(t.exports=s),e.Howler=r,e.Howl=a,void 0!==i.g?(i.g.HowlerGlobal=n,i.g.Howler=r,i.g.Howl=a,i.g.Sound=o):"undefined"!=typeof window&&(window.HowlerGlobal=n,window.Howler=r,window.Howl=a,window.Sound=o)}(),function(){"use strict";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var i=e._howls.length-1;i>=0;i--)e._howls[i].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,i){var s=this;return s.ctx&&s.ctx.listener?(e="number"!=typeof e?s._pos[1]:e,i="number"!=typeof i?s._pos[2]:i,"number"!=typeof t?s._pos:(s._pos=[t,e,i],void 0!==s.ctx.listener.positionX?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]),s)):s},HowlerGlobal.prototype.orientation=function(t,e,i,s,n,r){var a=this;if(!a.ctx||!a.ctx.listener)return a;var o=a._orientation;return e="number"!=typeof e?o[1]:e,i="number"!=typeof i?o[2]:i,s="number"!=typeof s?o[3]:s,n="number"!=typeof n?o[4]:n,r="number"!=typeof r?o[5]:r,"number"!=typeof t?o:(a._orientation=[t,e,i,s,n,r],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(r,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(t,e,i,s,n,r),a)},Howl.prototype.init=(t=Howl.prototype.init,function(e){var i=this;return i._orientation=e.orientation||[1,0,0],i._stereo=e.stereo||null,i._pos=e.pos||null,i._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},i._onstereo=e.onstereo?[{fn:e.onstereo}]:[],i._onpos=e.onpos?[{fn:e.onpos}]:[],i._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,i){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"stereo",action:function(){s.stereo(t,i)}}),s;var n=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===i){if("number"!=typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0]}for(var r=s._getSoundIds(i),a=0;a<r.length;a++){var o=s._soundById(r[a]);if(o){if("number"!=typeof t)return o._stereo;o._stereo=t,o._pos=[t,0,0],o._node&&(o._pannerAttr.panningModel="equalpower",o._panner&&o._panner.pan||e(o,n),"spatial"===n?void 0!==o._panner.positionX?(o._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):o._panner.setPosition(t,0,0):o._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),s._emit("stereo",o._id)}}return s},Howl.prototype.pos=function(t,i,s,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"pos",action:function(){r.pos(t,i,s,n)}}),r;if(i="number"!=typeof i?0:i,s="number"!=typeof s?-.5:s,void 0===n){if("number"!=typeof t)return r._pos;r._pos=[t,i,s]}for(var a=r._getSoundIds(n),o=0;o<a.length;o++){var h=r._soundById(a[o]);if(h){if("number"!=typeof t)return h._pos;h._pos=[t,i,s],h._node&&(h._panner&&!h._panner.pan||e(h,"spatial"),void 0!==h._panner.positionX?(h._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(s,Howler.ctx.currentTime)):h._panner.setPosition(t,i,s)),r._emit("pos",h._id)}}return r},Howl.prototype.orientation=function(t,i,s,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"orientation",action:function(){r.orientation(t,i,s,n)}}),r;if(i="number"!=typeof i?r._orientation[1]:i,s="number"!=typeof s?r._orientation[2]:s,void 0===n){if("number"!=typeof t)return r._orientation;r._orientation=[t,i,s]}for(var a=r._getSoundIds(n),o=0;o<a.length;o++){var h=r._soundById(a[o]);if(h){if("number"!=typeof t)return h._orientation;h._orientation=[t,i,s],h._node&&(h._panner||(h._pos||(h._pos=r._pos||[0,0,-.5]),e(h,"spatial")),void 0!==h._panner.orientationX?(h._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(s,Howler.ctx.currentTime)):h._panner.setOrientation(t,i,s)),r._emit("orientation",h._id)}}return r},Howl.prototype.pannerAttr=function(){var t,i,s,n=this,r=arguments;if(!n._webAudio)return n;if(0===r.length)return n._pannerAttr;if(1===r.length){if("object"!=typeof r[0])return(s=n._soundById(parseInt(r[0],10)))?s._pannerAttr:n._pannerAttr;t=r[0],void 0===i&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),n._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:n._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:n._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:n._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:n._panningModel})}else 2===r.length&&(t=r[0],i=parseInt(r[1],10));for(var a=n._getSoundIds(i),o=0;o<a.length;o++)if(s=n._soundById(a[o])){var h=s._pannerAttr;h={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:h.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:h.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:h.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:h.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:h.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:h.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:h.panningModel};var l=s._panner;l?(l.coneInnerAngle=h.coneInnerAngle,l.coneOuterAngle=h.coneOuterAngle,l.coneOuterGain=h.coneOuterGain,l.distanceModel=h.distanceModel,l.maxDistance=h.maxDistance,l.refDistance=h.refDistance,l.rolloffFactor=h.rolloffFactor,l.panningModel=h.panningModel):(s._pos||(s._pos=n._pos||[0,0,-.5]),e(s,"spatial"))}return n},Sound.prototype.init=function(t){return function(){var e=this,i=e._parent;e._orientation=i._orientation,e._stereo=i._stereo,e._pos=i._pos,e._pannerAttr=i._pannerAttr,t.call(this),e._stereo?i.stereo(e._stereo):e._pos&&i.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this,i=e._parent;return e._orientation=i._orientation,e._stereo=i._stereo,e._pos=i._pos,e._pannerAttr=i._pannerAttr,e._stereo?i.stereo(e._stereo):e._pos?i.pos(e._pos[0],e._pos[1],e._pos[2],e._id):e._panner&&(e._panner.disconnect(0),e._panner=void 0,i._refreshBuffer(e)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()},90891:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>_});var s=/iPhone/i,n=/iPod/i,r=/iPad/i,a=/\biOS-universal(?:.+)Mac\b/i,o=/\bAndroid(?:.+)Mobile\b/i,h=/Android/i,l=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,d=/Silk/i,u=/Windows Phone/i,c=/\bWindows(?:.+)ARM\b/i,p=/BlackBerry/i,m=/BB10/i,f=/Opera Mini/i,g=/\b(CriOS|Chrome)(?:.+)Mobile/i,y=/Mobile(?:.+)Firefox\b/i,x=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream};function _(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i=e.userAgent,_=i.split("[FBAN");void 0!==_[1]&&(i=_[0]),void 0!==(_=i.split("Twitter"))[1]&&(i=_[0]);var b=function(t){return function(e){return e.test(t)}}(i),v={apple:{phone:b(s)&&!b(u),ipod:b(n),tablet:!b(s)&&(b(r)||x(e))&&!b(u),universal:b(a),device:(b(s)||b(n)||b(r)||b(a)||x(e))&&!b(u)},amazon:{phone:b(l),tablet:!b(l)&&b(d),device:b(l)||b(d)},android:{phone:!b(u)&&b(l)||!b(u)&&b(o),tablet:!b(u)&&!b(l)&&!b(o)&&(b(d)||b(h)),device:!b(u)&&(b(l)||b(d)||b(o)||b(h))||b(/\bokhttp\b/i)},windows:{phone:b(u),tablet:b(c),device:b(u)||b(c)},other:{blackberry:b(p),blackberry10:b(m),opera:b(f),firefox:b(y),chrome:b(g),device:b(p)||b(m)||b(f)||b(y)||b(g)},any:!1,phone:!1,tablet:!1};return v.any=v.apple.device||v.android.device||v.windows.device||v.other.device,v.phone=v.apple.phone||v.android.phone||v.windows.phone,v.tablet=v.apple.tablet||v.android.tablet||v.windows.tablet,v}},35698:(t,e,i)=>{"use strict";i.r(e)},47466:(t,e,i)=>{"use strict";var s=i(82845),n=i(59663),r=i(3531);Object.defineProperty(e,"Spine",{enumerable:!0,get:function(){return s.Spine}}),Object.defineProperty(e,"SkeletonBounds",{enumerable:!0,get:function(){return r.SkeletonBounds}}),Object.keys(n).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}))},90741:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(48742),n=i(30370),r=i(23410),a=i(4920),o=i(31203),h=i(86194),l=i(38116);const d={AlphaFilter:n.AlphaFilter,BlurFilter:r.BlurFilter,BlurFilterPass:r.BlurFilterPass,ColorMatrixFilter:a.ColorMatrixFilter,DisplacementFilter:o.DisplacementFilter,FXAAFilter:h.FXAAFilter,NoiseFilter:l.NoiseFilter};Object.entries(d).forEach((([t,e])=>{Object.defineProperty(d,t,{get:()=>(s.utils.deprecation("7.1.0",`filters.${t} has moved to ${t}`),e)})})),e.filters=d},58687:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(88096),i(81939),i(25713);var s=i(90741),n=i(75649),r=i(21827),a=i(8415),o=i(63438),h=i(48742),l=i(27191),d=i(79743),u=i(46899),c=i(30370),p=i(23410),m=i(4920),f=i(31203),g=i(86194),y=i(38116),x=i(59296),_=i(21770),b=i(80261),v=i(76661),S=i(62785),T=i(6903),w=i(22693),E=i(87465),C=i(39432),A=i(66338),M=i(53485),P=i(17509);e.filters=s.filters,Object.keys(n).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})),Object.keys(r).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})),Object.keys(a).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})})),Object.keys(o).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})})),Object.keys(h).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}})})),Object.keys(l).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})})),Object.keys(d).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})})),Object.keys(u).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})})),Object.keys(c).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})})),Object.keys(p).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})})),Object.keys(m).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return m[t]}})})),Object.keys(f).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})})),Object.keys(g).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return g[t]}})})),Object.keys(y).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return y[t]}})})),Object.keys(x).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return x[t]}})})),Object.keys(_).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return _[t]}})})),Object.keys(b).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return b[t]}})})),Object.keys(v).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return v[t]}})})),Object.keys(S).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return S[t]}})})),Object.keys(T).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return T[t]}})})),Object.keys(w).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return w[t]}})})),Object.keys(E).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return E[t]}})})),Object.keys(C).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return C[t]}})})),Object.keys(A).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return A[t]}})})),Object.keys(M).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return M[t]}})})),Object.keys(P).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return P[t]}})}))},62587:t=>{"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,i,s,n){i=i||"&",s=s||"=";var r={};if("string"!=typeof t||0===t.length)return r;var a=/\+/g;t=t.split(i);var o=1e3;n&&"number"==typeof n.maxKeys&&(o=n.maxKeys);var h=t.length;o>0&&h>o&&(h=o);for(var l=0;l<h;++l){var d,u,c,p,m=t[l].replace(a,"%20"),f=m.indexOf(s);f>=0?(d=m.substr(0,f),u=m.substr(f+1)):(d=m,u=""),c=decodeURIComponent(d),p=decodeURIComponent(u),e(r,c)?Array.isArray(r[c])?r[c].push(p):r[c]=[r[c],p]:r[c]=p}return r}},12361:t=>{"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,i,s,n){return i=i||"&",s=s||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(n){var r=encodeURIComponent(e(n))+s;return Array.isArray(t[n])?t[n].map((function(t){return r+encodeURIComponent(e(t))})).join(i):r+encodeURIComponent(e(t[n]))})).join(i):n?encodeURIComponent(e(n))+s+encodeURIComponent(e(t)):""}},17673:(t,e,i)=>{"use strict";e.decode=e.parse=i(62587),e.encode=e.stringify=i(12361)},92862:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(35698),i(47466);const o=r(i(58687)),h=a(i(33302)),l=a(i(37548)),d=a(i(68766)),u=a(i(49217)),c=a(i(12597)),p=a(i(16541)),m=a(i(77667)),f=a(i(70946)),g=a(i(93807)),y=a(i(91103)),x=i(47466),_=i(66358),b=i(34607),v=i(41766);b.PixiPlugin.registerPIXI(o);e.default=class{constructor(){this.spinType="normal",this.betAmount=1,this.betIndex=0,this.userCredit=999,this.matchingGameWin=0,this.isAutoPlay=!1,this.isMatchingGame=!1,this.textStyleSize=55,this.paylineContainersAnimation=[],this.paylineAnimations=[],this.isFreeSpin=!1,this.transitionDelay=2e3,this.isOpenModal=!1,this.winFreeSpin=0,this.noOfSpin=0,this.firefliesArray=[],this.globalSound=!1,this.ambientCheck=!1,this.sfxCheck=!1,this.fadeDurationBgm=4e3,this.fadeOutDelay=8e3,this.isSoundOff=!1,this.isSoundOn=!1,this.lastSpinTime=0,this.matchingBlocksContainer=new o.Container,this.gameContainer=new o.Container,this.plantContainerRight=new o.Container,this.plantContainerLeft=new o.Container,this.paylineContainer=new o.Container,this.gameContainer.sortableChildren=!0,this.whiteYellow=new o.TextStyle({fontFamily:"Eras ITC",fontSize:120,fontWeight:"bolder",fill:["#fffdfa","#fec159"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.textStyle=new o.TextStyle({fontFamily:"Eras ITC",fontSize:this.textStyleSize,fontWeight:"bolder",fill:["#ffeaa0","#ffc260"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#aa521d",dropShadowBlur:0,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.textStyle2=new o.TextStyle({fontFamily:"Eras ITC",fontSize:120,fontWeight:"bolder",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!0,wordWrapWidth:440,lineJoin:"round"}),this.textStyle3=new o.TextStyle({fontFamily:"Eras ITC",fontSize:40,fontWeight:"bolder",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.descText=new o.TextStyle({fontFamily:"Eras ITC",fontSize:30,fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!0,wordWrapWidth:440,lineJoin:"round"}),new h.default(this.init.bind(this),this.sounds.bind(this))}init(t,e){this.app=e,this.baseWidth=this.app.screen.width,this.baseHeight=this.app.screen.height,this.textureArray=t,this.textureToggleOn=g.default.loadTexture(this.textureArray,"modal","on").texture,this.textureToggleOff=g.default.loadTexture(this.textureArray,"modal","off").texture,this.textureRollOn=g.default.loadTexture(this.textureArray,"modal","roll_active").texture,this.textureRollOff=g.default.loadTexture(this.textureArray,"modal","roll").texture,this.textureRollOff=g.default.loadTexture(this.textureArray,"modal","roll").texture,this.spinTextureOn=g.default.loadTexture(this.textureArray,"controller","spin_button").texture,this.spinTextureOff=g.default.loadTexture(this.textureArray,"controller","spin_pause_button").texture,this.sounBtnSpriteOff=g.default.loadTexture(this.textureArray,"controller","sound_off_button").texture,this.sounBtnSpriteOn=g.default.loadTexture(this.textureArray,"controller","sound_on_button").texture,this.popGlow=new x.Spine(this.textureArray.pop_glow.spineData),this.popGlow2=new x.Spine(this.textureArray.pop_glow.spineData),this.autoplayHover=g.default.loadTexture(this.textureArray,"buttons_hover","autoplay_button_hover").texture,this.checkHover=g.default.loadTexture(this.textureArray,"buttons_hover","check_hover").texture,this.exHover=g.default.loadTexture(this.textureArray,"buttons_hover","ex_hover").texture,this.infoHover=g.default.loadTexture(this.textureArray,"buttons_hover","info_button_hover").texture,this.soundOnHover=g.default.loadTexture(this.textureArray,"buttons_hover","sound_button_hover").texture,this.soundOffHover=g.default.loadTexture(this.textureArray,"buttons_hover","sound_off_button_hover").texture,this.spinHover=g.default.loadTexture(this.textureArray,"buttons_hover","spin_button_hover").texture,this.settingsHover=g.default.loadTexture(this.textureArray,"buttons_hover","system_settings_hover").texture,this.overlay=g.default.loadTexture(this.textureArray,"modal","overlay"),this.createGame(),this.createPlants(),this.createSlot(),this.createFrameGlow(),this.createController(),this.createBuyBonus(),this.createModal(),this.events(),this.updateTextValues(),this.createIntro(),this.app.stage.addChild(this.gameContainer),window.document.addEventListener("keydown",(t=>{"Space"!==t.code&&"Enter"!==t.key||(this.slotGame.isSpinning||this.isAutoPlay||this.isMatchingGame||this.isFreeSpin||this.isOpenModal?this.slotGame.timeScale=10:(this.slotGame.timeScale=0,!0===this.slotGame.notLongPress?(this.slotGame.notLongPress=!1,this.startSpin(this.spinType),this.slotGame.timeScale=0):(this.startSpin(this.spinType),this.slotGame.timeScale=10)))})),window.document.addEventListener("keyup",(()=>{this.slotGame.notLongPress=!0})),v.Howler.mute(!0),document.addEventListener("visibilitychange",(()=>{document.hidden?v.Howler.mute(!0):v.Howler.mute(!1)}))}createIntro(){this.enableButtons(!1),this.intro=new f.default(this.app,this.textureArray),this.gameContainer.addChild(this.intro.container),this.intro.playBtn.addEventListener("pointerdown",(()=>{this.globalSound&&(v.Howler.mute(!1),this.controller.soundBtnSprite.texture=this.sounBtnSpriteOn,this.ambientCheck=!0,this.sfxCheck=!0),this.playSound(12),this.playSound(0),this.playSound(16),this.soundVolume(16,0),this.playSound(17),this.soundVolume(17,0),this.intro.playBtn.interactive=!1,this.createTransition();let t=setTimeout((()=>{this.enableButtons(!0),this.gameContainer.removeChild(this.intro.container),this.intro.btnScaleAnimation.kill(),clearTimeout(t)}),this.transitionDelay)}))}createPlants(){this.plant5Right=new x.Spine(this.textureArray.plant_5.spineData),this.plant5Right.scale.set(.7),this.plant5Right.x=this.baseWidth-100,this.plant5Right.y=.15*this.baseHeight,g.default.loadSpineAnimation(this.plant5Right,"animation",!0,.6),this.plantContainerRight.addChild(this.plant5Right),this.plant4Right=new x.Spine(this.textureArray.plant_4.spineData),this.plant4Right.scale.set(.7),this.plant4Right.x=this.baseWidth-100,this.plant4Right.y=.3*this.baseHeight,g.default.loadSpineAnimation(this.plant4Right,"animation",!0,.6),this.plantContainerRight.addChild(this.plant4Right),this.plant3Right=new x.Spine(this.textureArray.plant_3.spineData),this.plant3Right.scale.set(.7),this.plant3Right.x=this.baseWidth-100,this.plant3Right.y=.5*this.baseHeight,g.default.loadSpineAnimation(this.plant3Right,"animation",!0,.6),this.plantContainerRight.addChild(this.plant3Right),this.plant2Right=new x.Spine(this.textureArray.plant_2.spineData),this.plant2Right.scale.set(.7),this.plant2Right.x=this.baseWidth,this.plant2Right.y=.6*this.baseHeight,g.default.loadSpineAnimation(this.plant2Right,"animation",!0,.7),this.plantContainerRight.addChild(this.plant2Right),this.plant1Right=new x.Spine(this.textureArray.plant_1.spineData),this.plant1Right.scale.set(.8),this.plant1Right.x=this.baseWidth,this.plant1Right.y=.9*this.baseHeight,g.default.loadSpineAnimation(this.plant1Right,"animation",!0,.7),this.plantContainerRight.addChild(this.plant1Right),this.gameContainer.addChild(this.plantContainerRight),this.plant5Left=new x.Spine(this.textureArray.plant_5.spineData),this.plant5Left.scale.set(.7),this.plant5Left.x=this.baseWidth-100,this.plant5Left.y=.15*this.baseHeight,g.default.loadSpineAnimation(this.plant5Left,"animation",!0,.6),this.plantContainerLeft.addChild(this.plant5Left),this.plant4Left=new x.Spine(this.textureArray.plant_4.spineData),this.plant4Left.scale.set(.7),this.plant4Left.scale.x=-1,this.plant4Left.x=100,this.plant4Left.y=.2*this.baseHeight,g.default.loadSpineAnimation(this.plant4Left,"animation",!0,.6),this.plantContainerLeft.addChild(this.plant4Left),this.plant3Left=new x.Spine(this.textureArray.plant_3.spineData),this.plant3Left.scale.set(.7),this.plant3Left.scale.x=-1,this.plant3Left.x=100,this.plant3Left.y=.4*this.baseHeight,g.default.loadSpineAnimation(this.plant3Left,"animation",!0,.6),this.plantContainerLeft.addChild(this.plant3Left),this.plant2Left=new x.Spine(this.textureArray.plant_2.spineData),this.plant2Left.scale.set(.7),this.plant2Left.scale.x=-1,this.plant2Left.x=-10,this.plant2Left.y=.75*this.baseHeight,g.default.loadSpineAnimation(this.plant2Left,"animation",!0,.7),this.plantContainerLeft.addChild(this.plant2Left),this.plant1Left=new x.Spine(this.textureArray.plant_1.spineData),this.plant1Left.scale.set(.8),this.plant1Left.scale.x=-1,this.plant1Left.x=10,this.plant1Left.y=.9*this.baseHeight,g.default.loadSpineAnimation(this.plant1Left,"animation",!0,.7),this.plantContainerLeft.addChild(this.plant1Left),this.vines=new x.Spine(this.textureArray.vines.spineData),this.vines.x=.6*this.vines.width,this.vines.y=6,g.default.loadSpineAnimation(this.vines,"animation",!0,.4),this.plantContainerLeft.addChild(this.vines),this.gameContainer.addChild(this.plantContainerLeft),this.createButterfly()}createButterfly(){const t=new x.Spine(this.textureArray.butterfly.spineData);t.scale.set(.5),t.x=-100,t.y=this.baseHeight;let e=_.gsap.to(t,{x:.99*(this.baseWidth-t.width),y:.85*this.plant1Right.y,delay:2,duration:3,onComplete:()=>{let i=_.gsap.to(t,{x:this.baseWidth+t.width,y:.9*this.plant1Right.y,delay:2,duration:3,onComplete:()=>{e.kill(),i.kill(),this.createButterfly(),this.plantContainerRight.removeChild(t)}})}});g.default.loadSpineAnimation(t,"animation",!0,5),t.zIndex=0,this.plantContainerRight.addChild(t)}createCongrats(){this.fadeSound(6,0,this.fadeDurationBgm),this.soundVolume(0,0),this.sound[7].playing()||this.playSound(7),this.fadeSound(7,1,this.fadeDurationBgm),this.congrats=new d.default(this.app,this.textureArray,this.winFreeSpin,this.noOfSpin),this.gameContainer.addChild(this.congrats.container),this.congrats.container.cursor="pointer",this.congrats.container.interactive=!0,this.congrats.container.addEventListener("pointerdown",(()=>{this.isAutoPlay=!1,this.congrats.container.interactive=!1,this.slotGame.isFreeSpinDone=!0,this.slotGame.freeSpinStart=!1,this.slotGame.isFreeSpin=!1,this.slotGame.maskSprite.height=this.slotGame.frameBg.height-8,this.slotGame.maskSprite.y=this.slotGame.frameBg.y-8,this.congrats.textAnimation.duration(.3),this.isOpenModal=!1,this.createTransition(),this.slotGame.startCountWinFreeSpin=!1;let t=setTimeout((()=>{this.sound[0].playing()||this.playSound(0),this.fadeSound(7,0,this.fadeDurationBgm),this.fadeSound(0,1,this.fadeDurationBgm),this.gameContainer.removeChild(this.congrats.container),this.enableButtons(!0),this.lightModeEvent(!0);let e=setTimeout((()=>{this.isFreeSpin=!1,this.soundStop(7),clearTimeout(e)}),1e3);this.slotGame.reelContainer.forEach(((t,e)=>{this.slotGame.generateNewSymbols(e)})),clearTimeout(t)}),this.transitionDelay)})),this.slotGame.autoplayDoneEvent=!0}createModal(){this.modal=new p.default(this.app,this.textureArray,this.playSound.bind(this)),this.modal.closeModal.addEventListener("pointerdown",(()=>{this.playSound(1),this.controller.settingBtnSpite.interactive=!0,this.controller.autoPlay.interactive=!0}))}createGame(){this.gameBackground=g.default.loadTexture(this.textureArray,"main","bg"),this.gameBackground.width=this.baseWidth,this.gameBackground.height=this.baseHeight,this.gameContainer.addChild(this.gameBackground)}createSlot(){this.slotGame=new l.default(this.app,this.textureArray,this.onSpinEnd.bind(this),this.matchingGame.bind(this),this.onSpinning.bind(this),this.freeSpinEvent.bind(this),this.checkIfFreeSpin.bind(this),this.createCongrats.bind(this),this.onSpin.bind(this),this.playSound.bind(this),this.soundStop.bind(this),this.sound,this.fadeSound.bind(this),this.soundVolume.bind(this)),this.gameContainer.addChild(this.slotGame.container)}createFrameGlow(){this.frameGlow=new x.Spine(this.textureArray.frame_glow.spineData),this.frameGlow.width=this.baseWidth,this.frameGlow.x=(this.slotGame.frameBorder.x+this.slotGame.frameBorder.width)/2+40,this.frameGlow.y=this.slotGame.frameBorder.y+this.slotGame.frameBorder.height-20,this.frameGlow.visible=!1,this.gameContainer.addChild(this.frameGlow)}createController(){this.controller=new c.default(this.app,this.textureArray),this.createPaylineAnimation(),this.gameContainer.addChild(this.controller.container),this.controller.soundBtnSprite.texture=this.sounBtnSpriteOff,this.globalSound?(v.Howler.mute(!1),this.controller.soundBtnSprite.texture=this.sounBtnSpriteOn,this.ambientCheck=!0,this.sfxCheck=!0,this.isSoundOn=!0,this.isSoundOff=!1):(this.isSoundOn=!1,this.isSoundOff=!0),this.controller.soundBtnSprite.texture===this.sounBtnSpriteOn?this.controller.soundBtnSprite.addEventListener("mouseenter",(()=>{this.controller.soundBtnSprite.texture=this.soundOnHover})):this.controller.soundBtnSprite.addEventListener("mouseenter",(()=>{this.controller.soundBtnSprite.texture=this.soundOffHover})),this.isSoundOn&&this.controller.soundBtnSprite.addEventListener("mouseleave",(()=>{this.controller.soundBtnSprite.texture=this.sounBtnSpriteOn})),this.isSoundOff&&this.controller.soundBtnSprite.addEventListener("mouseleave",(()=>{this.controller.soundBtnSprite.texture=this.sounBtnSpriteOff})),this.controller.soundBtnSprite.addEventListener("pointerdown",(()=>{this.playSound(1),this.controller.soundBtnSprite.texture==this.sounBtnSpriteOn||this.controller.soundBtnSprite.texture==this.soundOnHover?(v.Howler.mute(!0),this.controller.soundBtnSprite.texture=this.sounBtnSpriteOff,this.ambientCheck=!1,this.sfxCheck=!1,this.modal.soundBtns.forEach(((t,e)=>{t.texture=this.textureToggleOff})),this.isSoundOff=!0,this.isSoundOn=!1,this.checkSounds()):(this.controller.soundBtnSprite.texture=this.sounBtnSpriteOn,v.Howler.mute(!1),this.ambientCheck=!0,this.sfxCheck=!0,this.modal.soundBtns.forEach(((t,e)=>{t.texture=this.textureToggleOn})),this.isSoundOff=!1,this.isSoundOn=!0,this.checkSounds()),this.checkSoundToggle()}))}updateTextValues(){this.betTextValue(),this.updateCreditValues()}checkSounds(){this.controller.soundBtnSprite.texture===this.sounBtnSpriteOn?this.controller.soundBtnSprite.addEventListener("mouseenter",(()=>{this.controller.soundBtnSprite.texture=this.soundOnHover})):this.controller.soundBtnSprite.addEventListener("mouseenter",(()=>{this.controller.soundBtnSprite.texture=this.soundOffHover})),this.isSoundOn&&this.controller.soundBtnSprite.addEventListener("mouseleave",(()=>{this.controller.soundBtnSprite.texture=this.sounBtnSpriteOn})),this.isSoundOff&&this.controller.soundBtnSprite.addEventListener("mouseleave",(()=>{this.controller.soundBtnSprite.texture=this.sounBtnSpriteOff}))}betTextValue(){this.controller.betText.text=this.betAmount,this.controller.betText.x=(this.controller.betContainerSprite.width-this.controller.betText.width)/2,this.buyBonusText.text=this.betAmount,this.buyBonusText.x=(this.buyBonusBtn.width-this.buyBonusText.width)/2,this.buyBonusText.y=this.buyBonusBtn.height-this.buyBonusText.height-20}updateCreditValues(){this.controller.creditText.text=g.default.numberWithCommas(this.userCredit),this.controller.creditText.x=(this.controller.creditContainerSprite.width-this.controller.creditText.width)/2}onSpinEnd(){this.isMatchingGame||(this.paylineGreetings="SPIN TO WIN",this.userCredit+=this.slotGame.totalWin,this.updateCreditValues(),0!=this.slotGame.autoPlayCount||this.slotGame.isFreeSpin||(this.isAutoPlay=!1,this.controller.spinBtnSprite.texture=this.spinTextureOn,this.buyBonusBtn.interactive=!0),this.updatePaylineAnimation(this.paylineGreetings)),this.slotGame.startCountWinFreeSpin&&(this.winFreeSpin+=this.slotGame.totalWin),this.slotGame.isBonusTick&&(this.freeSpinEvent(),this.slotGame.isBonusTick=!1);let t=setTimeout((()=>{this.isAutoPlay||(1==this.sound[16].volume()&&this.fadeSound(16,0,this.fadeDurationBgm),0!=this.sound[17].volume()||this.isFreeSpin||this.fadeSound(0,1,this.fadeDurationBgm)),clearTimeout(t)}),this.fadeOutDelay)}onSpinning(){this.paylineGreetings="GOOD LUCK",this.paylineContainersAnimation.forEach((t=>{this.controller.parentSprite.removeChild(t)})),this.updatePaylineAnimation(this.paylineGreetings)}onSpin(){this.sound[0].playing()||this.slotGame.isFreeSpin||this.playSound(0),this.sound[16].playing()||this.slotGame.isFreeSpin||this.playSound(16),this.slotGame.isFreeSpin||(this.fadeSound(16,1,this.fadeDurationBgm),this.fadeSound(17,0,this.fadeDurationBgm),this.fadeSound(0,0,this.fadeDurationBgm)),this.slotGame.totalWin=0,this.userCredit-=this.betAmount,this.updateCreditValues()}startSpin(t){this.slotGame.startSpin(t)}startSpinAutoPlay(t){this.slotGame.autoPlayCount=t,this.startSpin(this.spinType),this.modal.totalSpin=0}createBuyBonus(){this.buyBonusBtn=g.default.loadTexture(this.textureArray,"bonus","buy_free_spin_btn"),this.buyBonusBtn.interactive=!0,this.buyBonusBtn.cursor="pointer",this.buyBonusBtn.y=(this.baseHeight-this.buyBonusBtn.height)/2,this.buyBonusText=new o.Text(`${this.betAmount}`,this.textStyle),this.buyBonusText.x=(this.buyBonusBtn.width-this.buyBonusText.width)/2,this.buyBonusText.y=this.buyBonusBtn.height-this.buyBonusText.height-20,this.buyBonusBtn.addChild(this.buyBonusText),this.gameContainer.addChild(this.buyBonusBtn)}buyBonusPopUp(){let t=-80;this.popGlow.x=956,this.popGlow.y=1044,this.popGlow.alpha=0,this.popGlow.scale.x=1.1,this.popGlow.scale.y=1.3,g.default.loadSpineAnimation(this.popGlow,"glow",!0,.1),this.overlay.addChild(this.popGlow),this.buyBonusFrame=g.default.loadTexture(this.textureArray,"bonus","get_free_spin"),this.buyBonusFrame.x=(this.baseWidth-this.buyBonusFrame.width)/2,this.buyBonusFrame.y=t;const e=new o.Text(`${this.betAmount}`,this.textStyle2);e.x=(this.buyBonusFrame.width-e.width)/2,e.y=.85*(this.buyBonusFrame.height-e.height),this.buyBonusFrame.addChild(e);const i=g.default.loadTexture(this.textureArray,"bonus","ex");i.interactive=!0,i.cursor="pointer",i.x=i.width,i.y=.94*(this.buyBonusFrame.height-i.height),this.buyBonusFrame.addChild(i);const s=g.default.loadTexture(this.textureArray,"bonus","check");s.interactive=!0,s.cursor="pointer",s.x=.85*(this.buyBonusFrame.width-s.width),s.y=.94*(this.buyBonusFrame.height-s.height),this.buyBonusFrame.addChild(s);let n=-this.buyBonusFrame.height;i.addEventListener("mouseenter",(()=>{i.texture=this.exHover})),i.addEventListener("mouseleave",(()=>{i.texture=g.default.loadTexture(this.textureArray,"bonus","ex").texture})),i.addEventListener("pointerdown",(()=>{i.interactive=!1,i.texture=g.default.loadTexture(this.textureArray,"bonus","ex").texture,this.playSound(13),this.hideBonusPopUp(t,n),this.isOpenModal=!1})),s.addEventListener("mouseenter",(()=>{s.texture=this.checkHover})),s.addEventListener("mouseleave",(()=>{s.texture=g.default.loadTexture(this.textureArray,"bonus","check").texture})),s.addEventListener("pointerdown",(()=>{s.texture=g.default.loadTexture(this.textureArray,"bonus","check").texture,this.playSound(12),this.slotGame.freeSpinStart=!0,this.slotGame.isFreeSpin=!0,this.hideBonusPopUp(t,n),s.interactive=!1;let e=setTimeout((()=>{this.startSpinAutoPlay(1),clearTimeout(e)}),1e3),r=setTimeout((()=>{s.interactive=!0,this.buyBonusFrame.removeChild(s),this.buyBonusFrame.removeChild(i),clearTimeout(r)}),5e3)}));let r=_.gsap.from(this.buyBonusFrame,{delay:.3,y:n,onComplete:()=>{r.kill();let t=_.gsap.to(this.buyBonusFrame,{y:-240,onComplete:()=>{t.kill();let e=_.gsap.to(this.popGlow,{delay:0,duration:1,alpha:1,onComplete:()=>{e.kill()}})}})}});this.overlay.addChild(this.buyBonusFrame),this.gameContainer.addChild(this.overlay)}hideBonusPopUp(t,e){this.enableButtons(!0);let i=_.gsap.to(this.popGlow,{duration:.3,alpha:0,onComplete:()=>{i.kill(),this.overlay.removeChild(this.popGlow);let s=_.gsap.to(this.buyBonusFrame,{delay:.2,duration:.2,y:1.2*t,onComplete:()=>{s.kill();let t=_.gsap.to(this.buyBonusFrame,{duration:.2,y:e,onComplete:()=>{t.kill(),this.gameContainer.removeChild(this.overlay)}})}})}})}hideBonusChoicesPopUp(t,e){this.enableButtons(!0);let i=_.gsap.to(this.popGlow,{duration:.8,alpha:0,onComplete:()=>{i.kill();let s=_.gsap.to(this.buyBonusFrame,{delay:.2,duration:.2,y:1.2*t,onComplete:()=>{s.kill();let t=_.gsap.to(this.buyBonusFrame,{duration:.2,y:e,onComplete:()=>{t.kill(),this.gameContainer.removeChild(this.overlay)}})}})}})}matchingGame(){this.fadeSound(17,0,this.fadeDurationBgm),this.fadeSound(0,0,this.fadeDurationBgm),this.fadeSound(16,0,this.fadeDurationBgm),this.playSound(15),this.createTransition(),this.isMatchingGame=!0;let t=setTimeout((()=>{this.soundStop(17),this.soundStop(16),this.soundStop(0),this.playSound(8),this.soundVolume(8,0),this.fadeSound(8,1,2e3);let e,i=g.default.arrayRandomizer(y.default.matchgame_values),s=[],n=1.2,r=0,a=0,o=0,h=0,l=0,d="",u=2e3;this.enableButtons(!1),this.lightMode(!1),i.forEach(((t,i)=>{const c=new x.Spine(this.textureArray.rock_block.spineData);c.interactive=!0,c.cursor="pointer";let p="close";i>3&&i<8?(c.y=c.height*n,c.x=a*c.width*n,a++):i>=8&&i<=11?(c.y=2*c.height*n,c.x=r*c.width*n,r++):c.x=i*c.width*n,g.default.loadSpineAnimation(c,"close",!0,.4),c.skeleton.setSkinByName(t),c.addEventListener("pointerdown",(()=>{if(this.playSound(20),c.interactive=!1,p="open",s[i].status="open",g.default.loadSpineAnimation(c,"reveal",!1,.7),"grand"==t){l++;let t=setTimeout((()=>{this.playSound(23),clearTimeout(t)}),u);3==l&&(d="excellent",this.matchingGameWin=y.default.jackpots.grand,e=c,this.matchinGameWinPop(s,d,e))}else if("major"==t){let t=setTimeout((()=>{this.playSound(22),clearTimeout(t)}),u);h++,3==h&&(d="impressive",this.matchingGameWin=y.default.jackpots.major,e=c,this.matchinGameWinPop(s,d,e))}else{let t=setTimeout((()=>{this.playSound(21),clearTimeout(t)}),u);o++,3==o&&(d="nice",this.matchingGameWin=y.default.jackpots.mini,e=c,this.matchinGameWinPop(s,d,e))}this.userCredit+=this.matchingGameWin,this.updateCreditValues()})),s.push({symbol:c,status:p}),this.matchingBlocksContainer.addChild(c)})),this.matchingBlocksContainer.x=this.slotGame.frameBg.width-this.matchingBlocksContainer.width,this.matchingBlocksContainer.y=1.7*(this.slotGame.frameBg.height-this.matchingBlocksContainer.height),this.slotGame.frameBg.addChild(this.matchingBlocksContainer),this.textStyle.fontSize=46,this.textStyle3.fontSize=30,this.updatePaylineText("PICK STONE TO REVEAL JACKPOTS","MATCH 3 TO WIN"),clearTimeout(t)}),this.transitionDelay)}matchinGameWinPop(t,e,i){t.forEach((t=>{t.symbol.interactive=!1,"close"==t.status&&g.default.loadSpineAnimation(t.symbol,"reveal",!1,.7)}));let s=setTimeout((()=>{this.createPopUps(e),this.playSound(7),this.fadeSound(8,0,2e3),this.popUps.container.addEventListener("pointerdown",(()=>{this.popUps.container.interactive=!1,this.matchGameResult(i),this.fadeSound(7,0,2e3),this.fadeSound(8,1,2e3)})),clearTimeout(s)}),2500)}matchGameResult(t){let e=this.slotGame.frameBg,i=g.default.loadTexture(this.textureArray,"bonus","matchin_game_win_board").texture,s=new o.Text(`${g.default.numberWithCommas(this.matchingGameWin)}`,this.whiteYellow),n=new o.Text("click here to continue",this.textStyle3);e.texture=i,t.x=e.width/2,t.y=e.height-200,s.x=(e.width-s.width)/2,s.y=(e.height-s.height)/2*.85;const r=_.gsap.timeline({repeat:-1,onUpdate:()=>{n.x=(e.width-n.width)/2,n.y=.96*(e.height-n.height)}});r.to(n.scale,{duration:.5,x:1.2,y:1.2}).to(n.scale,{duration:.5,x:1,y:1}),r.play(),n.x=(e.width-n.width)/2,n.y=.96*(e.height-n.height),this.popUps.closePopUp(),e.addChild(t),e.addChild(s),e.addChild(n),e.removeChild(this.matchingBlocksContainer),n.interactive=!0,n.cursor="pointer",n.addEventListener("pointerdown",(()=>{this.playSound(0),this.soundStop(16),this.soundVolume(16,0),this.soundStop(17),this.soundVolume(17,0),this.fadeSound(0,1,2e3),this.fadeSound(8,0,2e3),this.playSound(12),r.kill(),this.endMatchingGame(),n.interactive=!1,n.interactive=!1;let i=setTimeout((()=>{e.removeChild(t),e.removeChild(s),e.removeChild(n),clearTimeout(i)}),this.transitionDelay)}))}endMatchingGame(){this.createTransition(),this.isMatchingGame=!1;let t=setTimeout((()=>{this.gameContainer.interactive=!1,this.gameContainer.cursor="",this.lightMode(!0),this.enableButtons(!0),this.slotGame.levelBarIndicator.width=0,this.slotGame.frameBg.removeChild(this.matchingBlocksContainer),this.textStyle.fontSize=50,this.textStyle3.fontSize=40,this.updatePaylineText("Tap space or enter to skip","SPIN TO WIN"),this.slotGame.freeSpinStart&&this.freeSpinEvent(),clearTimeout(t)}),this.transitionDelay);this.slotGame.isMatchingGame=!1}createPaylineAnimation(){this.paylineText=new o.Text("SPIN TO WIN",this.textStyle),this.paylineTextBottom=new o.Text("Tap space or enter to skip",this.textStyle3),this.paylineContainer.addChild(this.paylineText,this.paylineTextBottom),this.updatePaylineText(this.paylineTextBottom.text,this.paylineText.text),this.controller.parentSprite.addChild(this.paylineContainer)}updatePaylineText(t,e){this.paylineTextBottom.text=t,this.paylineText.text=e,this.paylineText.x=(this.paylineContainer.width-this.paylineText.width)/2,this.paylineTextBottom.x=(this.paylineContainer.width-this.paylineTextBottom.width)/2,this.paylineTextBottom.y=this.paylineText.height,this.paylineContainer.x=(this.controller.parentSprite.width-this.paylineContainer.width)/2,this.paylineContainer.y=38}updatePaylineAnimation(t){this.paylineContainersAnimation=[],this.paylineAnimations.forEach((t=>{t.kill()}));let e=this.slotGame.paylines,i=this.controller.parentSprite;this.paylineText.text=t;let s=this.isAutoPlay?`Spin left ${this.slotGame.autoPlayCount}`:"Tap space or enter to skip";if(0!==this.slotGame.paylines.length){for(let t=0;t<e.length;t++){s="",this.updatePaylineText(s,this.paylineText.text);let n=e[t].payline,r=g.default.numberWithCommas(e[t].payout);const a=new o.Container,h=new o.Container,l=new o.Text(`line ${n} pays ${r}`,this.descText);e[t].symbols.forEach(((t,e)=>{let i;i=0==this.slotGame.whatEvent?y.default.symbolAssets[t-1]:1==this.slotGame.whatEvent?y.default.symbolAssetsEvent2[t-1]:y.default.symbolAssetsEvent[t-1];let s=g.default.loadTexture(this.textureArray,"slot",`${i.symbol}`);s.x=65*e,a.addChild(s)})),a.x=l.width,h.addChild(a,l),h.alpha=0,l.y=(h.height-l.height)/2,this.paylineContainersAnimation.push(h),this.animatePaySymbols(h,t),i.addChild(h)}this.updatePaylineText(s,`WIN ${g.default.numberWithCommas(this.slotGame.totalWin)}`)}this.updatePaylineText(s,this.paylineText.text)}animatePaySymbols(t,e){let i=e+1,s=this.controller.parentSprite,n=_.gsap.to(t,{delay:2*e,duration:1,alpha:1,onStart:()=>{t.x=(s.width-t.width)/2,t.y=s.height-t.height-10},onComplete:()=>{t.alpha=0,n.kill();let e=setTimeout((()=>{i==this.slotGame.paylines.length&&this.paylineContainersAnimation.forEach(((t,e)=>{this.animatePaySymbols(t,e)})),clearTimeout(e)}),3e3)}});this.paylineAnimations.push(n)}lightMode(t){let e=g.default.loadTexture(this.textureArray,"main",t?"slot_frame_bg":"slot_frame_bg2").texture,i=g.default.loadTexture(this.textureArray,"controller",t?"controller_parent":"controller_parent2").texture,s=g.default.loadTexture(this.textureArray,"controller",t?"info_button":"info_button2").texture,n=g.default.loadTexture(this.textureArray,"controller",t?"system_settings":"system_settings2").texture,r=g.default.loadTexture(this.textureArray,"controller",t?"spin_button":"spin_button2").texture,a=g.default.loadTexture(this.textureArray,"controller",t?"autoplay_button":"autoplay_button2").texture,o=g.default.loadTexture(this.textureArray,"main",t?"bg":"bg2").texture;this.slotGame.reelContainer.forEach((e=>{e.visible=t})),this.paylineContainersAnimation.forEach((e=>{e.visible=t})),this.slotGame.frameBg.texture=e,this.controller.parentSprite.texture=i,this.controller.infoBtnSprite.texture=s,this.controller.settingBtnSpite.texture=n,this.controller.spinBtnSprite.texture=r,this.controller.autoPlay.texture=a,this.gameBackground.texture=o,this.buyBonusBtn.visible=t,this.slotGame.logo.visible=t,this.frameGlow.visible=!t,t?this.firefliesArray.forEach((t=>this.gameContainer.removeChild(t))):(g.default.loadSpineAnimation(this.frameGlow,"animation",!0,.15),this.createFireflies())}lightModeEvent(t){g.default.loadTexture(this.textureArray,"main",t?"slot_frame_bg":"slot_frame_bg2").texture;let e=g.default.loadTexture(this.textureArray,"controller",t?"controller_parent":"controller_parent2").texture,i=g.default.loadTexture(this.textureArray,"controller",t?"info_button":"info_button2").texture,s=g.default.loadTexture(this.textureArray,"controller",t?"system_settings":"system_settings2").texture,n=g.default.loadTexture(this.textureArray,"controller",t?"spin_button":"spin_button2").texture,r=g.default.loadTexture(this.textureArray,"controller",t?"autoplay_button":"autoplay_button2").texture,a=g.default.loadTexture(this.textureArray,"main",t?"bg":"bg2").texture;this.controller.parentSprite.texture=e,this.controller.infoBtnSprite.texture=i,this.controller.settingBtnSpite.texture=s,this.controller.spinBtnSprite.texture=n,this.controller.autoPlay.texture=r,this.gameBackground.texture=a,this.buyBonusBtn.visible=t,this.frameGlow.visible=!t,t?this.firefliesArray.forEach((t=>this.gameContainer.removeChild(t))):(g.default.loadSpineAnimation(this.frameGlow,"animation",!0,.15),this.createFireflies())}createFireflies(){for(let t=0;t<=10;t++){const t=new x.Spine(this.textureArray.firefly.spineData);t.x=g.default.getRandomInt(-10,this.slotGame.frameBorder.x),t.y=g.default.getRandomInt(0,this.baseHeight-this.controller.parentSprite.height),t.scale.set(g.default.getRandomInt(.1,1)),t.alpha=0,g.default.loadSpineAnimation(t,"animation",!0,.5);_.gsap.to(t,{delay:g.default.getRandomInt(1,5),duration:g.default.getRandomInt(1,3),alpha:1,repeat:-1});_.gsap.timeline().to(t,{x:g.default.getRandomInt(0,this.slotGame.frameBorder.x),y:g.default.getRandomInt(this.baseHeight,0),delay:g.default.getRandomInt(1,5),duration:g.default.getRandomInt(10,20),ease:"none",repeat:-1});this.firefliesArray.push(t),this.gameContainer.addChild(t)}for(let t=0;t<=10;t++){const t=new x.Spine(this.textureArray.firefly.spineData);t.x=g.default.getRandomInt(this.slotGame.frameBorder.x+this.slotGame.frameBorder.width,this.baseWidth),t.y=g.default.getRandomInt(0,this.baseHeight-this.controller.parentSprite.height),t.scale.set(g.default.getRandomInt(.1,1)),t.alpha=0,g.default.loadSpineAnimation(t,"animation",!0,.5);_.gsap.to(t,{delay:g.default.getRandomInt(1,5),duration:g.default.getRandomInt(1,3),alpha:1,repeat:-1});_.gsap.timeline().to(t,{x:g.default.getRandomInt(this.slotGame.frameBorder.x+this.slotGame.frameBorder.width,this.baseWidth),y:g.default.getRandomInt(this.baseHeight,0),delay:g.default.getRandomInt(1,5),duration:g.default.getRandomInt(10,20),ease:"none",repeat:-1});this.firefliesArray.push(t),this.gameContainer.addChild(t)}}enableButtons(t){let e=t?"pointer":"";this.controller.spinBtnSprite.interactive=t,this.controller.spinBtnSprite.cursor=e,this.controller.autoPlay.interactive=t,this.controller.autoPlay.cursor=e,this.controller.settingBtnSpite.interactive=t,this.controller.settingBtnSpite.cursor=e,this.controller.infoBtnSprite.interactive=t,this.controller.infoBtnSprite.cursor=e,this.buyBonusBtn.interactive=t,this.buyBonusBtn.cursor=e}events(){this.controller.infoBtnSprite.addEventListener("mouseenter",(()=>{this.controller.infoBtnSprite.texture=this.infoHover})),this.controller.infoBtnSprite.addEventListener("mouseleave",(()=>{this.controller.infoBtnSprite.texture=g.default.loadTexture(this.textureArray,"controller","info_button").texture})),this.controller.infoBtnSprite.addEventListener("pointerdown",(()=>{this.playSound(1),this.controller.infoBtnSprite.texture=g.default.loadTexture(this.textureArray,"controller","info_button").texture,this.modal.createInfoModal()})),this.controller.settingBtnSpite.addEventListener("mouseenter",(()=>{this.controller.settingBtnSpite.texture=this.settingsHover})),this.controller.settingBtnSpite.addEventListener("mouseleave",(()=>{this.controller.settingBtnSpite.texture=g.default.loadTexture(this.textureArray,"controller","system_settings").texture})),this.controller.settingBtnSpite.addEventListener("pointerdown",(()=>{this.controller.settingBtnSpite.texture=g.default.loadTexture(this.textureArray,"controller","system_settings").texture,this.playSound(1),this.controller.settingBtnSpite.interactive=!1,this.modal.createSystemSettings(this.isAutoPlay),this.modal.betBtns.forEach(((t,e)=>{t.addEventListener("pointerdown",(()=>{this.playSound(1),0==e?(this.betIndex--,this.betAmount=y.default.bet_amounts[this.betIndex],0==this.betIndex?this.modal.betBtns[0].interactive=!1:(this.modal.betBtns[0].interactive=!0,this.modal.betBtns[1].interactive=!0)):(this.betIndex++,this.betAmount=y.default.bet_amounts[this.betIndex],5==this.betIndex?this.modal.betBtns[1].interactive=!1:(this.modal.betBtns[0].interactive=!0,this.modal.betBtns[1].interactive=!0)),this.modal.betAmountText.text=this.betAmount,this.modal.betAmountText.x=(this.modal.betAmountSpite.width-this.modal.betAmountText.width)/2,this.betTextValue()}))})),0==this.betIndex&&(this.modal.betBtns[0].interactive=!1),5==this.betIndex&&(this.modal.betBtns[1].interactive=!1),this.ambientCheck?this.modal.soundBtns[0].texture=this.textureToggleOn:this.modal.soundBtns[0].texture=this.textureToggleOff,this.sfxCheck?this.modal.soundBtns[1].texture=this.textureToggleOn:this.modal.soundBtns[1].texture=this.textureToggleOff,this.modal.soundBtns.forEach(((t,e)=>{t.addEventListener("pointerdown",(()=>{this.playSound(1),t.texture==this.textureToggleOff?(v.Howler.mute(!1),t.texture=this.textureToggleOn,0==e?this.ambientCheck=!0:this.sfxCheck=!0):(t.texture=this.textureToggleOff,0==e?this.ambientCheck=!1:this.sfxCheck=!1),this.modal.soundBtns[0].texture==this.textureToggleOff&&this.modal.soundBtns[1].texture==this.textureToggleOff?this.controller.soundBtnSprite.texture=this.sounBtnSpriteOff:this.controller.soundBtnSprite.texture=this.sounBtnSpriteOn,this.checkSoundToggle()}))})),this.modal.betAmountText.text=this.betAmount,this.modal.betAmountText.x=(this.modal.betAmountSpite.width-this.modal.betAmountText.width)/2})),this.controller.autoPlay.addEventListener("mouseenter",(()=>{this.controller.autoPlay.texture=this.autoplayHover})),this.controller.autoPlay.addEventListener("mouseleave",(()=>{this.controller.autoPlay.texture=g.default.loadTexture(this.textureArray,"controller","autoplay_button").texture})),this.controller.autoPlay.addEventListener("pointerdown",(()=>{this.controller.autoPlay.texture=g.default.loadTexture(this.textureArray,"controller","autoplay_button").texture;let t=setTimeout((()=>{this.fadeSound(16,0,this.fadeDurationBgm),this.fadeSound(0,1,this.fadeDurationBgm),this.playSound(1),clearTimeout(t)}),this.fadeOutDelay);this.isAutoPlay?(this.controller.spinBtnSprite.interactive=!0,this.controller.spinBtnSprite.cursor="pointer",this.isAutoPlay=!1,this.controller.spinBtnSprite.texture=this.spinTextureOn,this.slotGame.autoPlayCount=0,this.buyBonusBtn.interactive=!0):(this.controller.autoPlay.interactive=!1,this.modal.btnArray=[],this.modal.createAutoPlaySettings(),this.controller.spinBtnSprite.texture=this.spinTextureOn,this.controller.spinBtnSprite.interactive=!0,"quick"==this.spinType?this.modal.btnArray[0].texture=this.textureToggleOn:"turbo"==this.spinType?this.modal.btnArray[1].texture=this.textureToggleOn:(this.modal.btnArray[0].texture=this.textureToggleOff,this.modal.btnArray[1].texture=this.textureToggleOff),this.modal.btnArray.forEach(((t,e)=>{t.addEventListener("pointerdown",(()=>{this.playSound(1),0==e?(this.modal.btnArray[1].texture=this.textureToggleOff,t.texture==this.textureToggleOff?(t.texture=this.textureToggleOn,this.spinType="quick"):(this.spinType="normal",t.texture=this.textureToggleOff)):(this.modal.btnArray[0].texture=this.textureToggleOff,t.texture==this.textureToggleOff?(this.spinType="turbo",t.texture=this.textureToggleOn):(this.spinType="normal",t.texture=this.textureToggleOff))}))})),this.modal.rollBtn.addEventListener("pointerdown",(()=>{this.playSound(1),this.buyBonusBtn.interactive=!1,this.controller.autoPlay.interactive=!0,this.controller.spinBtnSprite.texture=this.spinTextureOff,this.isAutoPlay=!0,this.modal.rollBtn.texture=this.textureRollOn,this.slotGame.isSpinning||(this.modal.totalSpin>=1?this.startSpinAutoPlay(this.modal.totalSpin):alert("Please choose a spin count!"))})),this.modal.rollBtn.addEventListener("mouseenter",(()=>{this.modal.rollBtn.texture=this.textureRollOn})),this.modal.rollBtn.addEventListener("mouseleave",(()=>{this.modal.rollBtn.texture=this.textureRollOff})))})),this.controller.spinBtnSprite.addEventListener("mouseenter",(()=>{this.controller.spinBtnSprite.texture=this.spinHover})),this.controller.spinBtnSprite.addEventListener("mouseleave",(()=>{this.controller.spinBtnSprite.texture=g.default.loadTexture(this.textureArray,"controller","spin_button").texture})),this.controller.spinBtnSprite.addEventListener("pointerdown",(()=>{this.controller.spinBtnSprite.texture=g.default.loadTexture(this.textureArray,"controller","spin_button").texture,this.playSound(1),this.controller.spinBtnSprite.interactive=!0,this.slotGame.isSpinning||this.isFreeSpin||this.isAutoPlay||this.isMatchingGame?this.slotGame.timeScale=10:(this.controller.spinBtnSprite.texture=this.spinTextureOff,this.startSpinAutoPlay(1))})),this.buyBonusBtn.addEventListener("pointerdown",(()=>{this.playSound(30),this.buyBonusPopUp(),this.enableButtons(!1),this.isOpenModal=!0}))}freeSpinEvent(){this.playSound(14),this.fadeSound(16,0,this.fadeDurationBgm),this.fadeSound(17,0,this.fadeDurationBgm),this.fadeSound(0,0,this.fadeDurationBgm),this.playSound(6),this.fadeSound(6,1,this.fadeDurationBgm),this.soundStop(16),this.soundStop(17),this.soundStop(0),this.slotGame.autoPlayCount=0,this.isOpenModal=!0;this.popGlow2.x=1370,this.popGlow2.y=1044,this.popGlow2.alpha=0,this.popGlow2.scale.x=1.1,this.popGlow2.scale.y=1.3,this.overlay.addChild(this.popGlow2),g.default.loadSpineAnimation(this.popGlow2,"glow",!0,.1),this.overlay.addChild(this.popGlow),g.default.loadSpineAnimation(this.popGlow,"glow",!0,.1),this.popGlow.x=570,this.popGlow.y=1044,this.popGlow.alpha=0,this.popGlow.scale.x=1.1,this.popGlow.scale.y=1.3;const t=g.default.loadTexture(this.textureArray,"bonus","multiplier_wilds");t.x=(this.baseWidth-t.width)/2-400,t.y=-200;let e=-t.height,i=_.gsap.from(t,{delay:.3,y:e,onComplete:()=>{i.kill(),this.playSound(15);let e=_.gsap.to(t,{y:-240,onComplete:()=>{e.kill();let t=_.gsap.to(this.popGlow,{delay:0,duration:1,alpha:1,onComplete:()=>{t.kill()}})}})}});this.gameContainer.addChild(this.overlay);const s=new o.Text("6",this.textStyle2);s.x=(t.width-s.width)/2,s.y=.85*(t.height-s.height),t.addChild(s),t.cursor="pointer",t.interactive=!0,this.gameContainer.addChild(t);const n=g.default.loadTexture(this.textureArray,"bonus","money_wilds");n.x=(this.baseWidth-n.width)/2+400,n.y=-200;let r=_.gsap.from(n,{delay:.3,y:e,onComplete:()=>{r.kill();let t=_.gsap.to(n,{y:-240,onComplete:()=>{t.kill();let e=_.gsap.to(this.popGlow2,{delay:0,duration:1,alpha:1,onComplete:()=>{e.kill()}})}})}});const a=new o.Text("12",this.textStyle2);a.x=(n.width-a.width)/2,a.y=.85*(n.height-a.height),n.addChild(a),n.cursor="pointer",n.interactive=!0,this.gameContainer.addChild(n),t.addEventListener("pointerdown",(()=>{this.slotGame.whatEvent=1,this.playSound(12),this.overlay.removeChild(this.popGlow2),this.gameContainer.removeChild(this.overlay),this.noOfSpin=6,this.slotGame.startCountWinFreeSpin=!0,this.slotGame.autoplayDoneEvent=!1,this.gameContainer.removeChild(t),this.gameContainer.removeChild(n),this.createTransition();let e=setTimeout((()=>{this.startfreeSpinEvent(this.noOfSpin),clearTimeout(e)}),this.transitionDelay)})),n.addEventListener("pointerdown",(()=>{this.playSound(12),this.slotGame.whatEvent=2,this.overlay.removeChild(this.popGlow2),this.gameContainer.removeChild(this.overlay),this.noOfSpin=12,this.slotGame.startCountWinFreeSpin=!0,this.slotGame.autoplayDoneEvent=!1,this.gameContainer.removeChild(t),this.gameContainer.removeChild(n),this.createTransition();let e=setTimeout((()=>{this.startfreeSpinEvent(this.noOfSpin),clearTimeout(e)}),this.transitionDelay)}))}startfreeSpinEvent(t){this.enableButtons(!1),this.lightModeEvent(!1),this.slotGame.freeSpinStart=!1,this.slotGame.isFreeSpin=!0,this.slotGame.isFreeSpinDone=!1;let e=setTimeout((()=>{this.isFreeSpin=!1,clearTimeout(e)}),100);this.slotGame.reelContainer.forEach(((t,e)=>{this.slotGame.generateNewSymbolsMainEvent(e)}));let i=setTimeout((()=>{this.slotGame.autoPlayCount=t,this.startSpinAutoPlay(t),clearTimeout(i)}),1e3)}checkIfFreeSpin(t){}createPopUps(t){this.popUps=new u.default(this.app,this.gameContainer,this.textureArray,t,this.matchingGameWin),this.gameContainer.addChild(this.popUps.container)}createTransition(){this.transition=new m.default(this.app,this.gameContainer,this.textureArray),this.gameContainer.addChild(this.transition.container)}sounds(t,e){this.sound=e,this.globalSound=t}playSound(t){this.sound[t].play()}soundStop(t){this.sound[t].stop()}soundVolume(t,e){this.sound[t].volume(e)}fadeSound(t,e,i){this.sound[t].fade(this.sound[t].volume(),e,i)}checkSoundToggle(){this.ambientCheck?(this.sound[0].mute(!1),this.sound[6].mute(!1),this.sound[8].mute(!1),this.sound[16].mute(!1),this.sound[17].mute(!1)):(this.sound[0].mute(!0),this.sound[6].mute(!0),this.sound[8].mute(!0),this.sound[16].mute(!0),this.sound[17].mute(!0)),this.sfxCheck?(this.sound[1].mute(!1),this.sound[2].mute(!1),this.sound[3].mute(!1),this.sound[4].mute(!1),this.sound[5].mute(!1),this.sound[7].mute(!1),this.sound[9].mute(!1),this.sound[10].mute(!1),this.sound[11].mute(!1),this.sound[12].mute(!1),this.sound[13].mute(!1),this.sound[13].mute(!1),this.sound[15].mute(!1),this.sound[18].mute(!1),this.sound[19].mute(!1),this.sound[20].mute(!1),this.sound[21].mute(!1),this.sound[22].mute(!1),this.sound[23].mute(!1),this.sound[24].mute(!1),this.sound[25].mute(!1),this.sound[26].mute(!1),this.sound[27].mute(!1),this.sound[28].mute(!1),this.sound[29].mute(!1),this.sound[30].mute(!1)):(this.sound[1].mute(!0),this.sound[2].mute(!0),this.sound[3].mute(!0),this.sound[4].mute(!0),this.sound[5].mute(!0),this.sound[7].mute(!0),this.sound[9].mute(!0),this.sound[10].mute(!0),this.sound[11].mute(!0),this.sound[12].mute(!0),this.sound[13].mute(!0),this.sound[13].mute(!0),this.sound[15].mute(!0),this.sound[18].mute(!0),this.sound[19].mute(!0),this.sound[20].mute(!0),this.sound[21].mute(!0),this.sound[22].mute(!0),this.sound[23].mute(!0),this.sound[24].mute(!0),this.sound[25].mute(!0),this.sound[26].mute(!0),this.sound[27].mute(!0),this.sound[28].mute(!0),this.sound[29].mute(!0),this.sound[30].mute(!0))}}},68766:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const o=r(i(58687)),h=i(47466),l=a(i(93807)),d=i(66358);e.default=class{constructor(t,e,i,s){this.amount=2e4,this.noOfSpin=0,this.durationCount=.1,this.app=t,this.container=new o.Container,this.amount=i,this.noOfSpin=s,this.middleContainer=new o.Container,this.coinsContainer=new o.Container,this.baseWidth=this.app.screen.width,this.baseHeight=this.app.screen.height,this.textureArray=e,this.textStyle=new o.TextStyle({fontFamily:"Eras ITC",fontSize:100,fontWeight:"bolder",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.textStyle2=new o.TextStyle({fontFamily:"Eras ITC",fontSize:60,fontWeight:"bolder",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.textStyle3=new o.TextStyle({fontFamily:"Eras ITC",fontSize:30,fontWeight:"bolder",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.textStyleYellow=new o.TextStyle({fontFamily:"Eras ITC",fontSize:100,fontWeight:"bolder",fill:["#ffeaa0","#ffc260"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.init()}init(){this.createParent(),this.createPopup(),this.createMoney(),this.createSpins(),this.createCoin()}createParent(){this.overlay=l.default.loadTexture(this.textureArray,"modal","overlay"),this.overlay.width=this.baseWidth,this.overlay.height=this.baseHeight,this.container.addChild(this.overlay)}createPopup(){this.popGlow=new h.Spine(this.textureArray.pop_glow.spineData),this.popGlow.position.x=this.overlay.width/2,this.popGlow.position.y=1.15*this.overlay.height,this.popGlow.scale.x=1.4,this.popGlow.scale.y=1.7,l.default.loadSpineAnimation(this.popGlow,"glow",!0,.1),this.middleContainer.addChild(this.popGlow),this.logo=new h.Spine(this.textureArray.congrats.spineData),this.logo.x=this.overlay.width/2,this.logo.y=this.overlay.height/1.2,l.default.loadSpineAnimation(this.logo,"animation",!0,.2),this.middleContainer.addChild(this.logo),this.descText=new o.Text("YOU WON",this.textStyle),this.descText.x=(this.overlay.width-this.descText.width)/2,this.descText.y=(this.overlay.height-this.descText.height)/2*.74,this.middleContainer.addChild(this.descText),this.container.addChild(this.middleContainer)}createMoney(){this.money=new o.Text("0",this.textStyleYellow),this.money.x=(this.overlay.width-this.money.width)/2,this.money.y=(this.overlay.height-this.money.height)/2*1.06,this.middleContainer.addChild(this.money);const t=this.amount;this.durationCount=30;this.textAnimation=d.gsap.to(this.money,{pixi:{text:t},duration:this.durationCount,delay:.4,ease:"power1.out",onStart:()=>{this.money.text=(0).toString()},onUpdate:()=>{this.money.text=l.default.numberWithCommas(parseInt(this.money.text)).toString(),this.money.x=(this.overlay.width-this.money.width)/2,this.money.y=(this.overlay.height-this.money.height)/2*1.06},onComplete:()=>{this.textAnimation.kill()}})}createSpins(){this.spins=new o.Text(`IN ${this.noOfSpin} FREE SPINS`,this.textStyle2),this.spins.x=(this.overlay.width-this.spins.width)/2,this.spins.y=(this.overlay.height-this.spins.height)/1.5,this.middleContainer.addChild(this.spins);const t=new o.Text("click anywhere to continue",this.textStyle3);t.x=(this.overlay.width-t.width)/2,t.y=(this.overlay.height-t.height)/1.4,this.middleContainer.addChild(t)}createCoin(){for(let t=0;t<10;t++){let t=l.default.animatedSprite(this.textureArray.coins,"new_coin_spinning"),e=this.randMinMax(7.5,11.5),i=.15;const s=.15;t.scale.set(this.randMinMax(.2,.3)),t.anchor.set(.5),t.animationSpeed=this.randMinMax(.3,.5),t.x+=t.width,t.y+=t.height,t.x=-t.width,t.y=this.app.screen.height-this.randMinMax(100,550),this.coinsContainer.addChild(t),this.leftCoinAnimation=d.gsap.to(t,{rotation:20*Math.random(),duration:3,ease:"sine.in",repeat:-1,delay:this.randMinMax(0,5),onStart:()=>{t.play()},onUpdate:()=>{t.y+=i,t.x+=e,i+=s,e>0&&(e-=s/3),e<0&&(e=0),t.y>this.app.screen.height&&(i=.15,e=this.randMinMax(7.5,11.5),t.y=this.app.screen.height-this.randMinMax(100,550),t.scale.set(this.randMinMax(.2,.3)),t.x=-t.width,this.leftCoinAnimation.repeat())}})}for(let t=0;t<10;t++){let t=l.default.animatedSprite(this.textureArray.coins,"new_coin_spinning"),e=this.randMinMax(7.5,11.5),i=.15;const s=.15;t.scale.set(this.randMinMax(.2,.3)),t.anchor.set(.5),t.x+=t.width,t.y+=t.height,t.x=this.app.screen.width+t.width/2,t.y=this.app.screen.height-this.randMinMax(100,550),this.coinsContainer.addChild(t),this.rightCoinAnimation=d.gsap.to(t,{rotation:20*Math.random(),duration:3,ease:"sine.in",repeat:-1,delay:this.randMinMax(0,5),onStart:()=>{t.play()},onUpdate:()=>{t.y+=i,t.x-=e,i+=s,e>0&&(e-=s/3),e<0&&(e=0),t.y>this.app.screen.height&&(i=.15,e=this.randMinMax(7.5,11.5),t.y=this.app.screen.height-this.randMinMax(100,550),t.scale.set(this.randMinMax(.2,.3)),t.x=this.app.screen.width,this.rightCoinAnimation.repeat())}})}this.container.addChild(this.coinsContainer)}randMinMax(t,e){return Math.random()*(e-t)+t}}},12597:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const o=r(i(58687)),h=a(i(93807));e.default=class{constructor(t,e){this.app=t,this.baseWidth=this.app.screen.width,this.baseHeight=this.app.screen.height,this.textureArray=e,this.container=new o.Container,this.textStyle=new o.TextStyle({fontFamily:"Eras ITC",fontSize:55,fontWeight:"bolder",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:440,lineJoin:"round"}),this.textStyle2=new o.TextStyle({fontFamily:"Eras ITC",fontSize:20,fontWeight:"normal",fill:"#a7a7a7",wordWrapWidth:440}),this.init()}init(){this.createParent(),this.createChildren()}createParent(){this.parentSprite=h.default.loadTexture(this.textureArray,"controller","controller_parent"),this.parentSprite.y=this.baseHeight-this.parentSprite.height,this.container.addChild(this.parentSprite)}createChildren(){let t=h.default.loadTexture(this.textureArray,"controller","info_button"),e=h.default.loadTexture(this.textureArray,"controller","sound_off_button"),i=h.default.loadTexture(this.textureArray,"controller","spin_button"),s=h.default.loadTexture(this.textureArray,"controller","autoplay_button"),n=h.default.loadTexture(this.textureArray,"controller","system_settings"),r=h.default.loadTexture(this.textureArray,"controller","bet_container"),a=h.default.loadTexture(this.textureArray,"controller","credits_container");this.infoBtnSprite=t,this.infoBtnSprite.y=this.parentSprite.y+10,this.infoBtnSprite.x=1.64*this.infoBtnSprite.width,this.infoBtnSprite.interactive=!0,this.infoBtnSprite.cursor="pointer",this.container.addChild(this.infoBtnSprite),this.soundBtnSprite=e,this.soundBtnSprite.y=this.parentSprite.y+this.parentSprite.height-this.soundBtnSprite.height-25,this.soundBtnSprite.x=1.01*this.soundBtnSprite.width,this.soundBtnSprite.interactive=!0,this.soundBtnSprite.cursor="pointer",this.container.addChild(this.soundBtnSprite),this.spinBtnSprite=i,this.spinBtnSprite.y=this.parentSprite.y+15,this.spinBtnSprite.x=this.parentSprite.width-this.spinBtnSprite.width-147,this.spinBtnSprite.interactive=!0,this.spinBtnSprite.cursor="pointer",this.container.addChild(this.spinBtnSprite),this.autoPlay=s,this.autoPlay.y=this.parentSprite.y+this.parentSprite.height-1.2*this.autoPlay.height,this.autoPlay.x=this.parentSprite.width-this.autoPlay.width-45,this.autoPlay.interactive=!0,this.autoPlay.cursor="pointer",this.container.addChild(this.autoPlay),this.settingBtnSpite=n,this.settingBtnSpite.y=this.parentSprite.y+90,this.settingBtnSpite.x=1.5*this.settingBtnSpite.width,this.settingBtnSpite.interactive=!0,this.settingBtnSpite.cursor="pointer",this.container.addChild(this.settingBtnSpite),this.betContainerSprite=r,this.betContainerSprite.y=this.parentSprite.y+90,this.betContainerSprite.x=.95*this.betContainerSprite.width,this.betText=new o.Text("1",this.textStyle),this.betContainerSprite.addChild(this.betText),this.container.addChild(this.betContainerSprite),this.creditContainerSprite=a,this.creditContainerSprite.y=this.parentSprite.y+90,this.creditContainerSprite.x=.82*(this.parentSprite.width-this.creditContainerSprite.width),this.creditText=new o.Text("0",this.textStyle),this.creditText.x=(this.creditContainerSprite.width-this.creditText.width)/2,this.creditContainerSprite.addChild(this.creditText),this.container.addChild(this.creditContainerSprite)}}},70946:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const a=r(i(58687)),o=i(66358);e.default=class{constructor(t,e){this.arrayContents=[],this.slideDelays=[0,4,8,12,16],this.app=t,this.baseWidth=this.app.screen.width,this.baseHeight=this.app.screen.height,this.assets=e,this.container=new a.Container,this.centerContainer=new a.Container,this.slides=[{img:"slide_1",text:"PICK STONES TO REVEAL JACKPOT MATCH 3 TO WIN"},{img:"slide_2",text:"WILD SYMBOL TRIGGERS JACKPOT GAME"},{img:"slide_3",text:"WIN MONEY SYMBOLS ON REEL 2,3,4 AND 5 IN FREE SPIN FEATURE"},{img:"slide_4",text:"WIN MULTIPLIER SYMBOLS ON REEL 2,3,4 AND 5 IN FREE SPIN FEATURE"}],this.textStyle=new a.TextStyle({fontFamily:"Eras ITC",fontSize:40,fontWeight:"bold",fill:["#ffd957","#ec9a0c"],dropShadow:!0,dropShadowColor:"#622911",dropShadowBlur:0,dropShadowAngle:Math.PI/3,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:800,lineJoin:"round",align:"center"}),this.init()}init(){this.radioCont=new a.Container,this.bg=new a.Sprite(this.assets.intro.textures["intro_bg.png"]),this.radioOn=new a.Sprite(this.assets.intro.textures["radio_on.png"]).texture,this.container.addChild(this.bg),this.logo=new a.Sprite(this.assets.intro.textures["logo.png"]),this.centerContainer.addChild(this.logo),this.slides.forEach(((t,e)=>{const i=new a.Sprite(this.assets.intro.textures[`${t.img}.png`]);0!==e&&(i.alpha=0),i.y=1.2*(this.logo.height+this.logo.y),this.centerContainer.addChild(i);const s=new a.Sprite(this.assets.intro.textures["radio_off.png"]);this.radioOff=s.texture,0==e&&(s.texture=this.radioOn),s.x=s.width*e*1.3,s.y=750,s.interactive=!0,s.cursor="pointer",this.radioCont.addChild(s),this.centerContainer.addChild(this.radioCont);const n=new a.Text(`${t.text}`,this.textStyle);0!==e&&(n.alpha=0),n.x=(this.centerContainer.width-n.width)/2,n.y=1.1*s.y,this.centerContainer.addChild(n);let r={slideImg:i,text:n,radio:s};this.arrayContents.push(r),s.addEventListener("pointerdown",(()=>{this.setActiveSlide(e)})),this.playSlideAnimation(e,i)})),this.radioCont.x=(this.centerContainer.width-this.radioCont.width)/2,this.container.addChild(this.centerContainer),this.centerContainer.x=(this.baseWidth-this.centerContainer.width)/2,this.centerContainer.y=(this.baseHeight-this.centerContainer.height)/2,this.logo.x=(this.centerContainer.width-this.logo.width)/2,this.playBtn=new a.Sprite(this.assets.intro.textures["play_btn.png"]),this.playBtn.x=.9*(this.baseWidth-this.playBtn.width),this.playBtn.y=.9*(this.baseHeight-this.playBtn.height),this.playBtn.interactive=!0,this.playBtn.cursor="pointer",this.btnScaleAnimation=o.gsap.timeline({repeat:-1,onUpdate:()=>{this.playBtn.x=.9*(this.baseWidth-this.playBtn.width),this.playBtn.y=.9*(this.baseHeight-this.playBtn.height)}}),this.btnScaleAnimation.to(this.playBtn.scale,{duration:.5,x:1.2,y:1.2}).to(this.playBtn.scale,{duration:.5,x:1,y:1}),this.btnScaleAnimation.play(),this.container.addChild(this.playBtn)}playSlideAnimation(t,e){let i=o.gsap.to(e,{delay:this.slideDelays[t],duration:1,alpha:1,onStart:()=>{this.setActiveSlide(t)},onComplete:()=>{i.kill();let s=o.gsap.to(e,{delay:2,duration:1,alpha:0,onComplete:()=>{s.kill(),3==t&&this.arrayContents.forEach(((t,e)=>{this.playSlideAnimation(e,t.slideImg)}))}})}})}setActiveSlide(t){this.arrayContents.forEach((t=>{t.slideImg.alpha=0})),this.arrayContents[t].slideImg.alpha=1,this.arrayContents.forEach((t=>{t.radio.texture=this.radioOff,t.radio.interactive=!0})),this.arrayContents[t].radio.interactive=!1,this.arrayContents[t].radio.texture=this.radioOn,this.arrayContents.forEach((t=>{t.text.alpha=0})),this.arrayContents[t].text.alpha=1}}},33302:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const o=r(i(58687)),h=a(i(75933)),l=i(41766);e.default=class{constructor(t,e){this.soundsPath="assets/sounds/",this.soundsGlobal=[],this.app=new o.Application({width:1920,height:1080}),this.loadingContainer=new o.Container,this.loadingTextStyle=new o.TextStyle({fontFamily:"Eras ITC",fontSize:40,fontWeight:"bolder",fill:"#ffffff",wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.loadingTextStyle2=new o.TextStyle({fontFamily:"arial",fontSize:30,fontWeight:"bolder",fill:"#ffffff",wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.sounds=e,globalThis.__PIXI_APP__=this.app,document.body.appendChild(this.app.view),this.init(t),h.default.load({custom:{families:["Eras ITC"]}})}async init(t){this.soundSetup(`${this.soundsPath}music/main_music.mp3`,!0),this.soundSetup(`${this.soundsPath}sfx/ui/click.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/ui/hover.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/reel_spin.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/reel_stop.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/common_effect.mp3`,!1),this.soundSetup(`${this.soundsPath}music/event_music.mp3`,!0),this.soundSetup(`${this.soundsPath}sfx/win/new_win.mp3`,!0),this.soundSetup(`${this.soundsPath}music/matchgame_music.mp3`,!0),this.soundSetup(`${this.soundsPath}sfx/reel/bonus_impact.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/bonus_impact2.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/bonus_power.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/ui/confirm.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/ui/reject.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/ui/pops_show.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/ui/buy_bonus_confirm.mp3`,!1),this.soundSetup(`${this.soundsPath}music/spin_music.mp3`,!0),this.soundSetup(`${this.soundsPath}music/win_music.mp3`,!0),this.soundSetup(`${this.soundsPath}sfx/reel/wild_reveal.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/wild_bar_money.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/bonus/rock_click.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/bonus/mini.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/bonus/major.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/bonus/grand.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/normal_payline.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/monkey.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/chameleon.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/bird.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/snake.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/tiger.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/ui/confirm2.mp3`,!1),await o.Assets.init({manifest:{bundles:[{name:"loading-screen",assets:[{name:"loading",srcs:"assets/desktop/loading/sprites/loading.json"}]},{name:"game-screen",assets:[{name:"main",srcs:"assets/desktop/main/sprites/main.json"},{name:"controller",srcs:"assets/desktop/controller/sprites/controller.json"},{name:"slot",srcs:"assets/desktop/slot/sprites/slot.json"},{name:"bonus",srcs:"assets/desktop/bonus/sprites/bonus.json"},{name:"modal",srcs:"assets/desktop/modal/sprites/modal.json"},{name:"grass",srcs:"assets/desktop/main/sprites/grass.json"},{name:"pop_glow",srcs:"assets/desktop/bonus/sprites/pop_glow.json"},{name:"coins",srcs:"assets/desktop/pop_ups/sprites/coins.json"},{name:"transition",srcs:"assets/desktop/pop_ups/sprites/transition_leaf.json"},{name:"pop_ups",srcs:"assets/desktop/pop_ups/sprites/pop-ups.json"},{name:"congrats",srcs:"assets/desktop/pop_ups/sprites/congrats.json"},{name:"frame_glow",srcs:"assets/desktop/bonus/sprites/frame_glow.json"},{name:"rock_block",srcs:"assets/desktop/bonus/sprites/rock_block.json"},{name:"reel_effect",srcs:"assets/desktop/bonus/sprites/reel_effect.json"},{name:"bird",srcs:"assets/desktop/slot/sprites/bird.json"},{name:"blue_crystal",srcs:"assets/desktop/slot/sprites/blue_crystal.json"},{name:"bonus_symbol",srcs:"assets/desktop/slot/sprites/bonus.json"},{name:"cameleon",srcs:"assets/desktop/slot/sprites/chameleon.json"},{name:"snake",srcs:"assets/desktop/slot/sprites/snake.json"},{name:"violet_crystal",srcs:"assets/desktop/slot/sprites/violet_crystal.json"},{name:"monkey",srcs:"assets/desktop/slot/sprites/monkey.json"},{name:"tiger",srcs:"assets/desktop/slot/sprites/tiger.json"},{name:"green_crystal",srcs:"assets/desktop/slot/sprites/green_crystal.json"},{name:"orange_crystal",srcs:"assets/desktop/slot/sprites/orange_crystal.json"},{name:"wild",srcs:"assets/desktop/slot/sprites/wild.json"},{name:"2k",srcs:"assets/desktop/slot/sprites/2k.json"},{name:"3k",srcs:"assets/desktop/slot/sprites/3k.json"},{name:"5k",srcs:"assets/desktop/slot/sprites/5k.json"},{name:"x2",srcs:"assets/desktop/slot/sprites/x2.json"},{name:"x3",srcs:"assets/desktop/slot/sprites/x3.json"},{name:"x5",srcs:"assets/desktop/slot/sprites/x5.json"},{name:"plant_1",srcs:"assets/desktop/main/sprites/plant_1.json"},{name:"plant_2",srcs:"assets/desktop/main/sprites/plant2.json"},{name:"plant_3",srcs:"assets/desktop/main/sprites/plant3.json"},{name:"plant_4",srcs:"assets/desktop/main/sprites/plant4.json"},{name:"plant_5",srcs:"assets/desktop/main/sprites/banana.json"},{name:"vines",srcs:"assets/desktop/main/sprites/vines.json"},{name:"firefly",srcs:"assets/desktop/main/sprites/firefly.json"},{name:"butterfly",srcs:"assets/desktop/main/sprites/butterfly.json"},{name:"intro",srcs:"assets/desktop/intro/sprites/intro.json"},{name:"buttons_hover",srcs:"assets/desktop/buttons_hover/sprites/buttons_hover.json"}]}]}}),o.Assets.backgroundLoadBundle(["load-screen","game-screen"]),this.loadingScreen(t)}async loadingScreen(t){const e=new o.Container;this.loadingAssets=await o.Assets.loadBundle("loading-screen"),this.loadingBg=new o.Sprite(this.loadingAssets.loading.textures["loading_background.png"]),this.app.stage.addChild(this.loadingBg);const i=new o.Sprite(this.loadingAssets.loading.textures["logo.png"]);i.scale.set(1.3),this.loadingContainer.addChild(i);const s=new o.Sprite(this.loadingAssets.loading.textures["loading_bg.png"]);s.x=(i.width-s.width)/2,s.y=1.8*i.height,this.loadingContainer.addChild(s);const n=new o.Sprite(this.loadingAssets.loading.textures["loading_progress.png"]);n.x=(i.width-n.width)/2,n.y=s.y+(s.height-n.height)/2-5,this.loadingContainer.addChild(n);const r=new o.Sprite(this.loadingAssets.loading.textures["loading_progress_mask.png"]);r.width=0,r.x=n.x,r.y=n.y,this.loadingContainer.addChild(r),n.mask=r;const a=new o.Text("Loading",this.loadingTextStyle);a.x=(i.width-a.width)/2,a.y=s.y+-(a.y+1.3*a.height),this.loadingContainer.addChild(a),this.loadingContainer.x=(this.app.screen.width-this.loadingContainer.width)/2,this.loadingContainer.y=(this.app.screen.height-this.loadingContainer.height)/2,this.app.stage.addChild(this.loadingContainer),this.gameAssets=await o.Assets.loadBundle("game-screen",(t=>{t<1?r.width+=11:r.width=451})),this.loadingContainer.removeChild(s,n,a);const h=new o.Text("DO YOU WANT TO PLAY WITH SOUND?",this.loadingTextStyle);h.x=(this.loadingContainer.width-h.width)/2,h.y=a.y-11,this.loadingContainer.addChild(h);const l=new o.Sprite(this.loadingAssets.loading.textures["ex.png"]);l.interactive=!0,l.cursor="pointer",e.addChild(l);const d=new o.Sprite(this.loadingAssets.loading.textures["check.png"]);d.interactive=!0,d.cursor="pointer",d.x=2.5*l.width,e.addChild(d),e.x=(this.loadingContainer.width-e.width)/2,e.y=1.3*h.y,this.loadingContainer.addChild(e),this.loadingContainer.x=(this.app.screen.width-this.loadingContainer.width)/2,this.loadingContainer.y=(this.app.screen.height-this.loadingContainer.height)/2,l.addEventListener("pointerdown",(()=>{this.introScreen(t,!1)})),d.addEventListener("pointerdown",(()=>{this.introScreen(t,!0)}))}introScreen(t,e){this.soundPrompt(e),this.app.stage.removeChild(this.loadingContainer),this.app.stage.removeChild(this.loadingBg),t(this.gameAssets,this.app)}soundPrompt(t){this.sounds(t,this.soundsGlobal)}soundSetup(t,e){const i=new l.Howl({src:t,loop:e});this.soundsGlobal.push(i)}}},16541:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const o=r(i(58687)),h=a(i(93807)),l=a(i(91103)),d=a(i(20461));e.default=class{constructor(t,e,i){this.titleY=50,this.betAmount=1,this.btnArray=[],this.betBtns=[],this.soundBtns=[],this.app=t,this.baseWidth=this.app.screen.width,this.baseHeight=this.app.screen.height,this.textureArray=e,this.spinBtnTextureOn=h.default.loadTexture(this.textureArray,"modal","spin_amount_btn_active").texture,this.spinBtnTextureOff=h.default.loadTexture(this.textureArray,"modal","spin_amount_btn").texture,this.container=new o.Container,this.infoFirstPageContainer=new o.Container,this.infoSecondPageContainer=new o.Container,this.infoThirdPageContainer=new o.Container,this.infoFourthPageContainer=new o.Container,this.infoFifthPageContainer=new o.Container,this.infoSixthPageContainer=new o.Container,this.infoSeventhPageContainer=new o.Container,this.textStyle=new o.TextStyle({fontFamily:"Eras ITC",fontSize:36,fontWeight:"bold",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:440,lineJoin:"round"}),this.textStyle2=new o.TextStyle({fontFamily:"Arial",fontSize:20,fontWeight:"normal",fill:"#a7a7a7",wordWrapWidth:440}),this.textStyle3=new o.TextStyle({fontFamily:"Arial",fontSize:30,fontWeight:"normal",fill:"#ffffff",wordWrap:!0,wordWrapWidth:1200,align:"center"}),this.textStyle4=new o.TextStyle({fontFamily:"Arial",fontSize:20,fontWeight:"normal",fill:"#fff",wordWrap:!0,wordWrapWidth:400}),this.textStyle4Center=new o.TextStyle({fontFamily:"Arial",fontSize:20,fontWeight:"normal",fill:"#fff",wordWrap:!0,wordWrapWidth:600,align:"center"}),this.playSound=i,this.init()}init(){this.createParent()}createParent(){this.overlay=h.default.loadTexture(this.textureArray,"modal","overlay"),this.modalFrame=h.default.loadTexture(this.textureArray,"modal","modal_frame"),this.modalFrame.x=(this.overlay.width-this.modalFrame.width)/2,this.modalFrame.y=(this.overlay.height-this.modalFrame.height)/2,this.closeModal=h.default.loadTexture(this.textureArray,"modal","close_button"),this.closeModal.scale.set(.8),this.closeModal.cursor="pointer",this.closeModal.interactive=!0,this.closeModal.x=this.modalFrame.width-this.closeModal.width-30,this.closeModal.y=30,this.closeModal.addListener("pointerdown",(()=>{this.modalFrame.removeChild(this.systemContainer),this.modalFrame.removeChild(this.modalTitle),this.modalFrame.removeChild(this.autoPlaySettingsCont),this.modalFrame.removeChild(this.infoContainer),this.app.stage.removeChild(this.container)})),this.modalFrame.addChild(this.closeModal)}createSystemSettings(t){this.betBtns=[],this.soundBtns=[],this.systemContainer=new o.Container;const e=new o.Container,i=new o.Container;this.modalTitle=h.default.loadTexture(this.textureArray,"modal","system_settings_title"),this.modalTitle.x=(this.modalFrame.width-this.modalTitle.width)/2,this.modalTitle.y=this.titleY,this.modalFrame.addChild(this.modalTitle);const s=h.default.loadTexture(this.textureArray,"modal","separate");s.x=(this.modalFrame.width-s.width)/2,this.systemContainer.addChild(s),this.systemContainer.y=(this.modalFrame.height-this.systemContainer.height)/2,this.betAmountSpite=h.default.loadTexture(this.textureArray,"modal","total_bet_container"),this.betAmountSpite.x=0,e.addChild(this.betAmountSpite),this.betAmountText=new o.Text("1",this.textStyle),this.betAmountText.x=(this.betAmountSpite.width-this.betAmountText.width)/2,this.betAmountText.y=(this.betAmountSpite.height-this.betAmountText.height)/2,e.addChild(this.betAmountText);const n=new o.Text("TOTAL BET",this.textStyle);n.x=(this.betAmountSpite.width-n.width)/2,n.y=-n.height,e.addChild(n),this.minusBtn=h.default.loadTexture(this.textureArray,"modal","minus_bet"),this.minusBtn.x=this.betAmountSpite.x,this.minusBtn.y=this.betAmountSpite.height+20,this.minusBtn.interactive=!t,this.minusBtn.cursor="pointer",this.betBtns.push(this.minusBtn),e.addChild(this.minusBtn),this.plusBtn=h.default.loadTexture(this.textureArray,"modal","add_bet"),this.plusBtn.x=this.betAmountSpite.x+this.betAmountSpite.width-this.plusBtn.width,this.plusBtn.y=this.minusBtn.y,this.plusBtn.interactive=!t,this.plusBtn.cursor="pointer",this.betBtns.push(this.plusBtn),e.x=(s.x-e.width)/2,e.y=(s.height-e.height)/1.3,e.addChild(this.plusBtn),this.systemContainer.addChild(e);const r=new o.Text("AMBIENT MUSIC",this.textStyle);r.x=2.1*(s.x-r.width);const a=new o.Text("Turn on and off background music ",this.textStyle2);a.x=r.x,a.y=45,i.addChild(r,a),this.musicBtnSprite=h.default.loadTexture(this.textureArray,"modal","off"),this.musicBtnSprite.interactive=!0,this.musicBtnSprite.cursor="pointer",this.musicBtnSprite.x=1.5*r.x,this.musicBtnSprite.y=r.y+15,this.soundBtns.push(this.musicBtnSprite),i.addChild(this.musicBtnSprite);const l=new o.Text("SOUND FX",this.textStyle);l.x=r.x,l.y=120;const d=new o.Text("Turn on and off sound effects",this.textStyle2);d.x=l.x,d.y=l.y+45,i.addChild(l,d),this.sfxBtnSprite=h.default.loadTexture(this.textureArray,"modal","off"),this.sfxBtnSprite.interactive=!0,this.sfxBtnSprite.cursor="pointer",this.sfxBtnSprite.x=1.5*l.x,this.sfxBtnSprite.y=l.y+15,this.soundBtns.push(this.sfxBtnSprite),i.addChild(this.sfxBtnSprite),i.y=(this.systemContainer.height-i.height)/2,this.systemContainer.addChild(i),this.modalFrame.addChild(this.systemContainer),this.container.addChild(this.overlay,this.modalFrame),this.app.stage.addChild(this.container)}createAutoPlaySettings(){this.autoPlaySettingsCont=new o.Container;const t=new o.Container;let e=[];l.default.auto_play_values.forEach(((t,i)=>{const s=h.default.loadTexture(this.textureArray,"modal","spin_amount_btn"),n=new o.Text(`${t.value}`,this.textStyle);n.x=(s.width-n.width)/2,n.y=(s.height-n.height)/2,s.addChild(n),s.x=250*t.x,s.cursor="pointer",s.interactive=!0,i>=5&&(s.y=110),s.addEventListener("pointerdown",(()=>{this.totalSpin=t.value,e.forEach((t=>{t.texture=this.spinBtnTextureOff})),s.texture=this.spinBtnTextureOn})),e.push(s),this.autoPlaySettingsCont.addChild(s)}));const i=new o.Text("QUICK SPIN",this.textStyle);i.y=250,t.addChild(i);const s=new o.Text("Reduce the overall spin time to play quickly",this.textStyle2);s.y=1.2*i.y,t.addChild(s);const n=new o.Text("TURBO SPIN",this.textStyle);n.y=350,t.addChild(n);const r=new o.Text("Reduce the overall spin time to play quickly",this.textStyle2);r.y=1.13*n.y,t.addChild(r);const a=h.default.loadTexture(this.textureArray,"modal","off");a.interactive=!0,a.cursor="pointer",a.x=500,a.y=1.05*i.y,this.btnArray.push(a),t.addChild(a);const d=h.default.loadTexture(this.textureArray,"modal","off");d.interactive=!0,d.cursor="pointer",d.x=500,d.y=1.05*n.y,this.btnArray.push(d),t.addChild(d),this.rollBtn=h.default.loadTexture(this.textureArray,"modal","roll"),this.rollBtn.interactive=!0,this.rollBtn.cursor="pointer",this.rollBtn.x=(t.width-this.rollBtn.width)/2,this.rollBtn.y=1.2*r.y;const u=new o.Text("Let's Roll!",this.textStyle);u.x=(this.rollBtn.width-u.width)/2,u.y=(this.rollBtn.height-u.height)/2,this.rollBtn.addChild(u),t.addChild(this.rollBtn),t.x=(this.autoPlaySettingsCont.width-t.width)/2,this.autoPlaySettingsCont.addChild(t),this.autoPlaySettingsCont.x=(this.modalFrame.width-this.autoPlaySettingsCont.width)/2,this.autoPlaySettingsCont.y=(this.modalFrame.height-this.autoPlaySettingsCont.height)/2,this.modalFrame.addChild(this.autoPlaySettingsCont),this.container.addChild(this.overlay,this.modalFrame),this.app.stage.addChild(this.container),this.rollBtn.addEventListener("pointerdown",(()=>{this.modalFrame.removeChild(this.autoPlaySettingsCont),this.app.stage.removeChild(this.container)}))}createInfoModal(){this.infoContainer=new o.Container;let t=0,e=d.default.modalInfoPage.length-1,i=null;const s=h.default.loadTexture(this.textureArray,"modal","paytable_slot_title");s.x=(this.modalFrame.width-s.width)/2,s.y=30,this.infoContainer.addChild(s);const n=new o.Text(`${d.default.modalInfoPage[t].desc}`,this.textStyle3);n.x=(this.modalFrame.width-n.width)/2,n.y=1.2*(s.height+30),this.infoContainer.addChild(n);const r=new o.Text(`Page ${t+1}/${e+1}`,this.textStyle2);r.x=.95*(this.modalFrame.width-r.width),r.y=.95*(this.modalFrame.height-r.height),this.infoContainer.addChild(r);const a=h.default.loadTexture(this.textureArray,"modal","left_arrow");a.interactive=!0,a.cursor="pointer",a.x=30,a.y=(this.modalFrame.height-a.height)/2,this.infoContainer.addChild(a),i={pageTitle:s,pageDesc:n,pageText:r},a.addEventListener("pointerdown",(()=>{this.playSound(1),0!==t&&t--,this.updatePageContent(i,t,e)}));const l=h.default.loadTexture(this.textureArray,"modal","right_arrow");l.interactive=!0,l.cursor="pointer",l.x=this.modalFrame.width-l.width-30,l.y=(this.modalFrame.height-l.height)/2,this.infoContainer.addChild(l),l.addEventListener("pointerdown",(()=>{this.playSound(1),t!==e&&t++,this.updatePageContent(i,t,e)})),this.infoFirstPageContainer.alpha=1,this.infoSecondPageContainer.alpha=0,this.infoThirdPageContainer.alpha=0,this.infoFourthPageContainer.alpha=0,this.infoFifthPageContainer.alpha=0,this.infoSixthPageContainer.alpha=0,this.infoSeventhPageContainer.alpha=0,this.createInfoFirstPage(),this.createInfoSecondPage(),this.createInfoThirdPage(),this.creatFourthPage(),this.createFifthPage(),this.createSixthPage(),this.createSeventhPage(),this.modalFrame.addChild(this.infoContainer),this.container.addChild(this.overlay,this.modalFrame),this.app.stage.addChild(this.container)}updatePageContent(t,e,i){const{pageTitle:s,pageDesc:n,pageText:r}=t,a=d.default.modalInfoPage[e];s.texture=h.default.loadTexture(this.textureArray,"modal",`${a.title}`).texture,s.x=(this.modalFrame.width-s.width)/2,n.text=a.desc,n.x=(this.modalFrame.width-n.width)/2,r.text=`Page ${e+1}/${i+1}`,r.x=.95*(this.modalFrame.width-r.width),this.infoFirstPageContainer.alpha=0,this.infoSecondPageContainer.alpha=0,this.infoThirdPageContainer.alpha=0,this.infoFourthPageContainer.alpha=0,this.infoFifthPageContainer.alpha=0,this.infoSixthPageContainer.alpha=0,this.infoSeventhPageContainer.alpha=0,0==e?this.infoFirstPageContainer.alpha=1:1==e?this.infoSecondPageContainer.alpha=1:2==e?this.infoThirdPageContainer.alpha=1:3==e?this.infoFourthPageContainer.alpha=1:4==e?this.infoFifthPageContainer.alpha=1:5==e?this.infoSixthPageContainer.alpha=1:this.infoSeventhPageContainer.alpha=1,this.infoFirstPageContainer.x=(this.infoContainer.width-this.infoFirstPageContainer.width)/2,this.infoContainer.x=0}createInfoFirstPage(){const t=new o.Container,e=new o.Container,i=new o.Container;d.default.mainSymbols.forEach(((s,n)=>{const r=h.default.loadTexture(this.textureArray,"modal",`${s.img}`),a=new o.Text(`${s.text}`,this.textStyle4);r.scale.set(.7),n<=4?(r.x=r.width*n*1.2,r.y=0,a.y=r.height,a.x=r.x+(r.width-a.width)/2,t.addChild(r,a)):n>=5&&n<=8?(r.x=r.width*(n-5)*1.2,r.y=1.2*r.height,a.y=r.height+r.y,a.x=r.x+(r.width-a.width)/2,e.addChild(r,a)):(r.x=10==n?0:3.5*r.width,r.y=2*r.height,a.y=r.y+(r.height-a.height)/2,a.x=r.x+r.width+10,i.addChild(r,a))})),this.infoFirstPageContainer.addChild(t),t.x=(this.infoContainer.width-t.width)/2,t.y=120,this.infoFirstPageContainer.addChild(e),e.x=(this.infoContainer.width-e.width)/2,e.y=144,this.infoFirstPageContainer.addChild(i),i.x=(this.infoContainer.width-i.width)/2,i.y=204,this.infoFirstPageContainer.x=(this.infoContainer.width-this.infoFirstPageContainer.width)/2,this.infoContainer.addChild(this.infoFirstPageContainer)}createInfoSecondPage(){const t=new o.Container,e=h.default.loadTexture(this.textureArray,"modal","jackpot_img"),i=new o.Text("In the jackpot game pick stone to reveal a jackpot symbol, Match 3 of the same symbol to be awarded the corresponding jackpot!",this.textStyle4Center);d.default.jackpotSymbols.forEach(((e,i)=>{const s=h.default.loadTexture(this.textureArray,"modal",`${e.img}`),n=new o.Text(`${e.text}`,this.textStyle4);s.scale.set(1.6),s.x=s.width*i*1.2,n.x=s.x+(s.width-n.width)/2,n.y=1.1*s.height,t.addChild(s,n)})),e.y=t.height,i.y=1.05*(e.y+e.height),this.infoSecondPageContainer.addChild(t),this.infoSecondPageContainer.addChild(e),this.infoSecondPageContainer.addChild(i),t.x=(this.infoSecondPageContainer.width-t.width)/2,this.infoSecondPageContainer.x=(this.modalFrame.width-this.infoSecondPageContainer.width)/2,this.infoSecondPageContainer.y=(this.modalFrame.height-this.infoSecondPageContainer.height)/2,this.infoContainer.addChild(this.infoSecondPageContainer)}createInfoThirdPage(){const t=new o.Container;d.default.freeSpinImages.forEach(((e,i)=>{const s=h.default.loadTexture(this.textureArray,"modal",`${e.img}`),n=new o.Text(`${e.text}`,this.textStyle),r=new o.Text(`${e.desc}`,this.textStyle4Center);s.scale.set(.7),s.x=1.3*(0==i?s.width:0),n.x=s.x+(s.width-n.width)/2,n.y=-n.height,r.x=s.x+(s.width-r.width)/2,r.y=1.2*s.height,t.addChild(s,n,r)})),t.x=(this.modalFrame.width-t.width)/2,this.infoThirdPageContainer.addChild(t),this.infoThirdPageContainer.x=(this.infoContainer.width-this.infoThirdPageContainer.width)/2,this.infoThirdPageContainer.y=(this.modalFrame.height-this.infoThirdPageContainer.height)/2*1.4,this.infoContainer.addChild(this.infoThirdPageContainer)}creatFourthPage(){const t=h.default.loadTexture(this.textureArray,"modal","patterns");t.scale.set(.8),t.x=(this.modalFrame.width-t.width)/2,t.y=(this.modalFrame.height-t.height)/2,this.infoFourthPageContainer.addChild(t),this.infoContainer.addChild(this.infoFourthPageContainer)}createFifthPage(){const t=h.default.loadTexture(this.textureArray,"modal","how_to_play_content");t.x=(this.modalFrame.width-t.width)/2,t.y=(this.modalFrame.height-t.height)/2,this.infoFifthPageContainer.addChild(t),this.infoContainer.addChild(this.infoFifthPageContainer)}createSixthPage(){const t=h.default.loadTexture(this.textureArray,"modal","settings_menu_content");t.x=(this.modalFrame.width-t.width)/2,t.y=(this.modalFrame.height-t.height)/2,this.infoSixthPageContainer.addChild(t),this.infoContainer.addChild(this.infoSixthPageContainer)}createSeventhPage(){this.infoContainer.addChild(this.infoSeventhPageContainer)}}},49217:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const o=r(i(58687)),h=i(47466),l=a(i(93807)),d=i(66358);e.default=class{constructor(t,e,i,s,n){this.noOfSpin=0,this.matchingGameWin=0,this.animationSkin="",this.app=t,this.container=new o.Container,this.middleContainer=new o.Container,this.coinsContainer=new o.Container,this.gameContainer=e,this.baseWidth=this.app.screen.width,this.baseHeight=this.app.screen.height,this.textureArray=i,this.animationSkin=s,this.matchingGameWin=n,this.textStyle=new o.TextStyle({fontFamily:"Eras ITC",fontSize:100,fontWeight:"bolder",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.textStyle2=new o.TextStyle({fontFamily:"Eras ITC",fontSize:60,fontWeight:"bolder",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.textStyle3=new o.TextStyle({fontFamily:"Eras ITC",fontSize:30,fontWeight:"bolder",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.textStyleYellow=new o.TextStyle({fontFamily:"Eras ITC",fontSize:80,fontWeight:"bolder",fill:["#ffeaa0","#ffc260"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.init()}init(){this.createParent(),this.createPopup(),this.createMoney(),this.createCoin(),this.container.interactive=!0,this.container.cursor="pointer",this.container.addEventListener("pointerdown",(()=>{this.closePopUp()}))}closePopUp(){let t=d.gsap.to(this.container,{duration:2,alpha:0,onComplete:()=>{t.kill(),this.gameContainer.removeChild(this.container)}})}createParent(){this.overlay=l.default.loadTexture(this.textureArray,"modal","overlay"),this.overlay.width=this.baseWidth,this.overlay.height=this.baseHeight,this.container.addChild(this.overlay),this.container.alpha=0;let t=d.gsap.to(this.container,{duration:1,alpha:1,onComplete:()=>{t.kill()}})}createPopup(){this.logo=new h.Spine(this.textureArray.pop_ups.spineData),this.logo.scale.set(1.3),this.logo.x=this.overlay.width/2,this.logo.y=this.overlay.height/2*.7,this.logo.skeleton.setSkinByName(this.animationSkin),l.default.loadSpineAnimation(this.logo,"animation",!0,.7),this.middleContainer.addChild(this.logo),this.container.addChild(this.middleContainer)}createMoney(){let t,e;this.money=new o.Text("0",this.textStyleYellow),e=(this.overlay.width-this.money.width)/2*1.3,t=(this.overlay.height-this.money.height)/2*.83,this.money.x=e,this.money.y=t,this.middleContainer.addChild(this.money);const i=this.matchingGameWin;let s=d.gsap.to(this.money,{pixi:{text:i},duration:30,delay:.4,ease:"power1.out",onStart:()=>{this.money.text=(0).toString()},onUpdate:()=>{this.money.text=l.default.numberWithCommas(parseInt(this.money.text)).toString(),this.money.x=(this.overlay.width-this.money.width)/2*1.03,this.money.y=t},onComplete:()=>{s.kill()}})}createCoin(){for(let t=0;t<10;t++){let t=l.default.animatedSprite(this.textureArray.coins,"new_coin_spinning"),e=this.randMinMax(7.5,11.5),i=.15;const s=.15;t.scale.set(this.randMinMax(.2,.3)),t.anchor.set(.5),t.animationSpeed=this.randMinMax(.3,.5),t.x+=t.width,t.y+=t.height,t.x=-t.width,t.y=this.app.screen.height-this.randMinMax(100,550),this.coinsContainer.addChild(t),this.leftCoinAnimation=d.gsap.to(t,{rotation:20*Math.random(),duration:3,ease:"sine.in",repeat:-1,delay:this.randMinMax(0,5),onStart:()=>{t.play()},onUpdate:()=>{t.y+=i,t.x+=e,i+=s,e>0&&(e-=s/3),e<0&&(e=0),t.y>this.app.screen.height&&(i=.15,e=this.randMinMax(7.5,11.5),t.y=this.app.screen.height-this.randMinMax(100,550),t.scale.set(this.randMinMax(.2,.3)),t.x=-t.width,this.leftCoinAnimation.repeat())}})}for(let t=0;t<10;t++){let t=l.default.animatedSprite(this.textureArray.coins,"new_coin_spinning"),e=this.randMinMax(7.5,11.5),i=.15;const s=.15;t.scale.set(this.randMinMax(.2,.3)),t.anchor.set(.5),t.x+=t.width,t.y+=t.height,t.x=this.app.screen.width+t.width/2,t.y=this.app.screen.height-this.randMinMax(100,550),this.coinsContainer.addChild(t),this.rightCoinAnimation=d.gsap.to(t,{rotation:20*Math.random(),duration:3,ease:"sine.in",repeat:-1,delay:this.randMinMax(0,5),onStart:()=>{t.play()},onUpdate:()=>{t.y+=i,t.x-=e,i+=s,e>0&&(e-=s/3),e<0&&(e=0),t.y>this.app.screen.height&&(i=.15,e=this.randMinMax(7.5,11.5),t.y=this.app.screen.height-this.randMinMax(100,550),t.scale.set(this.randMinMax(.2,.3)),t.x=this.app.screen.width,this.rightCoinAnimation.repeat())}})}this.container.addChild(this.coinsContainer)}randMinMax(t,e){return Math.random()*(e-t)+t}}},37548:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const o=r(i(58687)),h=a(i(93807)),l=a(i(91103)),d=i(66358),u=i(34607),c=i(47466);d.gsap.registerPlugin(u.PixiPlugin),u.PixiPlugin.registerPIXI(o);e.default=class{constructor(t,e,i,s,n,r,a,h,l,d,u,c,p,m){this.bonusType=10,this.wildType=11,this.blockWidth=280,this.blockHeight=260,this.blockSpacing=258,this.reelPosX=[366.5,668.5,966,1263,1558.5],this.reelEffectPosX=[369,666,967.5,1263,1558.5],this.reelContainer=[],this.reelsSymbols=[],this.spinCount=0,this.isSpinning=!1,this.notLongPress=!0,this.reelsValues=[[3,4,3,11,10,1,2,4,11,8,4,11,2,9,3,10,1,4,5,9,2,6,8,6,9,3,9,7,1,7],[2,8,3,11,10,7,3,11,9,1,4,2,3,4,4,7,5,10,5,9,2,6,8,6,9,3,9,11,1,7],[1,2,9,3,10,2,3,9,8,10,2,4,11,4,2,11,5,9,5,9,2,6,8,6,9,3,11,7,1,7],[1,1,1,1,11,4,1,1,11,1,4,10,11,11,1,1,4,1,5,9,2,6,8,11,9,3,9,7,1,7],[11,5,9,2,4,6,11,11,2,9,10,5,3,3,8,11,4,5,3,5,8,9,1,6,6,11,3,7,3,2]],this.reelsValuesMoneySlot=[[11,4,3,2,3,1,2,6,7,8,4,3,2,8,4,2,1,6,5,8,2,6,8,6,8,1,8,7,1,7],[2,8,5,11,1,7,8,8,8,1,4,2,1,4,4,7,5,1,5,8,2,6,8,6,8,9,8,7,1,7],[1,2,8,1,2,2,11,8,8,3,2,4,4,4,2,4,5,8,5,8,2,6,8,6,8,9,8,7,1,7],[1,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,1,1,5,9,2,6,8,6,8,11,8,7,1,7],[2,5,8,2,4,6,5,4,2,8,5,5,6,2,8,2,4,5,5,5,8,8,1,6,6,4,11,7,9,2]],this.reelY=-6713.7,this.timeScale=0,this.autoPlayCount=0,this.spinType="",this.spinDuration=0,this.levelBarWidth=742,this.totalWin=0,this.paylines=[],this.animateDone=!0,this.symbolCount=0,this.symbolCount2=0,this.symbolCount3=0,this.winFreeSpin=0,this.isFreeSpin=!1,this.isFreeSpinDone=!0,this.freeSpinStart=!1,this.autoplayDoneEvent=!0,this.startCountWinFreeSpin=!1,this.isMatchingGame=!1,this.preGeneratedTypes=[],this.reelEffect=[],this.spinReelAnimation=[],this.isBonusTick=!1,this.whatEvent=0,this.generateTypeIndex=0,this.bonusSymbolsCount=0,this.app=t,this.sound=c,this.baseWidth=this.app.screen.width,this.baseHeight=this.app.screen.height,this.textureArray=e,this.container=new o.Container,this.levelBarContainer=new o.Container,this.reelsContainer=new o.Container,this.container.sortableChildren=!0,this.onSpinEnd=i,this.createCongrats=h,this.matchingGame=s,this.freeSpinEvent=r,this.checkIfFreeSpin=a,this.onSpinning=n,this.onSpin=l,this.playSound=d,this.soundStop=u,this.fadeSound=p,this.soundVolume=m,this.init()}init(){this.createParent(),this.createLogo(),this.createLevelBar(),this.createReels()}createParent(){this.frameBg=h.default.loadTexture(this.textureArray,"main","slot_frame_bg"),this.frameBg.y=(this.baseHeight-this.frameBg.height)/2-30,this.frameBg.x=(this.baseWidth-this.frameBg.width)/2,this.container.addChild(this.frameBg),this.frameBorder=h.default.loadTexture(this.textureArray,"main","slot_frame"),this.frameBorder.x=this.frameBg.x-95,this.frameBorder.y=this.frameBg.y-70,this.container.addChild(this.frameBorder)}createLogo(){this.logo=h.default.loadTexture(this.textureArray,"main","logo"),this.logo.x=this.frameBorder.x,this.logo.y=20,this.container.addChild(this.logo)}createLevelBar(){const t=h.default.loadTexture(this.textureArray,"main","bar_bg");t.x=this.frameBorder.width-t.width+50,t.y=.7*this.frameBorder.y,this.levelBarContainer.addChild(t),this.levelBarIndicator=h.default.loadTexture(this.textureArray,"main","bar_energy"),this.levelBarIndicator.width=0,this.levelBarIndicator.x=t.x+5,this.levelBarIndicator.y=t.y,this.levelBarContainer.addChild(this.levelBarIndicator);const e=h.default.loadTexture(this.textureArray,"main","mini");e.x=t.x,e.y=t.y-30,this.levelBarContainer.addChild(e);const i=h.default.loadTexture(this.textureArray,"main","major");i.x=e.x+e.width,i.y=e.y-13,this.levelBarContainer.addChild(i);const s=h.default.loadTexture(this.textureArray,"main","grand");s.x=i.x+i.width,s.y=10,this.levelBarContainer.addChild(s);const n=new o.TextStyle({fontFamily:"Arial",fontSize:36,fontWeight:"bold",fill:["#ffffff","#ffffff"],stroke:"#4a1850",strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:440,lineJoin:"round"}),r=new o.Text(`${h.default.numberWithCommas(l.default.jackpots.mini)}`,n);r.x=(e.width-r.width)/2,r.y=40,e.addChild(r);const a=new o.Text(`${h.default.numberWithCommas(l.default.jackpots.major)}`,n);a.x=(i.width-a.width)/2,a.y=53,i.addChild(a);const d=new o.Text(`${h.default.numberWithCommas(l.default.jackpots.grand)}`,n);d.x=(s.width-d.width)/2,d.y=40,s.addChild(d),this.container.addChild(this.levelBarContainer)}createReels(){let t=[];for(let e=0;e<this.reelsValues.length;e++){const i=new o.Container;i.zIndex=1e4,t=this.createReel(e),t.forEach(((t,e)=>{i.addChild(t.symbol),t.symbol.y=e*this.blockSpacing,t.symbol.width=this.blockWidth,t.symbol.height=this.blockHeight})),this.reelsSymbols.push(t),this.reelContainer.push(i)}this.reelContainer.forEach(((t,e)=>{t.x=this.reelPosX[e],t.y=this.reelY,this.reelsContainer.addChild(t),this.container.addChild(this.reelsContainer);const i=new c.Spine(this.textureArray.reel_effect.spineData);i.height=1.08*this.frameBorder.height,i.width*=1.1,i.x=this.reelEffectPosX[e],i.y=535,i.visible=!1,this.reelEffect.push(i),this.container.addChild(i),i.zIndex=1e3})),this.maskSprite=h.default.loadTexture(this.textureArray,"main","mask_big"),this.maskSprite.height=this.maskSprite.height,this.maskSprite.width=this.frameBorder.width,this.maskSprite.x=this.frameBorder.x,this.maskSprite.y=this.frameBg.y-5,this.reelsContainer.mask=this.maskSprite,this.container.addChild(this.maskSprite)}startSpin(t){this.bonusSymbolsCount=0,this.soundStop(5),this.spinType=t,this.symbolCount=0,this.symbolCount2=0,this.symbolCount3=0,this.paylines=[];let e,i,s=this.reelY-30,n=[];switch(this.onSpin(),t){case"normal":e=.4,this.spinDuration=1,i=.3;break;case"quick":e=.2,this.spinDuration=.3,i=.1;break;case"turbo":e=.2,this.spinDuration=.1,i=0;break;default:e=.4,this.spinDuration=1,i=.5}this.reelContainer.forEach(((r,a)=>{this.isSpinning=!0;let o=d.gsap.to(r,{delay:a*i,duration:e,y:s,onStart:()=>{10==this.timeScale&&"turbo"!==t&&(n[0].delay(0),n[1].delay(0),n[2].delay(0),n[3].delay(0),n[4].delay(0)),this.resetTopSymbolsAlpha(a)},onComplete:()=>{o.kill();let e=d.gsap.to(r,{duration:this.spinDuration,y:300,ease:"bounce.in",onStart:()=>{this.applyMotionBlur(a,!0),this.spinReelAnimation.push(e),this.isFreeSpin&&!this.freeSpinStart||this.generateTypes(this.generateTypeIndex),this.generateTypeIndex++},onUpdate:()=>{this.onSpinning(),2!==e.repeat()&&4!==e.repeat()&&6!==e.repeat()&&r.y>-100&&(this.reelContainer[a].children[27].y=0,this.reelContainer[a].children[28].y=260,this.reelContainer[a].children[29].y=520),10==this.timeScale&&"turbo"!==t&&e.timeScale(this.timeScale)},onComplete:()=>{this.isFreeSpin&&!this.freeSpinStart||this.reelEffectShow(a),this.playSound(4),e.kill(),this.isFreeSpin&&this.isFreeSpinDone?this.generateNewSymbolsEvent(a):this.isFreeSpin&&!this.isFreeSpinDone?this.generateNewSymbolsMainEvent(a):this.generateNewSymbols(a);let i=d.gsap.to(r,{y:250,duration:.3,ease:"power1.out",onComplete:()=>{if(i.kill(),this.spinCount++,r.y=this.reelY,this.updateVisibleBlocks(a),this.applyMotionBlur(a,!1),this.isFreeSpin||this.reelContainWildAndBonus(a),5==this.spinCount){if(this.maskSprite.height=this.frameBorder.height,this.maskSprite.y=this.frameBorder.y,this.spinReelAnimation=[],this.generateTypeIndex=0,this.checkPattern(),this.spinCount=0,this.isSpinning=!1,this.autoPlayCount>1){let e=1e3;if("turbo"==t&&(e=200),this.animateDone)this.startSpin(t);else{let i=setTimeout((()=>{this.animateDone=!0,this.startSpin(t),clearTimeout(i)}),e)}}this.autoPlayCount--,this.onSpinEnd(),0!=this.autoPlayCount||this.autoplayDoneEvent||this.createCongrats()}}})}})}});n.push(o),this.timeScale=0}))}reelContainWildAndBonus(t){this.reelsSymbols[t].forEach(((t,e)=>{if(e>26){if(t.type==this.wildType){this.playSound(18),this.soundVolume(18,.2),h.default.loadSpineAnimation(t.symbol,"open",!1,1.1);const e=t.symbol.getGlobalPosition();this.createWildCoin(e.x,e.y),this.levelBarIndicator.width++,Math.round(this.levelBarIndicator.width)==this.levelBarWidth&&(this.autoPlayCount=0,this.levelBarIndicator.width=this.levelBarWidth,this.isMatchingGame=!0,this.matchingGame())}t.type==this.bonusType&&(this.bonusSymbolsCount++,this.bonusSymbolsCount>1?this.playSound(10):this.playSound(9),h.default.loadSpineAnimation(t.symbol,"fall",!1,.6))}}))}checkPattern(){let t=Array.from({length:l.default.pattern.length},((t,e)=>e));this.paylines=[];let e=[];l.default.pattern.forEach(((i,s)=>{let n=[];s==t[s]&&this.containPattern(i,n),e.push(h.default.hasConsecutiveSameValues(n))})),e.forEach(((e,i)=>{if(i==t[i]&&e.count>2){let t=0,s=0,n=0,r=[];for(let i=0;i<e.count;i++)r.push(e.blocks[i].type),r.length==e.count&&(r.includes(10)&&r.includes(11)||r.forEach(((i,r)=>{this.startCountWinFreeSpin&&1==this.whatEvent?(11==e.blocks[r].type&&(n=e.blocks[r].payout),11!=e.blocks[r].type&&(t+=e.blocks[r].payout,this.totalWin+=e.blocks[r].payout),0!=n&&(t*=n,this.totalWin=t*n),this.animatePatterns(r,e.blocks[r].block)):this.startCountWinFreeSpin&&2==this.whatEvent?(t+=e.blocks[r].payout,this.totalWin+=e.blocks[r].payout,this.animatePatterns(r,e.blocks[r].block)):(11!=e.blocks[r].type&&(s=r),11==e.blocks[r].type&&(e.blocks[r].payout=e.blocks[s].payout),t+=e.blocks[r].payout,this.totalWin+=e.blocks[r].payout,this.animatePatterns(r,e.blocks[r].block))})));e.arrTypes!=this.bonusType||this.freeSpinStart||(this.checkIfFreeSpin(!1),this.freeSpinStart=!0,this.checkIfMatchingGameDone()),r.length==e.count&&(r.includes(10)&&r.includes(11)||this.paylines.push({payline:i+1,symbols:r,payout:t}))}}))}resetTopSymbolsAlpha(t){this.maskSprite.height=this.frameBg.height-8,this.maskSprite.y=this.frameBg.y+3,this.reelsSymbols[t].forEach(((t,e)=>{t.symbol.alpha=1}))}checkIfMatchingGameDone(){this.isMatchingGame}containPattern(t,e){t.forEach(((t,i)=>{e.push({pattern:this.reelsSymbols[i][t],blockNo:t})}))}animatePatterns(t,e){let i=this.reelsSymbols[t][e];if(h.default.loadSpineAnimation(i.symbol,"animation",!0,1),this.animateDone=!1,0==t){let t=i.type;this.isFreeSpin||(this.sound[17].playing()||this.isFreeSpin||this.playSound(17),this.fadeSound(17,1,2e3),this.fadeSound(16,0,2e3),this.soundStop(0)),1==t?this.playSound(27):2==t?this.playSound(28):3==t?this.playSound(25):4==t?this.playSound(29):5==t?this.playSound(26):this.playSound(24)}}applyMotionBlur(t,e){this.reelsSymbols[t].forEach(((t,i)=>{t.symbol.skeleton.setSkinByName(e?"blur":"no_blur")}))}generateTypes(t){let e=h.default.arrayRandomizer(this.reelsValues[t]);this.preGeneratedTypes.push(e),t>=2&&(this.preGeneratedTypes[0][0]!=this.bonusType&&this.preGeneratedTypes[0][1]!=this.bonusType&&this.preGeneratedTypes[0][2]!=this.bonusType||this.preGeneratedTypes[1][0]!=this.bonusType&&this.preGeneratedTypes[1][1]!=this.bonusType&&this.preGeneratedTypes[1][2]!=this.bonusType||(this.reelEffect[2].visible=!0,this.sound[11].playing()||this.playSound(11),h.default.loadSpineAnimation(this.reelEffect[2],"animation",!0,1),this.freeSpinStart||this.spinReelAnimation[2].repeat(2),3==t&&(this.preGeneratedTypes[0][0]!=this.bonusType&&this.preGeneratedTypes[0][1]!=this.bonusType&&this.preGeneratedTypes[0][2]!=this.bonusType||this.preGeneratedTypes[1][0]!=this.bonusType&&this.preGeneratedTypes[1][1]!=this.bonusType&&this.preGeneratedTypes[1][2]!=this.bonusType||this.preGeneratedTypes[2][0]!=this.bonusType&&this.preGeneratedTypes[2][1]!=this.bonusType&&this.preGeneratedTypes[2][2]!=this.bonusType||(this.freeSpinStart||this.spinReelAnimation[3].repeat(4),this.isBonusTick=!0)),4==t&&(this.preGeneratedTypes[0][0]!=this.bonusType&&this.preGeneratedTypes[0][1]!=this.bonusType&&this.preGeneratedTypes[0][2]!=this.bonusType||this.preGeneratedTypes[1][0]!=this.bonusType&&this.preGeneratedTypes[1][1]!=this.bonusType&&this.preGeneratedTypes[1][2]!=this.bonusType||this.preGeneratedTypes[2][0]!=this.bonusType&&this.preGeneratedTypes[2][1]!=this.bonusType&&this.preGeneratedTypes[2][2]!=this.bonusType||this.preGeneratedTypes[3][0]!=this.bonusType&&this.preGeneratedTypes[3][1]!=this.bonusType&&this.preGeneratedTypes[3][2]!=this.bonusType||(this.freeSpinStart||this.spinReelAnimation[4].repeat(6),this.isBonusTick=!0))),this.isFreeSpin&&(this.playSound(11),h.default.loadSpineAnimation(this.reelEffect[2],"animation",!0,1)))}reelEffectShow(t){2!=t||this.isFreeSpin||(this.reelEffect[2].visible=!1,this.preGeneratedTypes[0][0]!=this.bonusType&&this.preGeneratedTypes[0][1]!=this.bonusType&&this.preGeneratedTypes[0][2]!=this.bonusType||this.preGeneratedTypes[1][0]!=this.bonusType&&this.preGeneratedTypes[1][1]!=this.bonusType&&this.preGeneratedTypes[1][2]!=this.bonusType||this.preGeneratedTypes[2][0]!=this.bonusType&&this.preGeneratedTypes[2][1]!=this.bonusType&&this.preGeneratedTypes[2][2]!=this.bonusType||(this.reelEffect[3].visible=!0,h.default.loadSpineAnimation(this.reelEffect[3],"animation",!0,1),this.playSound(11))),3!=t||this.isFreeSpin||(this.reelEffect[2].visible=!1,this.reelEffect[3].visible=!1,this.preGeneratedTypes[0][0]!=this.bonusType&&this.preGeneratedTypes[0][1]!=this.bonusType&&this.preGeneratedTypes[0][2]!=this.bonusType||this.preGeneratedTypes[1][0]!=this.bonusType&&this.preGeneratedTypes[1][1]!=this.bonusType&&this.preGeneratedTypes[1][2]!=this.bonusType||this.preGeneratedTypes[2][0]!=this.bonusType&&this.preGeneratedTypes[2][1]!=this.bonusType&&this.preGeneratedTypes[2][2]!=this.bonusType||this.preGeneratedTypes[3][0]!=this.bonusType&&this.preGeneratedTypes[3][1]!=this.bonusType&&this.preGeneratedTypes[3][2]!=this.bonusType||(this.reelEffect[4].visible=!0,h.default.loadSpineAnimation(this.reelEffect[4],"animation",!0,1),this.playSound(11))),4!=t||this.isFreeSpin||(this.reelEffect[4].visible=!1),this.isFreeSpin&&0==t&&(this.reelEffect[2].visible=!0,this.isBonusTick=!0),4==t&&this.isFreeSpin&&(this.reelEffect[2].visible=!1,this.reelEffect.forEach(((t,e)=>{t.visible=!1})))}generateNewSymbols(t){this.reelContainer[t].removeChildren(),this.preGeneratedTypes[t].forEach(((e,i)=>{let s=e,n=l.default.symbolAssets[s-1].type,r=l.default.symbolAssets[s-1].pay,a=new c.Spine(this.textureArray[`${l.default.symbolAssets[s-1].symbol}`].spineData);a.y=i*this.blockSpacing,e={type:n,symbol:a,payout:r},this.reelsSymbols[t][i].type=e.type,this.reelsSymbols[t][i].symbol=e.symbol,this.reelsSymbols[t][i].payout=e.payout,this.reelsSymbols[t][i].symbol.skeleton.setSkinByName("no_blur"),this.reelContainer[t].addChild(e.symbol),a.width=this.blockWidth,a.height=this.blockHeight}))}generateNewSymbolsMainEvent(t){let e,i=new Array(30).fill(null);this.reelContainer[t].removeChildren(),e=1==this.whatEvent?l.default.symbolAssetsEvent2:l.default.symbolAssetsEvent,i.forEach(((i,s)=>{let n=this.reelsValuesMoneySlot[t],r=n[Math.floor(Math.random()*n.length)],a=e[r-1].type,o=e[r-1].pay,h=new c.Spine(this.textureArray[`${e[r-1].symbol}`].spineData);h.y=s*this.blockSpacing,i={type:a,symbol:h,payout:o},this.reelsSymbols[t][s].type=i.type,this.reelsSymbols[t][s].symbol=i.symbol,this.reelsSymbols[t][s].payout=i.payout,this.reelsSymbols[t][s].symbol.skeleton.setSkinByName("no_blur"),this.reelContainer[t].addChild(i.symbol),h.width=this.blockWidth,h.height=this.blockHeight}))}generateNewSymbolsEvent(t){let e=new Array(30).fill(null);this.reelContainer[t].removeChildren(),e.forEach(((e,i)=>{let s,n,r,a=this.reelsValues[t],o=a[Math.floor(Math.random()*a.length)],h=[9,0,4,2,3],d=[1,9,6,1,4],u=[4,3,9,2,2];0==i?(s=l.default.symbolAssets[h[this.symbolCount]].type,n=l.default.symbolAssets[h[this.symbolCount]].pay,r=new c.Spine(this.textureArray[`${l.default.symbolAssets[h[this.symbolCount]].symbol}`].spineData),this.symbolCount++):1==i?(s=l.default.symbolAssets[d[this.symbolCount2]].type,n=l.default.symbolAssets[d[this.symbolCount2]].pay,r=new c.Spine(this.textureArray[`${l.default.symbolAssets[d[this.symbolCount2]].symbol}`].spineData),this.symbolCount2++):2==i?(s=l.default.symbolAssets[u[this.symbolCount3]].type,n=l.default.symbolAssets[u[this.symbolCount3]].pay,r=new c.Spine(this.textureArray[`${l.default.symbolAssets[u[this.symbolCount3]].symbol}`].spineData),this.symbolCount3++):(s=l.default.symbolAssets[o-1].type,n=l.default.symbolAssets[o-1].pay,r=new c.Spine(this.textureArray[`${l.default.symbolAssets[o-1].symbol}`].spineData)),r.y=i*this.blockSpacing,e={type:s,symbol:r,payout:n},this.reelsSymbols[t][i].type=e.type,this.reelsSymbols[t][i].symbol=e.symbol,this.reelsSymbols[t][i].payout=e.payout,this.reelsSymbols[t][i].symbol.skeleton.setSkinByName("no_blur"),this.reelContainer[t].addChild(e.symbol),r.width=this.blockWidth,r.height=this.blockHeight}))}updateVisibleBlocks(t){let e=this.reelsSymbols[t].filter(((t,e)=>e<3));this.reelsSymbols[t].forEach(((i,s)=>{s>2&&(i.symbol.alpha=0),27==s&&(i.type=e[0].type,i.symbol=e[0].symbol,i.payout=e[0].payout,this.reelContainer[t].children[27]=i.symbol,this.reelContainer[t].children[27].y=6966),28==s&&(i.type=e[1].type,i.symbol=e[1].symbol,i.payout=e[1].payout,this.reelContainer[t].children[28]=i.symbol,this.reelContainer[t].children[28].y=7224),29==s&&(i.type=e[2].type,i.symbol=e[2].symbol,i.payout=e[2].payout,this.reelContainer[t].children[29]=i.symbol,this.reelContainer[t].children[29].y=7482),i.symbol.width=this.blockWidth,i.symbol.height=this.blockHeight}))}createReel(t){let e=[],i=this.reelsValues[t];for(let t=0;t<i.length;t++){const t=i[Math.floor(Math.random()*i.length)],s=l.default.symbolAssets[t-1].symbol,n=l.default.symbolAssets[t-1].type,r=l.default.symbolAssets[t-1].pay,a=new c.Spine(this.textureArray[`${s}`].spineData);a.skeleton.setSkinByName("no_blur");let o={type:n,symbol:a,payout:r};e.push(o)}return e}createWildCoin(t,e){let i=this.levelBarIndicator.x+this.levelBarIndicator.width,s=this.levelBarIndicator.y;for(let n=0;n<=3;n++){const r=h.default.animatedSprite(this.textureArray.coins,"new_coin_spinning");r.x=t,r.y=.75*e,r.alpha=.4,r.scale.set(.15),r.animationSpeed=.5,r.play();let a=d.gsap.to(r,{y:s,x:i-r.width/2,alpha:1,delay:.1*n,duration:1,onComplete:()=>{a.kill(),0==n&&(this.playSound(19),this.soundVolume(19,.2));let t=d.gsap.to(r,{delay:.5,duration:.3,alpha:0,onComplete:()=>{t.kill(),this.container.removeChild(r)}})}});this.container.addChild(r)}}}},77667:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const o=r(i(58687)),h=i(47466),l=a(i(93807));e.default=class{constructor(t,e,i){this.app=t,this.container=new o.Container,this.gameContainer=new o.Container,this.baseWidth=this.app.screen.width,this.baseHeight=this.app.screen.height,this.textureArray=i,this.init()}init(){this.createParent()}createParent(){this.leaves=new h.Spine(this.textureArray.transition.spineData),this.leaves.x=935.5,this.leaves.y=1025,this.container.addChild(this.leaves),this.spine=l.default.loadSpineAnimation(this.leaves,"animation",!1,.3),this.spine.state.onComplete=()=>{let t=setTimeout((()=>{this.container.removeChild(this.leaves),this.gameContainer.removeChild(this.container),clearTimeout(t)}),50)}}}},93807:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const a=r(i(58687)),o=i(47466);e.default={arrayRandomizer:t=>{let e,i=t.length;for(;0!=i;)e=Math.floor(Math.random()*i),i--,[t[i],t[e]]=[t[e],t[i]];return t},symbolRandomizer:t=>t[Math.floor(Math.random()*t.length)]-1,loadTexture:(t,e,i)=>a.Sprite.from(t[`${e}`].textures[`${i}.png`]),hasConsecutiveSameValues:t=>{let e=1,i=[],s=0,n=0;for(let e=0;e<t.length;e++)i.push({block:t[e].blockNo,payout:t[e].pattern.payout,type:t[e].pattern.type,symbol:t[e].pattern.symbol});for(let i=1;i<t.length;i++)if(i-1==0&&11==t[0].pattern.type&&(e++,n++),n>0){if(i>1)if(i<3){if(t[i].pattern.type!=t[i-1].pattern.type&&11!=t[i].pattern.type&&11!=t[i-1].pattern.type)break;e++,s=t[i-1].pattern.type}else{if(t[i].pattern.type!=t[i-1].pattern.type&&11!=t[i].pattern.type&&t[i].pattern.type!=t[i-2].pattern.type)break;e++,s=t[i-1].pattern.type}}else{if(t[i].pattern.type!=t[i-1].pattern.type&&11!=t[i].pattern.type)break;e++,s=t[i-1].pattern.type}return{count:e,blocks:i,arrTypes:s}},numberWithCommas:t=>(Math.round(100*t)/100).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),getRandomInt:(t,e)=>Math.random()*(e-t)+t,loadSpineAnimation:(t,e,i,s)=>{if(t.state.hasAnimation(`${e}`))return t.state.setAnimation(1,`${e}`,i),t.state.timeScale=s,t.autoUpdate=!0,t},loadSpine:(t,e)=>new o.Spine(t[`${e}`].spineData),animatedSprite:(t,e)=>new a.AnimatedSprite(t.animations[`${e}`]),random2Number:(t,e)=>Math.floor(Math.random()*(e-t+1))+t}},39685:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const o=r(i(58687)),h=a(i(41873)),l=a(i(60944)),d=a(i(8483)),u=a(i(85230)),c=a(i(17828)),p=a(i(39967)),m=a(i(27156)),f=a(i(77759)),g=a(i(38333)),y=a(i(242)),x=i(47466),_=i(66358),b=i(34607),v=i(41766);b.PixiPlugin.registerPIXI(o);e.default=class{constructor(){this.spinType="normal",this.betAmount=1,this.betIndex=0,this.userCredit=999,this.matchingGameWin=0,this.isAutoPlay=!1,this.isMatchingGame=!1,this.isIntro=!1,this.spinClick=!1,this.textStyleSize=55,this.paylineContainersAnimation=[],this.paylineAnimations=[],this.isFreeSpin=!1,this.transitionDelay=2e3,this.isOpenModal=!1,this.winFreeSpin=0,this.noOfSpin=0,this.firefliesArray=[],this.globalSound=!1,this.ambientCheck=!1,this.sfxCheck=!1,this.paylineTextY=0,this.paylineTextX=0,this.paylineTextBtmY=0,this.paylineTextBtmX=0,this.paylineSymbolX=0,this.paylineSymbolY=0,this.freeSpinHeight=0,this.freeSpinWidth=0,this.freeSpinX=0,this.freeSpinY=0,this.glowX=0,this.glowX2=0,this.glowY2=0,this.moneyBoardX=0,this.moneyBoardY=0,this.leavesRotate=0,this.isOpenSetting=!1,this.isOpenBuyBonusFrame=!1,this.isOpenAutoplay=!1,this.isOpenCongrats=!1,this.isOpenInfo=!1,this.openTransition=!1,this.eventStart=!1,this.isOpenFreeSpinModals=!1,this.isLightMode=!0,this.popUpActive=!1,this.fadeDurationBgm=4e3,this.fadeOutDelay=8e3,this.matchingBlocksContainer=new o.Container,this.gameContainer=new o.Container,this.plantContainerRight=new o.Container,this.plantContainerLeft=new o.Container,this.paylineContainer=new o.Container,this.gameContainer.sortableChildren=!0,this.whiteYellow=new o.TextStyle({fontFamily:"Eras ITC",fontSize:120,fontWeight:"bolder",fill:["#fffdfa","#fec159"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.textStyle=new o.TextStyle({fontFamily:"Eras ITC",fontSize:this.textStyleSize,fontWeight:"bolder",fill:["#ffeaa0","#ffc260"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#aa521d",dropShadowBlur:0,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.textStyle2=new o.TextStyle({fontFamily:"Eras ITC",fontSize:120,fontWeight:"bolder",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!0,wordWrapWidth:440,lineJoin:"round"}),this.textStyle3=new o.TextStyle({fontFamily:"Eras ITC",fontSize:40,fontWeight:"bolder",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.descText=new o.TextStyle({fontFamily:"Eras ITC",fontSize:30,fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!0,wordWrapWidth:440,lineJoin:"round"}),new h.default(this.init.bind(this),this.sounds.bind(this))}init(t,e){this.app=e,this.screenSetting=g.default.screenSize(),this.app.renderer.resize(1920,1080),this.baseWidth=this.app.screen.width,this.baseHeight=this.app.screen.height,this.textureArray=t,this.textureToggleOn=g.default.loadTexture(this.textureArray,"modal_autoplay","on").texture,this.textureToggleOff=g.default.loadTexture(this.textureArray,"modal_autoplay","off").texture,this.textureRollOn=g.default.loadTexture(this.textureArray,"modal_autoplay","roll_active").texture,this.textureRollOff=g.default.loadTexture(this.textureArray,"modal_autoplay","roll").texture,this.textureRollOff=g.default.loadTexture(this.textureArray,"modal_autoplay","roll").texture,this.spinTextureOn=g.default.loadTexture(this.textureArray,"controller","spin_button").texture,this.spinTextureOff=g.default.loadTexture(this.textureArray,"controller","spin_pause_button").texture,this.sounBtnSpriteOff=g.default.loadTexture(this.textureArray,"controller","sound_off_button").texture,this.sounBtnSpriteOn=g.default.loadTexture(this.textureArray,"controller","sound_on_button").texture,this.paylineBackDrop=g.default.loadTexture(this.textureArray,"controller_mobile","rectangle_text"),this.popGlow=new x.Spine(this.textureArray.pop_glow.spineData),this.popGlow2=new x.Spine(this.textureArray.pop_glow.spineData),this.moneySlot=g.default.loadTexture(this.textureArray,"bonus","money_wilds"),this.wildSlot=g.default.loadTexture(this.textureArray,"bonus","multiplier_wilds"),this.infoContainer=g.default.loadTexture(this.textureArray,"controller_mobile","info_container"),this.buyBonusFrame=g.default.loadTexture(this.textureArray,"bonus","get_free_spin"),this.overlay=g.default.loadTexture(this.textureArray,"modal_settings","overlay"),this.createGame(),this.createPlants(),this.createSlot(),this.createFrameGlow(),this.createController(),this.createBuyBonus(),this.createModal(),this.events(),this.updateTextValues(),this.createIntro(),this.app.stage.addChild(this.gameContainer),window.document.addEventListener("touchstart",(t=>{this.spinClick||(this.slotGame.timeScale=10)})),window.document.addEventListener("keydown",(t=>{this.isIntro||"Space"!==t.code&&"Enter"!==t.key||(this.slotGame.isSpinning||this.isAutoPlay||this.isFreeSpin||this.isMatchingGame||this.isOpenModal?this.slotGame.timeScale=10:(this.slotGame.timeScale=0,!0===this.slotGame.notLongPress?(this.slotGame.notLongPress=!1,this.startSpin(this.spinType),this.slotGame.timeScale=0):(this.startSpin(this.spinType),this.slotGame.timeScale=10)))})),window.document.addEventListener("keyup",(()=>{this.slotGame.notLongPress=!0})),window.addEventListener("resize",(()=>{this.screenSize()})),this.screenSize(),v.Howler.mute(!0),document.addEventListener("visibilitychange",(()=>{document.hidden?v.Howler.mute(!0):v.Howler.mute(!1)}))}screenSize(){this.screenSetting=g.default.screenSize(),this.gameBackground.width=this.screenSetting.baseWidth,this.app.renderer.resize(this.screenSetting.baseWidth,this.screenSetting.baseHeight);let t=g.default.loadTexture(this.textureArray,"main",""+(this.eventStart||this.isMatchingGame?"bg_mobile2":"bg_mobile")).texture,e=g.default.loadTexture(this.textureArray,"main",""+(this.eventStart||this.isMatchingGame?"bg2":"bg")).texture;"portrait"==this.screenSetting.screentype?(this.overlay.texture=g.default.loadTexture(this.textureArray,"controller_mobile","overlay_portrait").texture,this.modal.overlay.texture=g.default.loadTexture(this.textureArray,"controller_mobile","overlay_portrait").texture,this.slotGame.container.scale.set(.7),this.slotGame.container.x=-80,this.gameBackground.texture=t,this.gameBackground.height=this.screenSetting.baseHeight,this.gameBackground.width=this.screenSetting.baseWidth,this.slotGame.levelBarContainer.scale.set(1),this.slotGame.levelBarBg.scale.set(2),this.slotGame.levelBarBg.y=this.slotGame.frameBorder.height+90,this.slotGame.levelBarIndicator.height=this.slotGame.levelBarBg.height,this.slotGame.levelBarIndicator.x=this.slotGame.levelBarBg.x+10,this.slotGame.levelBarIndicator.y=this.slotGame.levelBarBg.y,this.slotGame.itemMini.scale.set(2),this.slotGame.itemMini.y=this.slotGame.levelBarBg.y-38,this.slotGame.itemMajor.scale.set(2),this.slotGame.itemMajor.x=this.slotGame.itemMini.width-5,this.slotGame.itemMajor.y=this.slotGame.levelBarBg.y-50,this.slotGame.itemGrand.scale.set(2),this.slotGame.itemGrand.x=this.slotGame.itemMajor.x+this.slotGame.itemMajor.width,this.slotGame.itemGrand.y=this.slotGame.levelBarBg.y-35,this.slotGame.logo.scale.set(1.6),this.slotGame.logo.y=-40,this.slotGame.levelBarContainer.x=(this.baseWidth-this.slotGame.levelBarContainer.width)/2,this.slotGame.logo.x=(this.slotGame.frameBorder.width-this.slotGame.logo.width)/1.6,this.isMatchingGame||this.eventStart?(this.controller.parentSprite.texture=g.default.loadTexture(this.textureArray,"controller_mobile_darkmode","mobile_controllers_darkmode").texture,this.controller.settingBtnSpite.texture=g.default.loadTexture(this.textureArray,"controller_mobile_darkmode","system_settings_darkmode").texture,this.controller.infoBtnSprite.texture=g.default.loadTexture(this.textureArray,"controller_mobile_darkmode","info_darkmode").texture):(this.controller.parentSprite.texture=g.default.loadTexture(this.textureArray,"controller_mobile","controller_parent").texture,this.controller.settingBtnSpite.texture=g.default.loadTexture(this.textureArray,"controller_mobile","system_settings").texture,this.controller.infoBtnSprite.texture=g.default.loadTexture(this.textureArray,"controller_mobile","info_button").texture),this.controller.parentSprite.width=this.screenSetting.baseWidth,this.controller.container.y=this.screenSetting.baseHeight/2-this.controller.parentSprite.height+100,this.controller.container.x=0,this.controller.spinBtnSprite.y=this.controller.parentSprite.y+15,this.controller.spinBtnSprite.x=445,this.controller.spinBtnSprite.scale.set(2.3),this.controller.autoPlay.x=878,this.controller.autoPlay.y=this.controller.parentSprite.y+116,this.controller.autoPlay.scale.set(2.4),this.controller.settingBtnSpite.scale.set(1),this.controller.settingBtnSpite.x=130,this.controller.settingBtnSpite.y=this.controller.parentSprite.y+116,this.controller.betContainerSprite.texture=g.default.loadTexture(this.textureArray,"controller_mobile","rectangle_container").texture,this.controller.betContainerSprite.y=this.screenSetting.baseHeight/2+350,this.controller.betContainerSprite.x=70,this.controller.betContainerSprite.scale.set(.8),this.controller.betText.x=(this.controller.betContainerSprite.width-this.controller.betText.width/2)/2,this.controller.betText.y=this.controller.betContainerSprite.height/2-35,this.controller.betText.scale.set(1.3),this.controller.creditContainerSprite.texture=g.default.loadTexture(this.textureArray,"controller_mobile","rectangle_container").texture,this.controller.creditContainerSprite.scale.set(.8),this.controller.creditContainerSprite.y=this.screenSetting.baseHeight/2+350,this.controller.creditContainerSprite.x=730,this.controller.creditText.scale.set(1.3),this.controller.creditText.x=(this.controller.creditContainerSprite.width-this.controller.creditText.width/2)/2,this.controller.creditText.y=this.controller.betContainerSprite.height/2-35,this.updatePaylineText(this.paylineTextBottom.text,this.paylineText.text),this.controller.parentSprite.removeChild(this.paylineContainer),this.gameContainer.addChild(this.paylineContainer),this.paylineContainer.y=1.1*(this.slotGame.container.height+this.slotGame.container.y),this.paylineBackDrop.visible=!0,this.paylineBackDrop.y=this.paylineContainer.y+(this.paylineContainer.height-this.paylineBackDrop.height)/2,this.paylineSymbolX=0,this.paylineSymbolY=this.controller.parentSprite.height-this.paylineTextBottom.height-1e3,this.controller.infoBtnSprite.scale.set(1),this.controller.infoBtnSprite.x=this.gameBackground.width-this.controller.infoBtnSprite.width-16,this.controller.infoBtnSprite.y=700,this.infoContainer.alpha=111,this.infoContainer.y=this.controller.infoBtnSprite.y-20,this.infoContainer.zIndex=-1,this.infoContainer.x=this.gameBackground.width-this.infoContainer.width,this.buyBonusBtn.scale.set(1.2),this.buyBonusBtn.y=this.controller.container.y+this.infoContainer.y,this.buyBonusBtn.x=0,this.controller.soundBtnSprite.alpha=0,this.freeSpinHeight=800,this.freeSpinX=(this.screenSetting.baseWidth-this.buyBonusFrame.width)/2,this.glowX=590,this.isOpenBuyBonusFrame&&(this.buyBonusFrame.x=(this.screenSetting.baseWidth-this.buyBonusFrame.width)/2,this.popGlow.x=this.buyBonusFrame.x+325),this.glowX2=570,this.glowY2=1644,this.popGlow2.x=570,this.popGlow2.y=1644,this.isOpenFreeSpinModals&&(this.moneySlot.x=(this.baseWidth-this.moneySlot.width)/2-400,this.moneySlot.y=380),this.moneyBoardY=380,this.leavesRotate=190,this.frameGlow.y=this.screenSetting.baseHeight-this.controller.parentSprite.height+240,this.frameGlow.x=this.frameGlow.width/2-180,this.modal.modalFrame.texture=g.default.loadTexture(this.textureArray,"controller_mobile","modal_container").texture,this.modal.modalFrame.x=(this.overlay.width-this.modal.modalFrame.width)/2,this.modal.modalFrame.y=(this.overlay.height-this.modal.modalFrame.height)/2,this.isOpenSetting&&(this.modal.closeModal.scale.set(1.1),this.modal.modalTitle.x=(this.modal.modalFrame.width-this.modal.modalTitle.width)/2,this.modal.closeModal.x=this.modal.modalFrame.width-this.modal.closeModal.width-40,this.modal.closeModal.y=45,this.modal.separator.alpha=0,this.modal.leftContainer.scale.set(1.7),this.modal.leftContainer.x=(this.modal.modalFrame.width-this.modal.leftContainer.width)/2,this.modal.leftContainer.y=300,this.modal.rightContainer.scale.set(1.5),this.modal.rightContainer.y=(this.modal.modalFrame.height-this.modal.rightContainer.height)/2,this.modal.rightContainer.x=(this.modal.modalFrame.width-this.modal.rightContainer.width)/2),this.isOpenAutoplay&&(this.modal.closeModal.scale.set(1.1),this.modal.closeModal.x=this.modal.modalFrame.width-this.modal.closeModal.width-40,this.modal.closeModal.y=43,this.modal.btnContainer.visible=!1,this.modal.btn2Container.visible=!0,this.modal.btn2Container.scale.set(1.3),this.modal.btn2Container.x=0,this.modal.btn2Container.y=-300,this.modal.bottomContainer.scale.set(1.3),this.modal.bottomContainer.x=(this.modal.autoPlaySettingsCont.width-this.modal.bottomContainer.width)/2,this.modal.autoPlaySettingsCont.x=(this.modal.modalFrame.width-this.modal.autoPlaySettingsCont.width)/2,this.modal.autoPlaySettingsCont.y=(this.modal.modalFrame.height-this.modal.autoPlaySettingsCont.height)/2),this.isOpenInfo&&(this.modal.closeModal.scale.set(1.1),this.modal.infoFirstPageContainerPortrait.x=270.379,this.modal.closeModal.x=this.modal.modalFrame.width-this.modal.closeModal.width-40,this.modal.closeModal.y=45,this.modal.prevBtn.scale.set(1.8),this.modal.nextBtn.scale.set(1.8),this.modal.prevBtn.x=80,this.modal.prevBtn.y=this.modal.modalFrame.height-this.modal.prevBtn.height-80,this.modal.nextBtn.y=this.modal.modalFrame.height-this.modal.nextBtn.height-80,this.modal.nextBtn.x=this.modal.modalFrame.width-this.modal.nextBtn.width-80,this.modal.pageTitle.x=(this.modal.modalFrame.width-this.modal.pageTitle.width)/2,this.modal.pageTitle.y=100,this.modal.pageDesc.x=(this.modal.modalFrame.width-this.modal.pageDesc.width)/2,this.modal.pageDesc.y=130,this.modal.pageText.x=(this.modal.modalFrame.width-this.modal.pageText.width)/2,this.modal.pageText.y=.95*(this.modal.modalFrame.height-this.modal.pageText.height)),this.isOpenCongrats&&(this.congrats.middleContainer.scale.set(.8),this.congrats.overlay.texture=g.default.loadTexture(this.textureArray,"controller_mobile","overlay_portrait").texture,this.congrats.logo.x=this.overlay.width/2,this.congrats.logo.y=this.overlay.height/2,this.congrats.popGlow.x=this.overlay.width/2,this.congrats.descText.x=(this.overlay.width-this.congrats.descText.width)/2,this.congrats.descText.y=(this.overlay.height-this.congrats.descText.height)/2*.46,this.congrats.spins.x=(this.overlay.width-this.congrats.spins.width)/2,this.congrats.spins.y=(this.overlay.height-this.congrats.spins.height)/2-200,this.congrats.clickAnyTxt.x=(this.overlay.width-this.congrats.clickAnyTxt.width)/2,this.congrats.clickAnyTxt.y=this.overlay.width-this.congrats.clickAnyTxt.width+30,this.congrats.money.x=(this.overlay.width-this.congrats.money.width)/2,this.congrats.money.y=(this.overlay.height-this.congrats.money.height)/2-330,this.congrats.middleContainer.x=121.375),this.modal.infoFirstPageContainerPortrait.y=100,this.modal.infoThirdPageContainerPortrait.x=(this.modal.modalFrame.width-this.modal.infoThirdPageContainerPortrait.width)/2,this.modal.infoSecondPageContainer.y=(this.modal.modalFrame.height-this.modal.infoFifthPageContainerPortrait.height)/2,this.modal.infoThirdPageContainerPortrait.y=(this.modal.modalFrame.height-this.modal.infoThirdPageContainerPortrait.height)/2,0==this.modal.currentPage?(this.modal.infoFirstPageContainerPortrait.alpha=1,this.modal.infoFirstPageContainer.alpha=0):1==this.modal.currentPage?(this.modal.infoSecondPageContainer.alpha=1,this.modal.infoSecondPageContainer.scale.set(1.4)):2==this.modal.currentPage?(this.modal.infoThirdPageContainerPortrait.alpha=1,this.modal.infoThirdPageContainer.alpha=0,this.modal.imgContainerPortrait.x=(this.modal.modalFrame.width-this.modal.imgContainerPortrait.width)/2+40,this.modal.imgContainerPortrait.y=(this.modal.modalFrame.height-this.modal.imgContainerPortrait.height)/2-350):3==this.modal.currentPage?(this.modal.infoFourthPageContainerPortrait.alpha=1,this.modal.infoFourthPageContainer.alpha=0,this.modal.image4thPortrait.x=(this.modal.modalFrame.width-this.modal.image4thPortrait.width)/2,this.modal.image4thPortrait.y=(this.modal.modalFrame.height-this.modal.image4thPortrait.height)/2+30):4==this.modal.currentPage?(this.modal.infoFifthPageContainerPortrait.alpha=1,this.modal.infoFifthPageContainer.alpha=0,this.modal.image5thPortrait.x=(this.modal.modalFrame.width-this.modal.image5thPortrait.width)/2,this.modal.image5thPortrait.y=(this.modal.modalFrame.height-this.modal.image5thPortrait.height)/2+30):5==this.modal.currentPage&&(this.modal.infoSixthPageContainerPortrait.alpha=1,this.modal.infoSixthPageContainer.alpha=0,this.modal.image6thPortrait.x=(this.modal.modalFrame.width-this.modal.image6thPortrait.width)/2,this.modal.image6thPortrait.y=(this.modal.modalFrame.height-this.modal.image6thPortrait.height)/2+30),this.modal.infoSecondPageContainer.x=(this.modal.modalFrame.width-this.modal.infoSecondPageContainer.width)/2,this.intro.bg.texture=t,this.intro.bg.height=this.screenSetting.baseHeight,this.intro.bg.width=this.screenSetting.baseWidth,this.intro.centerContainer.x=(this.intro.bg.width-this.intro.centerContainer.width)/2,this.intro.centerContainer.y=(this.intro.bg.height-this.intro.centerContainer.height)/2.5,this.intro.playBtn.x=(this.screenSetting.baseWidth-this.intro.playBtn.width)/2,this.intro.playBtnX=(this.screenSetting.baseWidth-this.intro.playBtn.width)/2,this.intro.playBtnY=this.screenSetting.baseWidth-this.intro.playBtn.width+100,this.intro.logo.x=(this.intro.centerContainer.width-this.intro.logo.width)/2,this.intro.playBtn.y=.8*(this.screenSetting.baseHeight-this.intro.playBtn.height),this.openTransition&&(this.transition.container.rotation=0*o.DEG_TO_RAD,this.transition.container.x=936,this.transition.container.y=1066.5,this.transition.container.rotation=90*o.DEG_TO_RAD,this.transition.container.x=89.5,this.transition.container.y=936.5),this.plantContainerRight.x=-780,this.plantContainerRight.y=this.controller.container.y,this.plantContainerLeft.y=this.controller.container.y,this.vines.y=-435.5,"A"==this.screenSetting.isSafe?(this.slotGame.container.y=200,this.controller.container.y=300,this.buyBonusBtn.y=this.slotGame.frameBorder.height+100,this.paylineContainer.y=1.1*(this.slotGame.container.height+this.slotGame.container.y),this.paylineBackDrop.y=this.paylineContainer.y+(this.paylineContainer.height-this.paylineBackDrop.height)/2,this.slotGame.logo.scale.set(3),this.slotGame.logo.y=-30):"B"==this.screenSetting.isSafe?(this.slotGame.container.y=200,this.controller.container.y=350,this.buyBonusBtn.y=this.controller.container.y+this.infoContainer.y,this.paylineContainer.y=1.1*(this.slotGame.container.height+this.slotGame.container.y),this.paylineBackDrop.y=this.paylineContainer.y+(this.paylineContainer.height-this.paylineBackDrop.height)/2,this.slotGame.logo.scale.set(3),this.slotGame.logo.y=-30):"C"==this.screenSetting.isSafe?(this.slotGame.container.y=70,this.controller.container.y=this.screenSetting.baseHeight/2-this.controller.parentSprite.height+100,this.paylineContainer.y=1.1*(this.slotGame.container.height+this.slotGame.container.y),this.paylineBackDrop.y=this.paylineContainer.y+(this.paylineContainer.height-this.paylineBackDrop.height)/2,this.slotGame.logo.scale.set(3),this.slotGame.logo.y=-60):(this.slotGame.container.y=70,this.controller.infoBtnSprite.x=.96*(this.gameBackground.width-this.controller.infoBtnSprite.width),this.infoContainer.x=.98*this.controller.infoBtnSprite.x,this.buyBonusBtn.x=50,this.paylineContainer.y=1.1*(this.slotGame.container.height+this.slotGame.container.y),this.paylineBackDrop.y=this.paylineContainer.y+(this.paylineContainer.height-this.paylineBackDrop.height)/2,this.slotGame.logo.scale.set(3),this.slotGame.logo.y=-60),this.popUpActive&&(this.popUps.logo.scale.set(1.2),this.popUps.logo.x=this.overlay.width/2,this.popUps.logo.y=this.overlay.height/2*.7,this.popUps.overlay.width=this.screenSetting.baseWidth,this.popUps.money.x=(this.popUps.overlay.width-this.popUps.money.width)/2,this.popUps.money.y=.77*(this.popUps.logo.y+(this.popUps.logo.height-this.popUps.money.height)/2)),this.slotGame.logo.x=this.slotGame.logo.width/2):(this.gameBackground.texture=e,this.modal.modalFrame.texture=g.default.loadTexture(this.textureArray,"modal_settings","modal_frame").texture,this.slotGame.container.scale.set(1),this.overlay.texture=g.default.loadTexture(this.textureArray,"modal_settings","overlay").texture,this.modal.overlay.texture=g.default.loadTexture(this.textureArray,"modal_settings","overlay").texture,this.slotGame.container.x=0,this.modal.modalFrame.x=(this.overlay.width-this.modal.modalFrame.width)/2,this.modal.modalFrame.y=(this.overlay.height-this.modal.modalFrame.height)/2,this.controller.parentSprite.texture=g.default.loadTexture(this.textureArray,"controller_mobile","tablet_controllers").texture,this.controller.parentSprite.width=this.screenSetting.baseWidth,this.controller.container.y=0,this.controller.container.x=0,this.buyBonusBtn.y=(this.screenSetting.baseHeight-this.buyBonusBtn.height)/2,this.slotGame.levelBarContainer.scale.set(.6),this.slotGame.levelBarBg.scale.set(2),this.slotGame.levelBarBg.y=.7*this.slotGame.frameBorder.y,this.slotGame.levelBarIndicator.height=this.slotGame.levelBarBg.height,this.slotGame.levelBarIndicator.x=this.slotGame.levelBarBg.x+3,this.slotGame.levelBarIndicator.y=this.slotGame.levelBarBg.y,this.slotGame.itemMini.scale.set(2),this.slotGame.itemMini.y=this.slotGame.levelBarBg.y-30,this.slotGame.itemMajor.scale.set(2),this.slotGame.itemMajor.x=this.slotGame.itemMini.width-5,this.slotGame.itemMajor.y=this.slotGame.itemMini.y-13,this.slotGame.itemGrand.scale.set(2),this.slotGame.itemGrand.x=this.slotGame.itemMajor.x+this.slotGame.itemMajor.width,this.slotGame.itemGrand.y=10,this.slotGame.logo.x=this.slotGame.frameBorder.x,this.slotGame.logo.y=this.slotGame.frameBorder.y,this.slotGame.logo.scale.set(.9),this.slotGame.levelBarContainer.x=.96*(this.slotGame.frameBorder.x+(this.slotGame.frameBorder.width-this.slotGame.levelBarContainer.width)),this.slotGame.container.y=0,this.controller.spinBtnSprite.scale.set(1.3),this.controller.spinBtnSprite.y=this.controller.parentSprite.y-450,this.controller.spinBtnSprite.x=this.controller.parentSprite.width-this.controller.spinBtnSprite.width,this.controller.autoPlay.scale.set(1.4),this.controller.autoPlay.x=this.controller.parentSprite.width-this.controller.autoPlay.width-45,this.controller.autoPlay.y=this.controller.parentSprite.y+this.controller.parentSprite.height-1.2*this.controller.autoPlay.height-330,this.controller.settingBtnSpite.texture=g.default.loadTexture(this.textureArray,"controller","system_settings").texture,this.controller.settingBtnSpite.scale.set(1.3),this.controller.settingBtnSpite.x=1.5*this.controller.settingBtnSpite.width-93,this.controller.settingBtnSpite.y=this.controller.parentSprite.y+72,this.controller.betContainerSprite.texture=g.default.loadTexture(this.textureArray,"controller","bet_container").texture,this.controller.betContainerSprite.scale.set(1),this.controller.betContainerSprite.y=this.controller.parentSprite.y+90,this.controller.betContainerSprite.x=.95*this.controller.betContainerSprite.width,this.controller.betText.scale.set(1),this.controller.betText.x=(this.controller.betContainerSprite.width-this.controller.betText.width)/2,this.controller.betText.y=this.controller.betContainerSprite.height/2-35,this.controller.creditContainerSprite.scale.set(1),this.controller.creditContainerSprite.texture=g.default.loadTexture(this.textureArray,"controller","credits_container").texture,this.controller.creditContainerSprite.y=this.controller.parentSprite.y+90,this.controller.creditContainerSprite.x=.82*(this.controller.parentSprite.width-this.controller.creditContainerSprite.width),this.controller.creditText.scale.set(1),this.controller.creditText.x=(this.controller.creditContainerSprite.width-this.controller.creditText.width)/2,this.controller.creditText.y=this.controller.betContainerSprite.height/2-35,this.paylineBackDrop.visible=!1,this.controller.parentSprite.addChild(this.paylineContainer),this.gameContainer.removeChild(this.paylineContainer),this.updatePaylineText(this.paylineTextBottom.text,this.paylineText.text),this.infoContainer.alpha=0,this.controller.infoBtnSprite.texture=g.default.loadTexture(this.textureArray,"controller","info_button").texture,this.controller.infoBtnSprite.scale.set(1.2),this.controller.infoBtnSprite.x=this.controller.parentSprite.width-this.controller.spinBtnSprite.width-89,this.controller.infoBtnSprite.y=this.controller.parentSprite.y+55,this.paylineContainer.y=(this.controller.parentSprite.height-this.paylineContainer.height)/2+15,this.controller.soundBtnSprite.alpha=0,this.isOpenBuyBonusFrame&&(this.buyBonusFrame.x=(this.screenSetting.baseWidth-this.buyBonusFrame.width)/2,this.popGlow.x=this.buyBonusFrame.x+325),this.glowX2=1370,this.glowY2=1044,this.popGlow2.x=1370,this.popGlow2.y=1044,this.isOpenFreeSpinModals&&(this.moneySlot.x=(this.baseWidth-this.moneySlot.width)/2+400,this.moneySlot.y=-240),this.moneyBoardY=-240,this.frameGlow.x=(this.slotGame.frameBorder.x+this.slotGame.frameBorder.width)/2+40,this.frameGlow.y=this.slotGame.frameBorder.y+this.slotGame.frameBorder.height-20,this.freeSpinX=(this.screenSetting.baseWidth-this.buyBonusFrame.width)/2,this.glowX=960,(this.isMatchingGame||this.eventStart)&&(this.controller.parentSprite.texture=g.default.loadTexture(this.textureArray,"controller_mobile","tablet_controllers").texture,this.controller.settingBtnSpite.texture=g.default.loadTexture(this.textureArray,"controller","system_settings2").texture,this.controller.infoBtnSprite.texture=g.default.loadTexture(this.textureArray,"controller","info_button2").texture),this.isOpenSetting&&(this.modal.closeModal.scale.set(1.1),this.modal.modalTitle.x=(this.modal.modalFrame.width-this.modal.modalTitle.width)/2,this.modal.closeModal.x=this.modal.modalFrame.width-this.modal.closeModal.width-30,this.modal.closeModal.y=30,this.modal.separator.alpha=1,this.modal.leftContainer.scale.set(1),this.modal.leftContainer.x=(this.modal.separator.x-this.modal.leftContainer.width)/2,this.modal.leftContainer.y=(this.modal.modalFrame.height-this.modal.leftContainer.height)/2+50,this.modal.rightContainer.scale.set(1),this.modal.rightContainer.y=(this.modal.modalFrame.height-this.modal.rightContainer.height)/2,this.modal.rightContainer.x=this.modal.separator.x+60,this.modal.separator.x=(this.modal.modalFrame.width-this.modal.separator.width)/2,this.modal.separator.y=(this.modal.modalFrame.height-this.modal.separator.height)/2),this.isOpenAutoplay&&(this.modal.closeModal.scale.set(1.1),this.modal.btn2Container.scale.set(1),this.modal.bottomContainer.scale.set(1),this.modal.closeModal.x=this.modal.modalFrame.width-this.modal.closeModal.width-30,this.modal.closeModal.y=30,this.modal.btnContainer.visible=!0,this.modal.btn2Container.visible=!1,this.modal.autoPlaySettingsCont.x=(this.modal.modalFrame.width-this.modal.autoPlaySettingsCont.width)/2,this.modal.autoPlaySettingsCont.y=(this.modal.modalFrame.height-this.modal.autoPlaySettingsCont.height)/2,this.modal.bottomContainer.x=(this.modal.autoPlaySettingsCont.width-this.modal.bottomContainer.width)/2),this.isOpenInfo&&(this.modal.closeModal.scale.set(1.1),this.modal.closeModal.x=this.modal.modalFrame.width-this.modal.closeModal.width-30,this.modal.closeModal.y=30,this.modal.prevBtn.scale.set(1.2),this.modal.nextBtn.scale.set(1.2),this.modal.prevBtn.x=30,this.modal.prevBtn.y=(this.modal.modalFrame.height-this.modal.prevBtn.height)/2,this.modal.nextBtn.y=(this.modal.modalFrame.height-this.modal.nextBtn.height)/2,this.modal.nextBtn.x=this.modal.modalFrame.width-this.modal.nextBtn.width-30,this.modal.pageTitle.x=(this.modal.modalFrame.width-this.modal.pageTitle.width)/2,this.modal.pageTitle.y=30,this.modal.pageDesc.x=(this.modal.modalFrame.width-this.modal.pageDesc.width)/2,this.modal.pageDesc.y=this.modal.pageDesc.y=1.2*(this.modal.pageTitle.height+30),this.modal.pageText.x=.95*(this.modal.modalFrame.width-this.modal.pageText.width),this.modal.pageText.y=.95*(this.modal.modalFrame.height-this.modal.pageText.height)),this.isOpenCongrats&&(this.congrats.middleContainer.scale.set(1),this.congrats.overlay.texture=g.default.loadTexture(this.textureArray,"modal_settings","overlay").texture,this.congrats.logo.x=this.overlay.width/2,this.congrats.logo.y=this.overlay.height/1.2,this.congrats.popGlow.x=this.overlay.width/2,this.congrats.descText.x=(this.overlay.width-this.congrats.descText.width)/2,this.congrats.descText.y=(this.overlay.height-this.congrats.descText.height)/2*.74,this.congrats.spins.x=(this.overlay.width-this.congrats.spins.width)/2,this.congrats.spins.y=(this.overlay.height-this.congrats.spins.height)/1.5,this.congrats.clickAnyTxt.x=(this.overlay.width-this.congrats.clickAnyTxt.width)/2,this.congrats.clickAnyTxt.y=(this.overlay.height-this.congrats.clickAnyTxt.height)/1.4,this.congrats.money.x=(this.overlay.width-this.congrats.money.width)/2,this.congrats.money.y=(this.overlay.height-this.congrats.money.height)/2*1.06,this.congrats.middleContainer.x=-21.025),this.modal.infoSecondPageContainer.scale.set(1),this.isOpenInfo&&(this.modal.infoFirstPageContainer.x=(this.modal.modalFrame.width-this.modal.infoFirstPageContainer.width)/2,this.modal.infoFirstPageContainer.y=20),this.modal.infoSecondPageContainer.x=(this.modal.modalFrame.width-this.modal.infoSecondPageContainer.width)/2,this.modal.infoThirdPageContainer.x=(this.modal.modalFrame.width-this.modal.infoThirdPageContainer.width)/2,this.modal.infoFourthPageContainer.x=0,this.modal.infoFirstPageContainer.y=20,this.modal.infoSecondPageContainer.y=(this.modal.modalFrame.height-this.modal.infoSecondPageContainer.height)/2+50,this.modal.infoThirdPageContainer.y=(this.modal.modalFrame.height-this.modal.infoThirdPageContainer.height)/2+50,0==this.modal.currentPage?(this.modal.infoFirstPageContainerPortrait.alpha=0,this.modal.infoFirstPageContainer.alpha=1):1==this.modal.currentPage?(this.modal.infoSecondPageContainer.alpha=1,this.modal.infoSecondPageContainer.x=(this.modal.modalFrame.width-this.modal.infoSecondPageContainer.width)/2):2==this.modal.currentPage?(this.modal.infoThirdPageContainerPortrait.alpha=0,this.modal.infoThirdPageContainer.alpha=1,this.modal.imgContainer.x=(this.modal.modalFrame.width-this.modal.imgContainer.width)/2,this.modal.imgContainer.y=(this.modal.modalFrame.height-this.modal.imgContainer.height)/2-120):3==this.modal.currentPage?(this.modal.infoFourthPageContainerPortrait.alpha=0,this.modal.infoFourthPageContainer.alpha=1,this.modal.image4th.x=(this.modal.modalFrame.width-this.modal.image4th.width)/2,this.modal.image4th.y=(this.modal.modalFrame.height-this.modal.image4th.height)/2+30):4==this.modal.currentPage?(this.modal.infoFifthPageContainerPortrait.alpha=0,this.modal.infoFifthPageContainer.alpha=1,this.modal.image5th.x=(this.modal.modalFrame.width-this.modal.image5th.width)/2,this.modal.image5th.y=(this.modal.modalFrame.height-this.modal.image5th.height)/2+30):5==this.modal.currentPage&&(this.modal.infoSixthPageContainerPortrait.alpha=0,this.modal.infoSixthPageContainer.alpha=1,this.modal.image6th.x=(this.modal.modalFrame.width-this.modal.image6th.width)/2,this.modal.image6th.y=(this.modal.modalFrame.height-this.modal.image6th.height)/2+30),this.intro.bg.texture=e,this.intro.bg.height=this.screenSetting.baseHeight,this.intro.bg.width=this.screenSetting.baseWidth,this.intro.centerContainer.x=(this.intro.bg.width-this.intro.centerContainer.width)/2,this.intro.centerContainer.y=(this.intro.bg.height-this.intro.centerContainer.height)/2,this.intro.playBtn.x=.9*(this.screenSetting.baseWidth-this.intro.playBtn.width),this.intro.playBtn.y=.9*(this.screenSetting.baseHeight-this.intro.playBtn.height),this.intro.playBtnX=.9*(this.screenSetting.baseWidth-this.intro.playBtn.width),this.intro.playBtnY=.9*(this.screenSetting.height-this.intro.playBtn.height),this.intro.logo.x=(this.intro.centerContainer.width-this.intro.logo.width)/2,this.openTransition&&(this.transition.container.rotation=0*o.DEG_TO_RAD,this.transition.container.x=936,this.transition.container.y=1038),this.plantContainerLeft.y=0,this.plantContainerRight.x=0,this.plantContainerRight.y=0,this.vines.y=6,"A"==this.screenSetting.isSafe?(this.controller.spinBtnSprite.x=this.screenSetting.baseWidth-this.controller.spinBtnSprite.width,this.buyBonusBtn.x=0,this.slotGame.logo.scale.set(1.5),this.slotGame.levelBarContainer.y=50,this.controller.container.y=-50):"B"==this.screenSetting.isSafe?(this.controller.spinBtnSprite.x=this.screenSetting.baseWidth-this.controller.spinBtnSprite.width,this.controller.autoPlay.x=this.screenSetting.baseWidth-this.controller.autoPlay.width,this.buyBonusBtn.x=50,this.slotGame.logo.scale.set(1.5),this.controller.container.y=-20,this.paylineContainer.y=(this.controller.parentSprite.height-this.paylineContainer.height)/2+15,this.slotGame.levelBarContainer.scale.set(1),this.slotGame.levelBarContainer.y=0,this.slotGame.levelBarContainer.x=.96*(this.slotGame.frameBorder.x+(this.slotGame.frameBorder.width-this.slotGame.levelBarContainer.width))):"C"==this.screenSetting.isSafe?(this.controller.spinBtnSprite.x=this.screenSetting.baseWidth-this.controller.spinBtnSprite.width-150,this.controller.autoPlay.x=this.screenSetting.baseWidth-this.controller.autoPlay.width-150,this.buyBonusBtn.x=200,this.slotGame.logo.scale.set(2),this.slotGame.logo.x=1.24*this.slotGame.frameBorder.x,this.slotGame.logo.y=0,this.slotGame.levelBarContainer.scale.set(1),this.slotGame.levelBarContainer.y=0,this.slotGame.levelBarContainer.x=.96*(this.slotGame.frameBorder.x+(this.slotGame.frameBorder.width-this.slotGame.levelBarContainer.width)),this.controller.container.y=0):(this.controller.spinBtnSprite.x=this.screenSetting.baseWidth-this.controller.spinBtnSprite.width-200,this.controller.autoPlay.x=this.screenSetting.baseWidth-this.controller.autoPlay.width-200,this.buyBonusBtn.x=200,this.slotGame.logo.scale.set(2),this.slotGame.logo.x=191.5,this.slotGame.logo.y=10.5,this.slotGame.levelBarContainer.scale.set(1),this.slotGame.levelBarContainer.y=0,this.slotGame.levelBarContainer.x=.92*(this.slotGame.frameBorder.x+(this.slotGame.frameBorder.width-this.slotGame.levelBarContainer.width))),this.popUpActive&&(this.popUps.logo.scale.set(1.3),this.popUps.logo.x=this.overlay.width/2,this.popUps.logo.y=this.overlay.height/2*.7,this.popUps.overlay.width=this.screenSetting.baseWidth,this.popUps.money.x=(this.popUps.overlay.width-this.popUps.money.width)/2,this.popUps.money.y=.65*(this.popUps.logo.y+(this.popUps.logo.height-this.popUps.money.height)/2))),this.overlay.zIndex=1,this.moneySlot.zIndex=5,this.wildSlot.zIndex=5,this.popGlow.zIndex=4,this.popGlow2.zIndex=4}createIntro(){this.isIntro=!0,this.enableButtons(!1),this.intro=new f.default(this.app,this.textureArray),this.gameContainer.addChild(this.paylineBackDrop),this.paylineBackDrop.visible=!1,this.gameContainer.addChild(this.intro.container),this.paylineContainer.visible=!1,this.intro.playBtn.addEventListener("pointerdown",(()=>{this.intro.playBtn.interactive=!1,this.globalSound&&(v.Howler.mute(!1),this.controller.soundBtnSprite.texture=this.sounBtnSpriteOn,this.ambientCheck=!0,this.sfxCheck=!0),this.playSound(12),this.playSound(0),this.playSound(16),this.soundVolume(16,0),this.playSound(17),this.soundVolume(17,0),this.createTransition();let t=setTimeout((()=>{this.enableButtons(!0),this.intro.container.removeChild(this.intro.playBtn),this.gameContainer.removeChild(this.intro.container),this.intro.btnScaleAnimation.kill(),this.paylineContainer.visible=!0,this.isIntro=!1,clearTimeout(t)}),this.transitionDelay)}))}createPlants(){this.plant5Right=new x.Spine(this.textureArray.plant_5.spineData),this.plant5Right.scale.set(.7),this.plant5Right.x=this.baseWidth-100,this.plant5Right.y=.15*this.baseHeight,g.default.loadSpineAnimation(this.plant5Right,"animation",!0,.6),this.plantContainerRight.addChild(this.plant5Right),this.plant4Right=new x.Spine(this.textureArray.plant_4.spineData),this.plant4Right.scale.set(.7),this.plant4Right.x=this.baseWidth-100,this.plant4Right.y=.3*this.baseHeight,g.default.loadSpineAnimation(this.plant4Right,"animation",!0,.6),this.plantContainerRight.addChild(this.plant4Right),this.plant3Right=new x.Spine(this.textureArray.plant_3.spineData),this.plant3Right.scale.set(.7),this.plant3Right.x=this.baseWidth-100,this.plant3Right.y=.5*this.baseHeight,g.default.loadSpineAnimation(this.plant3Right,"animation",!0,.6),this.plantContainerRight.addChild(this.plant3Right),this.plant2Right=new x.Spine(this.textureArray.plant_2.spineData),this.plant2Right.scale.set(.7),this.plant2Right.x=this.baseWidth,this.plant2Right.y=.6*this.baseHeight,g.default.loadSpineAnimation(this.plant2Right,"animation",!0,.7),this.plantContainerRight.addChild(this.plant2Right),this.plant1Right=new x.Spine(this.textureArray.plant_1.spineData),this.plant1Right.scale.set(.8),this.plant1Right.x=this.baseWidth,this.plant1Right.y=.9*this.baseHeight,g.default.loadSpineAnimation(this.plant1Right,"animation",!0,.7),this.plantContainerRight.addChild(this.plant1Right),this.gameContainer.addChild(this.plantContainerRight),this.plant5Left=new x.Spine(this.textureArray.plant_5.spineData),this.plant5Left.scale.set(.7),this.plant5Left.x=this.baseWidth-100,this.plant5Left.y=.15*this.baseHeight,g.default.loadSpineAnimation(this.plant5Left,"animation",!0,.6),this.plantContainerLeft.addChild(this.plant5Left),this.plant4Left=new x.Spine(this.textureArray.plant_4.spineData),this.plant4Left.scale.set(.7),this.plant4Left.scale.x=-1,this.plant4Left.x=100,this.plant4Left.y=.2*this.baseHeight,g.default.loadSpineAnimation(this.plant4Left,"animation",!0,.6),this.plantContainerLeft.addChild(this.plant4Left),this.plant3Left=new x.Spine(this.textureArray.plant_3.spineData),this.plant3Left.scale.set(.7),this.plant3Left.scale.x=-1,this.plant3Left.x=100,this.plant3Left.y=.4*this.baseHeight,g.default.loadSpineAnimation(this.plant3Left,"animation",!0,.6),this.plantContainerLeft.addChild(this.plant3Left),this.plant2Left=new x.Spine(this.textureArray.plant_2.spineData),this.plant2Left.scale.set(.7),this.plant2Left.scale.x=-1,this.plant2Left.x=-10,this.plant2Left.y=.75*this.baseHeight,g.default.loadSpineAnimation(this.plant2Left,"animation",!0,.7),this.plantContainerLeft.addChild(this.plant2Left),this.plant1Left=new x.Spine(this.textureArray.plant_1.spineData),this.plant1Left.scale.set(.8),this.plant1Left.scale.x=-1,this.plant1Left.x=10,this.plant1Left.y=.9*this.baseHeight,g.default.loadSpineAnimation(this.plant1Left,"animation",!0,.7),this.plantContainerLeft.addChild(this.plant1Left),this.vines=new x.Spine(this.textureArray.vines.spineData),this.vines.x=.6*this.vines.width,this.vines.y=6,g.default.loadSpineAnimation(this.vines,"animation",!0,.4),this.plantContainerLeft.addChild(this.vines),this.gameContainer.addChild(this.plantContainerLeft),this.createButterfly()}createButterfly(){const t=new x.Spine(this.textureArray.butterfly.spineData);t.scale.set(.5),t.x=-100,t.y=this.baseHeight;let e=_.gsap.to(t,{x:.99*(this.baseWidth-t.width),y:.85*this.plant1Right.y,delay:2,duration:3,onComplete:()=>{let i=_.gsap.to(t,{x:this.baseWidth+t.width,y:.9*this.plant1Right.y,delay:2,duration:3,onComplete:()=>{e.kill(),i.kill(),this.createButterfly(),this.plantContainerRight.removeChild(t)}})}});g.default.loadSpineAnimation(t,"animation",!0,5),t.zIndex=0,this.plantContainerRight.addChild(t)}createCongrats(){this.fadeSound(6,0,this.fadeDurationBgm),this.soundVolume(0,0),this.sound[7].playing()||this.playSound(7),this.fadeSound(7,1,this.fadeDurationBgm),this.isOpenCongrats=!0,this.congrats=new d.default(this.app,this.textureArray,this.winFreeSpin,this.noOfSpin),this.congrats.container.zIndex=4,this.gameContainer.addChild(this.congrats.container),this.screenSize(),this.congrats.container.cursor="pointer",this.congrats.container.interactive=!0,this.congrats.container.addEventListener("pointerdown",(()=>{this.moneySlot.interactive=!0,this.wildSlot.interactive=!0,this.eventStart=!1,this.isAutoPlay=!1,this.congrats.container.interactive=!1,this.slotGame.isFreeSpinDone=!0,this.slotGame.freeSpinStart=!1,this.slotGame.isFreeSpin=!1,this.slotGame.maskSprite.height=this.slotGame.frameBg.height-8,this.slotGame.maskSprite.y=this.slotGame.frameBg.y-8,this.congrats.textAnimation.duration(.3),this.slotGame.freeSpinStart=!1,this.createTransition(),this.slotGame.startCountWinFreeSpin=!1;let t=setTimeout((()=>{this.sound[0].playing()||this.playSound(0),this.fadeSound(7,0,this.fadeDurationBgm),this.fadeSound(0,1,this.fadeDurationBgm),this.gameContainer.removeChild(this.congrats.container),this.enableButtons(!0),this.lightModeEvent(!0);let e=setTimeout((()=>{this.isFreeSpin=!1,this.soundStop(7),clearTimeout(e)}),1e3);this.slotGame.reelContainer.forEach(((t,e)=>{this.slotGame.generateNewSymbols(e)})),this.screenSize(),this.isOpenModal=!1,clearTimeout(t)}),this.transitionDelay)})),this.slotGame.autoplayDoneEvent=!0}createModal(){this.modal=new p.default(this.app,this.textureArray,this.screenSize.bind(this),this.playSound.bind(this)),this.modal.closeModal.addEventListener("pointerdown",(()=>{this.playSound(1),this.controller.settingBtnSpite.interactive=!0,this.controller.autoPlay.interactive=!0,this.controller.infoBtnSprite.interactive=!0}))}createGame(){this.gameBackground=g.default.loadTexture(this.textureArray,"main","bg"),this.gameBackground.width=this.baseWidth,this.gameBackground.height=this.baseHeight,this.gameContainer.addChild(this.gameBackground)}createSlot(){this.slotGame=new l.default(this.app,this.textureArray,this.onSpinEnd.bind(this),this.matchingGame.bind(this),this.onSpinning.bind(this),this.freeSpinEvent.bind(this),this.createCongrats.bind(this),this.onSpin.bind(this),this.playSound.bind(this),this.soundStop.bind(this),this.sound,this.fadeSound.bind(this),this.soundVolume.bind(this),this.checkBalance.bind(this)),this.gameContainer.addChild(this.slotGame.container)}createFrameGlow(){this.frameGlow=new x.Spine(this.textureArray.frame_glow.spineData),this.frameGlow.width=this.baseWidth,this.frameGlow.x=(this.slotGame.frameBorder.x+this.slotGame.frameBorder.width)/2+40,this.frameGlow.y=this.slotGame.frameBorder.y+this.slotGame.frameBorder.height-20,this.frameGlow.visible=!1,this.gameContainer.addChild(this.frameGlow)}createController(){this.controller=new c.default(this.app,this.textureArray),this.controller.container.addChild(this.infoContainer),this.createPaylineAnimation(),this.gameContainer.addChild(this.controller.container),this.controller.soundBtnSprite.texture=this.sounBtnSpriteOff,this.controller.soundBtnSprite.addEventListener("pointerdown",(()=>{this.playSound(1),this.controller.soundBtnSprite.texture==this.sounBtnSpriteOn?(v.Howler.mute(!0),this.controller.soundBtnSprite.texture=this.sounBtnSpriteOff,this.ambientCheck=!1,this.sfxCheck=!1,this.modal.soundBtns.forEach(((t,e)=>{t.texture=this.textureToggleOff}))):(this.controller.soundBtnSprite.texture=this.sounBtnSpriteOn,v.Howler.mute(!1),this.ambientCheck=!0,this.sfxCheck=!0,this.modal.soundBtns.forEach(((t,e)=>{t.texture=this.textureToggleOn}))),this.checkSoundToggle()}))}updateTextValues(){this.betTextValue(),this.updateCreditValues()}betTextValue(){this.controller.betText.text=this.betAmount,"portrait"==this.screenSetting.screentype?this.controller.betText.x=(this.controller.betContainerSprite.width-this.controller.betText.width/2)/2:this.controller.betText.x=(this.controller.betContainerSprite.width-this.controller.betText.width)/2,this.buyBonusText.text=this.betAmount,this.buyBonusText.x=(this.buyBonusBtn.width-this.buyBonusText.width)/2,this.buyBonusText.y=this.buyBonusBtn.height-this.buyBonusText.height-20}updateCreditValues(){this.controller.creditText.text=g.default.numberWithCommas(this.userCredit),"portrait"==this.screenSetting.screentype?this.controller.creditText.x=(this.controller.creditContainerSprite.width-this.controller.creditText.width/2)/2:this.controller.creditText.x=(this.controller.creditContainerSprite.width-this.controller.creditText.width)/2}checkBalance(){(this.userCredit<1||this.betAmount>this.userCredit)&&(this.isAutoPlay=!1,this.slotGame.autoPlayCount=0,this.controller.spinBtnSprite.interactive=!0,this.controller.spinBtnSprite.cursor="pointer",this.isAutoPlay=!1,this.controller.spinBtnSprite.texture=this.spinTextureOn,this.slotGame.autoPlayCount=0,this.buyBonusBtn.interactive=!0,this.controller.settingBtnSpite.interactive=!0,this.controller.infoBtnSprite.interactive=!0,alert("No more balance!"))}onSpinEnd(){this.isMatchingGame||(this.paylineGreetings="SPIN TO WIN",this.userCredit+=this.slotGame.totalWin,this.updateCreditValues(),0!=this.slotGame.autoPlayCount||this.slotGame.isFreeSpin||(this.isAutoPlay=!1,this.controller.spinBtnSprite.texture=this.spinTextureOn,this.buyBonusBtn.interactive=!0),this.updatePaylineAnimation(this.paylineGreetings)),this.slotGame.startCountWinFreeSpin&&(this.winFreeSpin+=this.slotGame.totalWin),this.slotGame.isBonusTick&&(this.freeSpinEvent(),this.slotGame.isBonusTick=!1);let t=setTimeout((()=>{this.isAutoPlay||(1==this.sound[16].volume()&&this.fadeSound(16,0,this.fadeDurationBgm),0!=this.sound[17].volume()||this.isFreeSpin||this.fadeSound(0,1,this.fadeDurationBgm)),clearTimeout(t)}),this.fadeOutDelay)}onSpinning(){this.paylineGreetings="GOOD LUCK",this.paylineContainersAnimation.forEach((t=>{this.gameContainer.removeChild(t)})),this.updatePaylineAnimation(this.paylineGreetings)}onSpin(){this.sound[0].playing()||this.slotGame.isFreeSpin||this.playSound(0),this.sound[16].playing()||this.slotGame.isFreeSpin||this.playSound(16),this.slotGame.isFreeSpin||(this.fadeSound(16,1,this.fadeDurationBgm),this.fadeSound(17,0,this.fadeDurationBgm),this.fadeSound(0,0,this.fadeDurationBgm)),this.slotGame.totalWin=0,this.userCredit-=this.betAmount,this.updateCreditValues()}startSpin(t){this.userCredit<1||this.betAmount>this.userCredit?alert("No more balance!"):this.slotGame.startSpin(t)}startSpinAutoPlay(t){this.userCredit<1?alert("No more balance!"):(this.slotGame.autoPlayCount=t,this.startSpin(this.spinType),this.modal.totalSpin=0)}createBuyBonus(){this.buyBonusBtn=g.default.loadTexture(this.textureArray,"bonus","buy_free_spin_btn"),this.buyBonusBtn.interactive=!0,this.buyBonusBtn.cursor="pointer",this.buyBonusBtn.y=(this.baseHeight-this.buyBonusBtn.height)/2,this.buyBonusText=new o.Text(`${this.betAmount}`,this.textStyle),this.buyBonusText.x=(this.buyBonusBtn.width-this.buyBonusText.width)/2,this.buyBonusText.y=this.buyBonusBtn.height-this.buyBonusText.height-20,this.buyBonusBtn.addChild(this.buyBonusText),this.gameContainer.addChild(this.buyBonusBtn)}buyBonusPopUp(){let t=-80;this.popGlow.x=this.glowX,this.popGlow.y=1044,this.popGlow.alpha=0,this.popGlow.scale.x=1.1,this.popGlow.scale.y=1.3,g.default.loadSpineAnimation(this.popGlow,"glow",!0,.1),this.overlay.addChild(this.popGlow),this.buyBonusFrame.x=this.freeSpinX,this.buyBonusFrame.y=t;const e=new o.Text(`${this.betAmount}`,this.textStyle2);e.x=(this.buyBonusFrame.width-e.width)/2,e.y=.85*(this.buyBonusFrame.height-e.height),this.buyBonusFrame.addChild(e);const i=g.default.loadTexture(this.textureArray,"bonus","ex");i.interactive=!0,i.cursor="pointer",i.x=i.width,i.y=.94*(this.buyBonusFrame.height-i.height),this.buyBonusFrame.addChild(i);const s=g.default.loadTexture(this.textureArray,"bonus","check");s.interactive=!0,s.cursor="pointer",s.x=.85*(this.buyBonusFrame.width-s.width),s.y=.94*(this.buyBonusFrame.height-s.height),this.buyBonusFrame.addChild(s);let n=-this.buyBonusFrame.height;i.addEventListener("pointerdown",(()=>{i.interactive=!1,this.isOpenBuyBonusFrame=!1,this.playSound(13);let e=setTimeout((()=>{this.enableButtons(!0),this.buyBonusFrame.removeChild(s),this.buyBonusFrame.removeChild(i),clearTimeout(e)}),2e3);this.hideBonusPopUp(t,n),this.isOpenModal=!1})),s.addEventListener("pointerdown",(()=>{console.log("CHECK CLICKEEED"),this.playSound(12),this.isOpenBuyBonusFrame=!1,this.slotGame.freeSpinStart=!0,this.slotGame.isFreeSpin=!0,this.hideBonusPopUp(t,n),s.interactive=!1,this.enableButtons(!1);let e=setTimeout((()=>{this.startSpinAutoPlay(1),clearTimeout(e)}),1e3),r=setTimeout((()=>{s.interactive=!0,this.buyBonusFrame.removeChild(s),this.buyBonusFrame.removeChild(i),clearTimeout(r)}),5e3)}));let r=_.gsap.from(this.buyBonusFrame,{delay:.3,y:n,onComplete:()=>{r.kill();let t=_.gsap.to(this.buyBonusFrame,{y:-240,onComplete:()=>{t.kill();let e=_.gsap.to(this.popGlow,{delay:0,duration:1,alpha:1,onComplete:()=>{e.kill()}})}})}});this.overlay.addChild(this.buyBonusFrame),this.gameContainer.addChild(this.overlay)}hideBonusPopUp(t,e){let i=_.gsap.to(this.popGlow,{duration:.8,alpha:0,onComplete:()=>{i.kill(),this.overlay.removeChild(this.popGlow);let s=_.gsap.to(this.buyBonusFrame,{delay:.2,duration:.2,y:1.2*t,onComplete:()=>{s.kill();let t=_.gsap.to(this.buyBonusFrame,{duration:.2,y:e,onComplete:()=>{t.kill(),this.gameContainer.removeChild(this.overlay)}})}})}})}hideBonusChoicesPopUp(t,e){this.enableButtons(!0);let i=_.gsap.to(this.popGlow,{duration:.8,alpha:0,onComplete:()=>{i.kill();let s=_.gsap.to(this.buyBonusFrame,{delay:.2,duration:.2,y:1.2*t,onComplete:()=>{s.kill();let t=_.gsap.to(this.buyBonusFrame,{duration:.2,y:e,onComplete:()=>{t.kill(),this.gameContainer.removeChild(this.overlay)}})}})}})}matchingGame(){this.fadeSound(17,0,this.fadeDurationBgm),this.fadeSound(0,0,this.fadeDurationBgm),this.fadeSound(16,0,this.fadeDurationBgm),this.playSound(15),this.createTransition(),this.isMatchingGame=!0;let t=setTimeout((()=>{this.soundStop(17),this.soundStop(16),this.soundStop(0),this.playSound(8),this.soundVolume(8,0),this.fadeSound(8,1,2e3);let e,i=g.default.arrayRandomizer(y.default.matchgame_values),s=[],n=1.2,r=0,a=0,o=0,h=0,l=0,d="",u=2e3;this.enableButtons(!1),this.lightMode(!1),i.forEach(((t,i)=>{const c=new x.Spine(this.textureArray.rock_block.spineData);c.interactive=!0,c.cursor="pointer";let p="close";i>3&&i<8?(c.y=c.height*n,c.x=a*c.width*n,a++):i>=8&&i<=11?(c.y=2*c.height*n,c.x=r*c.width*n,r++):c.x=i*c.width*n,g.default.loadSpineAnimation(c,"close",!0,.4),c.skeleton.setSkinByName(t),c.addEventListener("pointerdown",(()=>{if(this.playSound(20),c.interactive=!1,p="open",s[i].status="open",g.default.loadSpineAnimation(c,"reveal",!1,.7),"grand"==t){l++;let t=setTimeout((()=>{this.playSound(23),clearTimeout(t)}),u);3==l&&(d="excellent",this.matchingGameWin=y.default.jackpots.grand,e=c,this.matchinGameWinPop(s,d,e))}else if("major"==t){h++;let t=setTimeout((()=>{this.playSound(22),clearTimeout(t)}),u);3==h&&(d="impressive",this.matchingGameWin=y.default.jackpots.major,e=c,this.matchinGameWinPop(s,d,e))}else{let t=setTimeout((()=>{this.playSound(21),clearTimeout(t)}),u);o++,3==o&&(d="nice",this.matchingGameWin=y.default.jackpots.mini,e=c,this.matchinGameWinPop(s,d,e))}this.userCredit+=this.matchingGameWin,this.updateCreditValues()})),s.push({symbol:c,status:p}),this.matchingBlocksContainer.addChild(c)})),this.matchingBlocksContainer.height=355,this.matchingBlocksContainer.width=615,this.matchingBlocksContainer.x=(this.slotGame.frameBg.width/2-this.matchingBlocksContainer.width)/2+70,this.matchingBlocksContainer.y=(this.slotGame.frameBg.height/2-this.matchingBlocksContainer.height)/2+55,this.slotGame.frameBg.addChild(this.matchingBlocksContainer),this.textStyle.fontSize=46,this.textStyle3.fontSize=30,this.updatePaylineText("PICK STONE TO REVEAL JACKPOTS","MATCH 3 TO WIN"),this.screenSize(),clearTimeout(t)}),this.transitionDelay)}matchinGameWinPop(t,e,i){t.forEach((t=>{t.symbol.interactive=!1,"close"==t.status&&g.default.loadSpineAnimation(t.symbol,"reveal",!1,.7)}));let s=setTimeout((()=>{this.createPopUps(e),this.playSound(7),this.fadeSound(8,0,2e3),this.popUps.container.addEventListener("pointerdown",(()=>{this.popUpActive=!1,this.popUps.container.interactive=!1,this.matchGameResult(i),this.fadeSound(7,0,2e3),this.fadeSound(8,1,2e3)})),clearTimeout(s)}),2500)}matchGameResult(t){let e=this.slotGame.frameBg,i=g.default.loadTexture(this.textureArray,"bonus","matchin_game_win_board").texture,s=new o.Text(`${g.default.numberWithCommas(this.matchingGameWin)}`,this.whiteYellow),n=new o.Text("click here to continue",this.textStyle3);e.texture=i,t.x=e.width/2,t.y=e.height-200,s.x=(e.width-s.width)/2,s.y=(e.height-s.height)/2*.85;const r=_.gsap.timeline({repeat:-1,onUpdate:()=>{n.x=(e.width-n.width)/2,n.y=.96*(e.height-n.height)}});r.to(n.scale,{duration:.5,x:1.2,y:1.2}).to(n.scale,{duration:.5,x:1,y:1}),r.play(),n.x=(e.width-n.width)/2,n.y=.96*(e.height-n.height),this.popUps.closePopUp(),e.addChild(t),e.addChild(s),e.addChild(n),e.removeChild(this.matchingBlocksContainer),n.interactive=!0,n.cursor="pointer",n.addEventListener("pointerdown",(()=>{this.playSound(0),this.soundStop(16),this.soundVolume(16,0),this.soundStop(17),this.soundVolume(17,0),this.fadeSound(0,1,2e3),this.fadeSound(8,0,2e3),this.playSound(12),r.kill(),this.endMatchingGame(),n.interactive=!1,n.interactive=!1;let i=setTimeout((()=>{e.removeChild(t),e.removeChild(s),e.removeChild(n),clearTimeout(i)}),this.transitionDelay)}))}endMatchingGame(){this.createTransition(),this.isMatchingGame=!1;let t=setTimeout((()=>{this.gameContainer.interactive=!1,this.gameContainer.cursor="",this.lightMode(!0),this.enableButtons(!0),this.screenSize(),this.slotGame.levelBarIndicator.width=0,this.slotGame.frameBg.removeChild(this.matchingBlocksContainer),this.textStyle.fontSize=50,this.textStyle3.fontSize=40,this.updatePaylineText("Tap space or enter to skip","SPIN TO WIN"),this.slotGame.freeSpinStart&&this.freeSpinEvent(),clearTimeout(t)}),this.transitionDelay);this.slotGame.isMatchingGame=!1}createPaylineAnimation(){this.paylineText=new o.Text("SPIN TO WIN",this.textStyle),this.paylineTextBottom=new o.Text("Tap space or enter to skip",this.textStyle3),this.paylineContainer.addChild(this.paylineText,this.paylineTextBottom),this.updatePaylineText(this.paylineTextBottom.text,this.paylineText.text),this.controller.parentSprite.addChild(this.paylineContainer)}updatePaylineText(t,e){this.paylineTextBottom.text=t,this.paylineText.text=e,this.paylineText.x=(this.paylineContainer.width-this.paylineText.width)/2,this.paylineTextBottom.x=(this.paylineContainer.width-this.paylineTextBottom.width)/2,this.paylineTextBottom.y=this.paylineText.height,this.paylineContainer.x=(this.controller.parentSprite.width-this.paylineContainer.width)/2}updatePaylineAnimation(t){this.paylineContainersAnimation=[],this.paylineAnimations.forEach((t=>{t.kill()}));let e=this.slotGame.paylines;this.paylineText.text=t;let i=0,s=this.isAutoPlay?`Spins left ${this.slotGame.autoPlayCount}`:"Tap space or enter to skip";if(0!==this.slotGame.paylines.length){for(let t=0;t<e.length;t++){s="",this.updatePaylineText(s,this.paylineText.text);let n=e[t].payline,r=g.default.numberWithCommas(e[t].payout);const a=new o.Container,h=new o.Container,l=new o.Text(`line ${n} pays ${r}`,this.descText);e[t].symbols.forEach(((t,e)=>{let s;s=0==this.slotGame.whatEvent?y.default.symbolAssets[t-1]:1==this.slotGame.whatEvent?y.default.symbolAssetsEvent2[t-1]:y.default.symbolAssetsEvent[t-1];let n=g.default.loadTexture(this.textureArray,"slot",`${s.symbol}`);n.x=65*e,a.addChild(n),i+=s.pay})),a.x=l.width,h.addChild(a,l),h.alpha=0,l.y=(h.height-l.height)/2,this.paylineContainersAnimation.push(h),this.animatePaySymbols(h,t),this.gameContainer.addChild(h)}this.updatePaylineText(s,`WIN ${g.default.numberWithCommas(i)}`)}this.updatePaylineText(s,this.paylineText.text)}animatePaySymbols(t,e){let i=0,s=0;"portrait"==this.screenSetting.screentype?(i=this.paylineContainer.x+(this.paylineContainer.width-t.width)/2,s=this.paylineContainer.y+this.paylineText.height):(i=this.paylineContainer.x+(this.paylineContainer.width-t.width)/2,s=this.controller.parentSprite.y+this.paylineContainer.y+this.paylineText.height,"A"==this.screenSetting.isSafe&&(s=this.controller.parentSprite.y+this.paylineContainer.y+20));let n=e+1,r=_.gsap.to(t,{delay:2*e,duration:1,alpha:1,onStart:()=>{t.x=i,t.y=s},onComplete:()=>{t.alpha=0,r.kill();let e=setTimeout((()=>{n==this.slotGame.paylines.length&&this.paylineContainersAnimation.forEach(((t,e)=>{this.animatePaySymbols(t,e)})),clearTimeout(e)}),3e3)}});this.paylineAnimations.push(r)}lightMode(t){this.isLightMode=t;let e,i=g.default.loadTexture(this.textureArray,"main",t?"slot_frame_bg":"slot_frame_bg2").texture,s=g.default.loadTexture(this.textureArray,"controller",t?"controller_parent":"controller_parent2").texture,n=g.default.loadTexture(this.textureArray,"controller",t?"info_button":"info_button2").texture,r=g.default.loadTexture(this.textureArray,"controller",t?"system_settings":"system_settings2").texture,a=g.default.loadTexture(this.textureArray,"controller",t?"spin_button":"spin_button2").texture,o=g.default.loadTexture(this.textureArray,"controller",t?"autoplay_button":"autoplay_button2").texture;e="portrait"==this.screenSetting.screentype?t?g.default.loadTexture(this.textureArray,"main","bg_mobile").texture:g.default.loadTexture(this.textureArray,"main","bg_mobile2").texture:t?g.default.loadTexture(this.textureArray,"main","bg").texture:g.default.loadTexture(this.textureArray,"main","bg2").texture,this.slotGame.reelContainer.forEach((e=>{e.visible=t})),this.paylineContainersAnimation.forEach((e=>{e.visible=t})),this.slotGame.frameBg.texture=i,this.slotGame.frameBg.width=1490,this.slotGame.frameBg.height=765,this.controller.parentSprite.texture=s,this.controller.infoBtnSprite.texture=n,this.controller.settingBtnSpite.texture=r,this.controller.spinBtnSprite.texture=a,this.controller.autoPlay.texture=o,this.gameBackground.texture=e,this.buyBonusBtn.visible=t,this.slotGame.levelBarContainer.x=t?0:.5*-this.slotGame.levelBarContainer.width,this.frameGlow.visible=!t,t?this.firefliesArray.forEach((t=>this.gameContainer.removeChild(t))):(g.default.loadSpineAnimation(this.frameGlow,"animation",!0,.15),this.createFireflies())}lightModeEvent(t){this.isLightMode=t;g.default.loadTexture(this.textureArray,"main",t?"slot_frame_bg":"slot_frame_bg2").texture;let e=g.default.loadTexture(this.textureArray,"controller",t?"controller_parent":"controller_parent2").texture,i=g.default.loadTexture(this.textureArray,"controller",t?"info_button":"info_button2").texture,s=g.default.loadTexture(this.textureArray,"controller",t?"system_settings":"system_settings2").texture,n=g.default.loadTexture(this.textureArray,"controller",t?"spin_button":"spin_button2").texture,r=g.default.loadTexture(this.textureArray,"controller",t?"autoplay_button":"autoplay_button2").texture,a=g.default.loadTexture(this.textureArray,"main",t?"bg":"bg2").texture;a="portrait"==this.screenSetting.screentype?t?g.default.loadTexture(this.textureArray,"main","bg_mobile").texture:g.default.loadTexture(this.textureArray,"main","bg_mobile2").texture:t?g.default.loadTexture(this.textureArray,"main","bg").texture:g.default.loadTexture(this.textureArray,"main","bg2").texture,this.controller.parentSprite.texture=e,this.controller.infoBtnSprite.texture=i,this.controller.settingBtnSpite.texture=s,this.controller.spinBtnSprite.texture=n,this.controller.autoPlay.texture=r,this.gameBackground.texture=a,this.buyBonusBtn.visible=t,this.slotGame.levelBarContainer.x=t?0:.5*-this.slotGame.levelBarContainer.width,this.frameGlow.visible=!t,t?this.firefliesArray.forEach((t=>this.gameContainer.removeChild(t))):(g.default.loadSpineAnimation(this.frameGlow,"animation",!0,.15),this.createFireflies())}createFireflies(){for(let t=0;t<=10;t++){const t=new x.Spine(this.textureArray.firefly.spineData);t.x=g.default.getRandomInt(-10,this.slotGame.frameBorder.x),t.y=g.default.getRandomInt(0,this.baseHeight-this.controller.parentSprite.height),t.scale.set(g.default.getRandomInt(.1,1)),t.alpha=0,g.default.loadSpineAnimation(t,"animation",!0,.5);_.gsap.to(t,{delay:g.default.getRandomInt(1,5),duration:g.default.getRandomInt(1,3),alpha:1,repeat:-1});_.gsap.timeline().to(t,{x:g.default.getRandomInt(0,this.slotGame.frameBorder.x),y:g.default.getRandomInt(this.baseHeight,0),delay:g.default.getRandomInt(1,5),duration:g.default.getRandomInt(10,20),ease:"none",repeat:-1});this.firefliesArray.push(t),this.gameContainer.addChild(t)}for(let t=0;t<=10;t++){const t=new x.Spine(this.textureArray.firefly.spineData);t.x=g.default.getRandomInt(this.slotGame.frameBorder.x+this.slotGame.frameBorder.width,this.baseWidth),t.y=g.default.getRandomInt(0,this.baseHeight-this.controller.parentSprite.height),t.scale.set(g.default.getRandomInt(.1,1)),t.alpha=0,g.default.loadSpineAnimation(t,"animation",!0,.5);_.gsap.to(t,{delay:g.default.getRandomInt(1,5),duration:g.default.getRandomInt(1,3),alpha:1,repeat:-1});_.gsap.timeline().to(t,{x:g.default.getRandomInt(this.slotGame.frameBorder.x+this.slotGame.frameBorder.width,this.baseWidth),y:g.default.getRandomInt(this.baseHeight,0),delay:g.default.getRandomInt(1,5),duration:g.default.getRandomInt(10,20),ease:"none",repeat:-1});this.firefliesArray.push(t),this.gameContainer.addChild(t)}}enableButtons(t){let e=t?"pointer":"";this.controller.spinBtnSprite.interactive=t,this.controller.spinBtnSprite.cursor=e,this.controller.autoPlay.interactive=t,this.controller.autoPlay.cursor=e,this.controller.settingBtnSpite.interactive=t,this.controller.settingBtnSpite.cursor=e,this.controller.infoBtnSprite.interactive=t,this.controller.infoBtnSprite.cursor=e,this.buyBonusBtn.interactive=t,this.buyBonusBtn.cursor=e}events(){this.controller.infoBtnSprite.addEventListener("pointerdown",(()=>{this.playSound(1),this.isOpenInfo=!0,this.controller.infoBtnSprite.interactive=!1,this.controller.settingBtnSpite.interactive=!1,this.controller.autoPlay.interactive=!1,this.modal.createInfoModal(),this.screenSize()})),this.controller.settingBtnSpite.addEventListener("pointerdown",(()=>{this.isOpenSetting=!0,this.playSound(1),this.controller.infoBtnSprite.interactive=!1,this.controller.settingBtnSpite.interactive=!1,this.controller.autoPlay.interactive=!1,this.modal.createSystemSettings(this.isAutoPlay),this.modal.betBtns.forEach(((t,e)=>{t.addEventListener("pointerdown",(()=>{this.playSound(1),0==e?(this.betIndex--,this.betAmount=y.default.bet_amounts[this.betIndex],0==this.betIndex?this.modal.betBtns[0].interactive=!1:(this.modal.betBtns[0].interactive=!0,this.modal.betBtns[1].interactive=!0)):(this.betIndex++,this.betAmount=y.default.bet_amounts[this.betIndex],5==this.betIndex?this.modal.betBtns[1].interactive=!1:(this.modal.betBtns[0].interactive=!0,this.modal.betBtns[1].interactive=!0)),this.modal.betAmountText.text=this.betAmount,this.modal.betAmountText.x=(this.modal.betAmountSpite.width-this.modal.betAmountText.width)/2,this.betTextValue()}))})),0==this.betIndex&&(this.modal.betBtns[0].interactive=!1),5==this.betIndex&&(this.modal.betBtns[1].interactive=!1),this.ambientCheck?this.modal.soundBtns[0].texture=this.textureToggleOn:this.modal.soundBtns[0].texture=this.textureToggleOff,this.sfxCheck?this.modal.soundBtns[1].texture=this.textureToggleOn:this.modal.soundBtns[1].texture=this.textureToggleOff,this.modal.soundBtns.forEach(((t,e)=>{t.addEventListener("pointerdown",(()=>{this.playSound(1),t.texture==this.textureToggleOff?(v.Howler.mute(!1),this.controller.soundBtnSprite.texture=this.sounBtnSpriteOn,t.texture=this.textureToggleOn,0==e?this.ambientCheck=!0:this.sfxCheck=!0):(t.texture=this.textureToggleOff,this.controller.soundBtnSprite.texture=this.sounBtnSpriteOff,0==e?this.ambientCheck=!1:this.sfxCheck=!1),this.checkSoundToggle()}))})),this.modal.betAmountText.text=this.betAmount,this.modal.betAmountText.x=(this.modal.betAmountSpite.width-this.modal.betAmountText.width)/2,this.screenSize()})),this.controller.autoPlay.addEventListener("pointerdown",(()=>{this.playSound(1);let t=setTimeout((()=>{this.fadeSound(16,0,this.fadeDurationBgm),this.fadeSound(0,1,this.fadeDurationBgm),this.playSound(1),clearTimeout(t)}),this.fadeOutDelay);this.isOpenAutoplay=!0,this.isAutoPlay?(this.controller.spinBtnSprite.interactive=!0,this.controller.spinBtnSprite.cursor="pointer",this.isAutoPlay=!1,this.controller.spinBtnSprite.texture=this.spinTextureOn,this.slotGame.autoPlayCount=0,this.buyBonusBtn.interactive=!0,this.controller.settingBtnSpite.interactive=!0,this.controller.infoBtnSprite.interactive=!0):(this.controller.infoBtnSprite.interactive=!1,this.controller.settingBtnSpite.interactive=!1,this.controller.autoPlay.interactive=!1,this.modal.btnArray=[],this.modal.createAutoPlaySettings(),this.screenSize(),this.controller.spinBtnSprite.texture=this.spinTextureOn,this.controller.spinBtnSprite.interactive=!0,"quick"==this.spinType?this.modal.btnArray[0].texture=this.textureToggleOn:"turbo"==this.spinType?this.modal.btnArray[1].texture=this.textureToggleOn:(this.modal.btnArray[0].texture=this.textureToggleOff,this.modal.btnArray[1].texture=this.textureToggleOff),this.modal.btnArray.forEach(((t,e)=>{t.addEventListener("pointerdown",(()=>{this.playSound(1),0==e?(this.modal.btnArray[1].texture=this.textureToggleOff,t.texture==this.textureToggleOff?(t.texture=this.textureToggleOn,this.spinType="quick"):(this.spinType="normal",t.texture=this.textureToggleOff)):(this.modal.btnArray[0].texture=this.textureToggleOff,t.texture==this.textureToggleOff?(this.spinType="turbo",t.texture=this.textureToggleOn):(this.spinType="normal",t.texture=this.textureToggleOff))}))})),this.modal.rollBtn.addEventListener("pointerdown",(()=>{this.playSound(1),this.buyBonusBtn.interactive=!1,this.controller.autoPlay.interactive=!0,this.controller.spinBtnSprite.texture=this.spinTextureOff,this.isAutoPlay=!0,this.modal.rollBtn.texture=this.textureRollOn,this.slotGame.isSpinning||(this.modal.totalSpin>=1?this.startSpinAutoPlay(this.modal.totalSpin):alert("Please choose a spin count!"))})),this.modal.rollBtn.addEventListener("mouseenter",(()=>{this.modal.rollBtn.texture=this.textureRollOn})),this.modal.rollBtn.addEventListener("mouseleave",(()=>{this.modal.rollBtn.texture=this.textureRollOff}))),this.screenSize()})),this.controller.spinBtnSprite.addEventListener("touchstart",(()=>{this.spinClick=!0,this.playSound(1),this.controller.spinBtnSprite.interactive=!0,this.slotGame.isSpinning||this.isFreeSpin||this.isAutoPlay||this.isMatchingGame?this.slotGame.timeScale=10:(this.controller.spinBtnSprite.texture=this.spinTextureOff,this.startSpinAutoPlay(1))})),this.controller.spinBtnSprite.addEventListener("touchend",(t=>{this.spinClick=!1})),this.buyBonusBtn.addEventListener("pointerdown",(()=>{this.buyBonusBtn.interactive=!1,this.playSound(30),this.isOpenBuyBonusFrame=!0,this.buyBonusPopUp(),this.enableButtons(!1),this.isOpenModal=!0}))}freeSpinEvent(){this.soundStop(16),this.soundStop(17),this.soundStop(0),this.playSound(14),this.playSound(6),this.fadeSound(6,1,this.fadeDurationBgm),this.isFreeSpin=!0,this.isOpenFreeSpinModals=!0,this.moneySlot=g.default.loadTexture(this.textureArray,"bonus","money_wilds"),this.wildSlot=g.default.loadTexture(this.textureArray,"bonus","multiplier_wilds"),this.screenSize(),this.slotGame.autoPlayCount=0,this.isOpenModal=!0;this.popGlow2.x=this.glowX2,this.popGlow2.y=this.glowY2,this.popGlow2.alpha=0,this.popGlow2.scale.x=1.1,this.popGlow2.scale.y=1.3,this.overlay.addChild(this.popGlow2),g.default.loadSpineAnimation(this.popGlow2,"glow",!0,.1),this.overlay.addChild(this.popGlow),g.default.loadSpineAnimation(this.popGlow,"glow",!0,.1),this.popGlow.x=570,this.popGlow.y=1044,this.popGlow.alpha=0,this.popGlow.scale.x=1.1,this.popGlow.scale.y=1.3,this.wildSlot.x=(this.baseWidth-this.wildSlot.width)/2-400,this.wildSlot.y=-200;let t=-this.wildSlot.height,e=_.gsap.from(this.wildSlot,{delay:.3,y:t,onComplete:()=>{e.kill(),this.playSound(15);let t=_.gsap.to(this.wildSlot,{y:-240,onComplete:()=>{t.kill();let e=_.gsap.to(this.popGlow,{delay:0,duration:1,alpha:1,onComplete:()=>{e.kill()}})}})}});this.gameContainer.addChild(this.overlay);const i=new o.Text("6",this.textStyle2);i.x=(this.wildSlot.width-i.width)/2,i.y=.85*(this.wildSlot.height-i.height),this.wildSlot.addChild(i),this.wildSlot.cursor="pointer",this.wildSlot.interactive=!0;let s=_.gsap.from(this.moneySlot,{delay:.3,y:t,onComplete:()=>{s.kill();let t=_.gsap.to(this.moneySlot,{y:this.moneyBoardY,onComplete:()=>{t.kill();let e=_.gsap.to(this.popGlow2,{delay:0,duration:1,alpha:1,onComplete:()=>{e.kill()}})}})}});const n=new o.Text("12",this.textStyle2);n.x=(this.moneySlot.width-n.width)/2,n.y=.85*(this.moneySlot.height-n.height),this.moneySlot.addChild(n),this.moneySlot.cursor="pointer",this.moneySlot.interactive=!0,this.gameContainer.addChild(this.moneySlot),this.gameContainer.addChild(this.wildSlot),this.wildSlot.addEventListener("pointerdown",(()=>{this.slotGame.whatEvent=1,this.playSound(12),this.wildSlot.interactive=!1,this.overlay.removeChild(this.popGlow2),this.gameContainer.removeChild(this.overlay),this.noOfSpin=6,this.slotGame.startCountWinFreeSpin=!0,this.slotGame.autoplayDoneEvent=!1,this.gameContainer.removeChild(this.wildSlot),this.gameContainer.removeChild(this.moneySlot),this.createTransition();let t=setTimeout((()=>{this.startfreeSpinEvent(this.noOfSpin),clearTimeout(t)}),this.transitionDelay);this.isOpenFreeSpinModals=!1})),this.moneySlot.addEventListener("pointerdown",(()=>{this.playSound(12),this.slotGame.whatEvent=2,this.moneySlot.interactive=!1,this.overlay.removeChild(this.popGlow2),this.gameContainer.removeChild(this.overlay),this.noOfSpin=12,this.slotGame.startCountWinFreeSpin=!0,this.slotGame.autoplayDoneEvent=!1,this.gameContainer.removeChild(this.wildSlot),this.gameContainer.removeChild(this.moneySlot),this.createTransition();let t=setTimeout((()=>{this.startfreeSpinEvent(this.noOfSpin),clearTimeout(t)}),this.transitionDelay);this.isOpenFreeSpinModals=!1}))}startfreeSpinEvent(t){this.eventStart=!0,this.enableButtons(!1),this.lightModeEvent(!1),this.slotGame.freeSpinStart=!1,this.slotGame.isFreeSpin=!0,this.slotGame.isFreeSpinDone=!1;let e=setTimeout((()=>{this.isFreeSpin=!1,clearTimeout(e)}),100);this.screenSize(),this.slotGame.reelContainer.forEach(((t,e)=>{this.slotGame.generateNewSymbolsMainEvent(e)}));let i=setTimeout((()=>{this.slotGame.autoPlayCount=t,this.startSpinAutoPlay(t),clearTimeout(i)}),1e3)}createPopUps(t){this.popUpActive=!0,this.popUps=new u.default(this.app,this.gameContainer,this.textureArray,t,this.matchingGameWin),this.popUps.container.zIndex=5,this.gameContainer.addChild(this.popUps.container)}createTransition(){this.transition=new m.default(this.app,this.gameContainer,this.textureArray,this.screenSetting.screentype),this.openTransition=!0,this.gameContainer.addChild(this.transition.container),this.transition.container.zIndex=100}sounds(t,e){this.sound=e,this.globalSound=t}playSound(t){this.sound[t].play()}soundStop(t){this.sound[t].stop()}soundVolume(t,e){this.sound[t].volume(e)}fadeSound(t,e,i){this.sound[t].fade(this.sound[t].volume(),e,i)}checkSoundToggle(){this.ambientCheck?(this.sound[0].mute(!1),this.sound[6].mute(!1),this.sound[8].mute(!1),this.sound[16].mute(!1),this.sound[17].mute(!1)):(this.sound[0].mute(!0),this.sound[6].mute(!0),this.sound[8].mute(!0),this.sound[16].mute(!0),this.sound[17].mute(!0)),this.sfxCheck?(this.sound[1].mute(!1),this.sound[2].mute(!1),this.sound[3].mute(!1),this.sound[4].mute(!1),this.sound[5].mute(!1),this.sound[7].mute(!1),this.sound[9].mute(!1),this.sound[10].mute(!1),this.sound[11].mute(!1),this.sound[12].mute(!1),this.sound[13].mute(!1),this.sound[14].mute(!1),this.sound[15].mute(!1),this.sound[18].mute(!1),this.sound[19].mute(!1),this.sound[20].mute(!1),this.sound[21].mute(!1),this.sound[22].mute(!1),this.sound[23].mute(!1),this.sound[24].mute(!1),this.sound[25].mute(!1),this.sound[26].mute(!1),this.sound[27].mute(!1),this.sound[28].mute(!1),this.sound[29].mute(!1),this.sound[30].mute(!1)):(this.sound[1].mute(!0),this.sound[2].mute(!0),this.sound[3].mute(!0),this.sound[4].mute(!0),this.sound[5].mute(!0),this.sound[7].mute(!0),this.sound[9].mute(!0),this.sound[10].mute(!0),this.sound[11].mute(!0),this.sound[12].mute(!0),this.sound[13].mute(!0),this.sound[14].mute(!0),this.sound[15].mute(!0),this.sound[18].mute(!0),this.sound[19].mute(!0),this.sound[20].mute(!0),this.sound[21].mute(!0),this.sound[22].mute(!0),this.sound[23].mute(!0),this.sound[24].mute(!0),this.sound[25].mute(!0),this.sound[26].mute(!0),this.sound[27].mute(!0),this.sound[28].mute(!0),this.sound[29].mute(!0),this.sound[30].mute(!0))}}},8483:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const o=r(i(58687)),h=i(47466),l=a(i(38333)),d=i(66358);e.default=class{constructor(t,e,i,s){this.amount=2e4,this.noOfSpin=0,this.durationCount=.1,this.app=t,this.container=new o.Container,this.amount=i,this.noOfSpin=s,this.middleContainer=new o.Container,this.coinsContainer=new o.Container,this.baseWidth=this.app.screen.width,this.baseHeight=this.app.screen.height,this.textureArray=e,this.textStyle=new o.TextStyle({fontFamily:"Eras ITC",fontSize:100,fontWeight:"bolder",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.textStyle2=new o.TextStyle({fontFamily:"Eras ITC",fontSize:60,fontWeight:"bolder",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.textStyle3=new o.TextStyle({fontFamily:"Eras ITC",fontSize:30,fontWeight:"bolder",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.textStyleYellow=new o.TextStyle({fontFamily:"Eras ITC",fontSize:100,fontWeight:"bolder",fill:["#ffeaa0","#ffc260"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.init()}init(){this.createParent(),this.createPopup(),this.createMoney(),this.createSpins(),this.createCoin()}createParent(){this.overlay=l.default.loadTexture(this.textureArray,"modal_settings","overlay"),this.container.addChild(this.overlay)}createPopup(){this.popGlow=new h.Spine(this.textureArray.pop_glow.spineData),this.popGlow.position.x=this.overlay.width/2,this.popGlow.position.y=1.15*this.overlay.height,this.popGlow.scale.x=1.4,this.popGlow.scale.y=1.7,l.default.loadSpineAnimation(this.popGlow,"glow",!0,.1),this.middleContainer.addChild(this.popGlow),this.logo=new h.Spine(this.textureArray.congrats.spineData),this.logo.x=this.overlay.width/2,this.logo.y=this.overlay.height/1.2,l.default.loadSpineAnimation(this.logo,"animation",!0,.2),this.middleContainer.addChild(this.logo),this.descText=new o.Text("YOU WON",this.textStyle),this.descText.x=(this.overlay.width-this.descText.width)/2,this.descText.y=(this.overlay.height-this.descText.height)/2*.74,this.middleContainer.addChild(this.descText),this.container.addChild(this.middleContainer)}createMoney(){this.money=new o.Text("0",this.textStyleYellow),this.money.x=(this.overlay.width-this.money.width)/2,this.money.y=(this.overlay.height-this.money.height)/2*1.06,this.middleContainer.addChild(this.money);const t=this.amount;this.durationCount=4;this.textAnimation=d.gsap.to(this.money,{pixi:{text:t},duration:this.durationCount,delay:.4,ease:"power1.out",onStart:()=>{this.money.text=(0).toString()},onUpdate:()=>{this.money.text=l.default.numberWithCommas(parseInt(this.money.text)).toString(),this.money.x=(this.overlay.width-this.money.width)/2},onComplete:()=>{this.textAnimation.kill()}})}createSpins(){this.spins=new o.Text(`IN ${this.noOfSpin} FREE SPINS`,this.textStyle2),this.spins.x=(this.overlay.width-this.spins.width)/2,this.spins.y=(this.overlay.height-this.spins.height)/1.5,this.middleContainer.addChild(this.spins),this.clickAnyTxt=new o.Text("click anywhere to continue",this.textStyle3),this.clickAnyTxt.x=(this.overlay.width-this.clickAnyTxt.width)/2,this.clickAnyTxt.y=(this.overlay.height-this.clickAnyTxt.height)/1.4,this.middleContainer.addChild(this.clickAnyTxt)}createCoin(){for(let t=0;t<10;t++){let t=l.default.animatedSprite(this.textureArray.coins,"new_coin_spinning"),e=this.randMinMax(7.5,11.5),i=.15;const s=.15;t.scale.set(this.randMinMax(.2,.3)),t.anchor.set(.5),t.animationSpeed=this.randMinMax(.3,.5),t.x+=t.width,t.y+=t.height,t.x=-t.width,t.y=this.app.screen.height-this.randMinMax(100,550),this.coinsContainer.addChild(t),this.leftCoinAnimation=d.gsap.to(t,{rotation:20*Math.random(),duration:3,ease:"sine.in",repeat:-1,delay:this.randMinMax(0,5),onStart:()=>{t.play()},onUpdate:()=>{t.y+=i,t.x+=e,i+=s,e>0&&(e-=s/3),e<0&&(e=0),t.y>this.app.screen.height&&(i=.15,e=this.randMinMax(7.5,11.5),t.y=this.app.screen.height-this.randMinMax(100,550),t.scale.set(this.randMinMax(.2,.3)),t.x=-t.width,this.leftCoinAnimation.repeat())}})}for(let t=0;t<10;t++){let t=l.default.animatedSprite(this.textureArray.coins,"new_coin_spinning"),e=this.randMinMax(7.5,11.5),i=.15;const s=.15;t.scale.set(this.randMinMax(.2,.3)),t.anchor.set(.5),t.x+=t.width,t.y+=t.height,t.x=this.app.screen.width+t.width/2,t.y=this.app.screen.height-this.randMinMax(100,550),this.coinsContainer.addChild(t),this.rightCoinAnimation=d.gsap.to(t,{rotation:20*Math.random(),duration:3,ease:"sine.in",repeat:-1,delay:this.randMinMax(0,5),onStart:()=>{t.play()},onUpdate:()=>{t.y+=i,t.x-=e,i+=s,e>0&&(e-=s/3),e<0&&(e=0),t.y>this.app.screen.height&&(i=.15,e=this.randMinMax(7.5,11.5),t.y=this.app.screen.height-this.randMinMax(100,550),t.scale.set(this.randMinMax(.2,.3)),t.x=this.app.screen.width,this.rightCoinAnimation.repeat())}})}this.container.addChild(this.coinsContainer)}randMinMax(t,e){return Math.random()*(e-t)+t}}},17828:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const o=r(i(58687)),h=a(i(38333));e.default=class{constructor(t,e){this.app=t,this.baseWidth=this.app.screen.width,this.baseHeight=this.app.screen.height,this.textureArray=e,this.container=new o.Container,this.container.sortableChildren=!0,this.textStyle=new o.TextStyle({fontFamily:"Eras ITC",fontSize:55,fontWeight:"bolder",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:440,lineJoin:"round"}),this.textStyle2=new o.TextStyle({fontFamily:"Eras ITC",fontSize:20,fontWeight:"normal",fill:"#a7a7a7",wordWrapWidth:440}),this.init()}init(){this.createParent(),this.createChildren()}createParent(){this.parentSprite=h.default.loadTexture(this.textureArray,"controller","controller_parent"),this.parentSprite.y=this.baseHeight-this.parentSprite.height,this.container.addChild(this.parentSprite)}createChildren(){let t=h.default.loadTexture(this.textureArray,"controller","info_button"),e=h.default.loadTexture(this.textureArray,"controller","sound_off_button"),i=h.default.loadTexture(this.textureArray,"controller","spin_button"),s=h.default.loadTexture(this.textureArray,"controller","autoplay_button"),n=h.default.loadTexture(this.textureArray,"controller","system_settings"),r=h.default.loadTexture(this.textureArray,"controller","bet_container"),a=h.default.loadTexture(this.textureArray,"controller","credits_container");this.infoBtnSprite=t,this.infoBtnSprite.y=this.parentSprite.y+10,this.infoBtnSprite.x=1.64*this.infoBtnSprite.width,this.infoBtnSprite.interactive=!0,this.infoBtnSprite.cursor="pointer",this.container.addChild(this.infoBtnSprite),this.soundBtnSprite=e,this.soundBtnSprite.y=this.parentSprite.y+this.parentSprite.height-this.soundBtnSprite.height-25,this.soundBtnSprite.x=1.01*this.soundBtnSprite.width,this.soundBtnSprite.interactive=!0,this.soundBtnSprite.cursor="pointer",this.container.addChild(this.soundBtnSprite),this.spinBtnSprite=i,this.spinBtnSprite.y=this.parentSprite.y+15,this.spinBtnSprite.x=this.parentSprite.width-this.spinBtnSprite.width-147,this.spinBtnSprite.interactive=!0,this.spinBtnSprite.cursor="pointer",this.container.addChild(this.spinBtnSprite),this.autoPlay=s,this.autoPlay.y=this.parentSprite.y+this.parentSprite.height-1.2*this.autoPlay.height,this.autoPlay.x=this.parentSprite.width-this.autoPlay.width-45,this.autoPlay.interactive=!0,this.autoPlay.cursor="pointer",this.container.addChild(this.autoPlay),this.settingBtnSpite=n,this.settingBtnSpite.y=this.parentSprite.y+90,this.settingBtnSpite.x=1.5*this.settingBtnSpite.width,this.settingBtnSpite.interactive=!0,this.settingBtnSpite.cursor="pointer",this.container.addChild(this.settingBtnSpite),this.betContainerSprite=r,this.betContainerSprite.y=this.parentSprite.y+90,this.betContainerSprite.x=.95*this.betContainerSprite.width,this.betText=new o.Text("1",this.textStyle),this.betContainerSprite.addChild(this.betText),this.container.addChild(this.betContainerSprite),this.creditContainerSprite=a,this.creditContainerSprite.y=this.parentSprite.y+90,this.creditContainerSprite.x=.82*(this.parentSprite.width-this.creditContainerSprite.width),this.creditText=new o.Text("0",this.textStyle),this.creditText.x=(this.creditContainerSprite.width-this.creditText.width)/2,this.creditContainerSprite.addChild(this.creditText),this.container.addChild(this.creditContainerSprite)}}},77759:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const a=r(i(58687)),o=i(66358);e.default=class{constructor(t,e){this.arrayContents=[],this.slideDelays=[0,4,8,12,16],this.playBtnX=0,this.playBtnY=0,this.app=t,this.baseWidth=this.app.screen.width,this.baseHeight=this.app.screen.height,this.assets=e,this.container=new a.Container,this.centerContainer=new a.Container,this.slides=[{img:"slide_1",text:"PICK STONES TO REVEAL JACKPOT MATCH 3 TO WIN"},{img:"slide_2",text:"WILD SYMBOL TRIGGERS JACKPOT GAME"},{img:"slide_3",text:"WIN MULTIPLIER SYMBOLS ON REEL 2,3,4 AND 5 IN FREE SPIN FEATURE"},{img:"slide_4",text:"WIN MONEY SYMBOLS ON REEL 2,3,4 AND 5 IN FREE SPIN FEATURE"}],this.textStyle=new a.TextStyle({fontFamily:"Eras ITC",fontSize:40,fontWeight:"bold",fill:["#ffd957","#ec9a0c"],dropShadow:!0,dropShadowColor:"#622911",dropShadowBlur:0,dropShadowAngle:Math.PI/3,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:800,lineJoin:"round",align:"center"}),this.init()}init(){this.radioCont=new a.Container,this.bg=new a.Sprite(this.assets.intro.textures["intro_bg.png"]),this.radioOn=new a.Sprite(this.assets.intro.textures["radio_on.png"]).texture,this.container.addChild(this.bg),this.logo=new a.Sprite(this.assets.intro.textures["logo.png"]),this.logo.width=642,this.logo.height=116,this.centerContainer.addChild(this.logo),this.slides.forEach(((t,e)=>{const i=new a.Sprite(this.assets.intro.textures[`${t.img}.png`]);0!==e&&(i.alpha=0),i.y=1.4*(this.logo.height+this.logo.y),this.centerContainer.addChild(i);const s=new a.Sprite(this.assets.intro.textures["radio_off.png"]);this.radioOff=s.texture,0==e&&(s.texture=this.radioOn),s.x=s.width*e*1.3,s.y=750,s.interactive=!0,s.cursor="pointer",this.radioCont.addChild(s),this.centerContainer.addChild(this.radioCont);const n=new a.Text(`${t.text}`,this.textStyle);0!==e&&(n.alpha=0),n.x=(this.centerContainer.width-n.width)/2,n.y=1.1*s.y,this.centerContainer.addChild(n);let r={slideImg:i,text:n,radio:s};this.arrayContents.push(r),s.addEventListener("pointerdown",(()=>{this.arrayContents.forEach((t=>{t.slideImg.alpha=0})),i.alpha=1,this.arrayContents.forEach((t=>{t.radio.texture=s.texture,t.radio.interactive=!0})),s.interactive=!1,s.texture=this.radioOn,this.arrayContents.forEach((t=>{t.text.alpha=0})),n.alpha=1})),this.playSlideAnimation(e,i)})),this.radioCont.x=(this.centerContainer.width-this.radioCont.width)/2,this.container.addChild(this.centerContainer),this.centerContainer.x=(this.baseWidth-this.centerContainer.width)/2,this.centerContainer.y=(this.baseHeight-this.centerContainer.height)/2,this.playBtn=new a.Sprite(this.assets.intro.textures["play_btn.png"]),this.playBtn.x=.9*(this.baseWidth-this.playBtn.width),this.playBtn.y=.9*(this.baseHeight-this.playBtn.height),this.playBtn.interactive=!0,this.playBtn.cursor="pointer",this.btnScaleAnimation=o.gsap.timeline({repeat:-1}),this.btnScaleAnimation.to(this.playBtn.scale,{duration:.5,x:1.2,y:1.2}).to(this.playBtn.scale,{duration:.5,x:1,y:1}),this.btnScaleAnimation.play(),this.container.addChild(this.playBtn)}playSlideAnimation(t,e){let i=o.gsap.to(e,{delay:this.slideDelays[t],duration:1,alpha:1,onStart:()=>{this.arrayContents.forEach((t=>{t.radio.texture=this.radioOff,t.radio.interactive=!0})),this.arrayContents[t].radio.interactive=!1,this.arrayContents[t].radio.texture=this.radioOn,this.arrayContents.forEach((t=>{t.text.alpha=0})),this.arrayContents[t].text.alpha=1},onComplete:()=>{i.kill();let s=o.gsap.to(e,{delay:2,duration:1,alpha:0,onComplete:()=>{s.kill(),3==t&&this.arrayContents.forEach(((t,e)=>{this.playSlideAnimation(e,t.slideImg)}))}})}})}}},41873:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const o=r(i(58687)),h=a(i(75933)),l=i(41766),d=a(i(38333));e.default=class{constructor(t,e){this.soundsPath="assets/sounds/",this.soundsGlobal=[],this.app=new o.Application({width:1920,height:1080,forceCanvas:!1}),this.loadingContainer=new o.Container,this.loadingTextStyle=new o.TextStyle({fontFamily:"Eras ITC",fontSize:40,fontWeight:"bolder",fill:"#ffffff",wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.loadingTextStyle2=new o.TextStyle({fontFamily:"arial",fontSize:30,fontWeight:"bolder",fill:"#ffffff",wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.sounds=e,globalThis.__PIXI_APP__=this.app,document.body.appendChild(this.app.view),this.init(t),h.default.load({custom:{families:["Eras ITC"]}}),document.getElementsByTagName("body")[0].addEventListener("touchend",(()=>{var t=document.documentElement;t.requestFullscreen&&t.requestFullscreen()})),window.addEventListener("resize",(()=>{this.screenSize()})),this.screenSize()}async init(t){this.soundSetup(`${this.soundsPath}music/main_music.mp3`,!0),this.soundSetup(`${this.soundsPath}sfx/ui/click.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/ui/hover.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/reel_spin.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/reel_stop.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/common_effect.mp3`,!1),this.soundSetup(`${this.soundsPath}music/event_music.mp3`,!0),this.soundSetup(`${this.soundsPath}sfx/win/new_win.mp3`,!1),this.soundSetup(`${this.soundsPath}music/matchgame_music.mp3`,!0),this.soundSetup(`${this.soundsPath}sfx/reel/bonus_impact.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/bonus_impact2.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/bonus_power.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/ui/confirm.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/ui/reject.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/ui/pops_show.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/ui/buy_bonus_confirm.mp3`,!1),this.soundSetup(`${this.soundsPath}music/spin_music.mp3`,!0),this.soundSetup(`${this.soundsPath}music/win_music.mp3`,!0),this.soundSetup(`${this.soundsPath}sfx/reel/wild_reveal.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/wild_bar_money.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/bonus/rock_click.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/bonus/mini.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/bonus/major.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/bonus/grand.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/normal_payline.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/monkey.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/chameleon.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/bird.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/snake.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/reel/tiger.mp3`,!1),this.soundSetup(`${this.soundsPath}sfx/ui/confirm2.mp3`,!1),await o.Assets.init({manifest:{bundles:[{name:"loading-screen-mobile",assets:[{name:"loading",srcs:"assets/mobile/loading/sprites/loading.json"}]},{name:"game-screen-mobile",assets:[{name:"intro",srcs:"assets/mobile/intro/sprites/intro.json"},{name:"main",srcs:"assets/mobile/main/sprites/main.json"},{name:"controller",srcs:"assets/mobile/controller/sprites/controller.json"},{name:"controller_mobile",srcs:"assets/mobile/controller/sprites/controller_mobile.json"},{name:"controller_mobile_darkmode",srcs:"assets/mobile/controller/sprites/controller_mobile_darkmode.json"},{name:"slot",srcs:"assets/mobile/slot/sprites/slot.json"},{name:"bonus",srcs:"assets/mobile/bonus/sprites/bonus.json"},{name:"modal",srcs:"assets/mobile/modal/sprites/modal.json"},{name:"modal_portrait",srcs:"assets/mobile/modal/sprites/modal_portrait.json"},{name:"grass",srcs:"assets/mobile/main/sprites/grass.json"},{name:"pop_glow",srcs:"assets/mobile/bonus/sprites/pop_glow.json"},{name:"coins",srcs:"assets/mobile/pop_ups/sprites/coins.json"},{name:"transition",srcs:"assets/mobile/pop_ups/sprites/transition_leaf.json"},{name:"pop_ups",srcs:"assets/mobile/pop_ups/sprites/pop-ups.json"},{name:"congrats",srcs:"assets/mobile/pop_ups/sprites/congrats.json"},{name:"frame_glow",srcs:"assets/mobile/bonus/sprites/frame_glow.json"},{name:"rock_block",srcs:"assets/mobile/bonus/sprites/rock_block.json"},{name:"reel_effect",srcs:"assets/mobile/bonus/sprites/reel_effect.json"},{name:"bird",srcs:"assets/mobile/slot/sprites/bird.json"},{name:"blue_crystal",srcs:"assets/mobile/slot/sprites/blue_crystal.json"},{name:"bonus_symbol",srcs:"assets/mobile/slot/sprites/bonus.json"},{name:"cameleon",srcs:"assets/mobile/slot/sprites/cameleon.json"},{name:"snake",srcs:"assets/mobile/slot/sprites/snake.json"},{name:"violet_crystal",srcs:"assets/mobile/slot/sprites/violet_crystal.json"},{name:"monkey",srcs:"assets/mobile/slot/sprites/monkey.json"},{name:"tiger",srcs:"assets/mobile/slot/sprites/tiger.json"},{name:"green_crystal",srcs:"assets/mobile/slot/sprites/green_crystal.json"},{name:"orange_crystal",srcs:"assets/mobile/slot/sprites/orange_crystal.json"},{name:"wild",srcs:"assets/mobile/slot/sprites/wild.json"},{name:"2k",srcs:"assets/mobile/slot/sprites/2k.json"},{name:"3k",srcs:"assets/mobile/slot/sprites/3k.json"},{name:"5k",srcs:"assets/mobile/slot/sprites/5k.json"},{name:"x2",srcs:"assets/mobile/slot/sprites/x2.json"},{name:"x3",srcs:"assets/mobile/slot/sprites/x3.json"},{name:"x5",srcs:"assets/mobile/slot/sprites/x5.json"},{name:"plant_1",srcs:"assets/mobile/main/sprites/plant_1.json"},{name:"plant_2",srcs:"assets/mobile/main/sprites/plant2.json"},{name:"plant_3",srcs:"assets/mobile/main/sprites/plant3.json"},{name:"plant_4",srcs:"assets/mobile/main/sprites/plant4.json"},{name:"plant_5",srcs:"assets/mobile/main/sprites/banana.json"},{name:"vines",srcs:"assets/mobile/main/sprites/vines.json"},{name:"firefly",srcs:"assets/mobile/main/sprites/firefly.json"},{name:"butterfly",srcs:"assets/mobile/main/sprites/butterfly.json"},{name:"modal_autoplay",srcs:"assets/mobile/modal/sprites/modal_autoplay.json"},{name:"modal_info",srcs:"assets/mobile/modal/sprites/modal_info.json"},{name:"modal_main",srcs:"assets/mobile/modal/sprites/modal_main.json"},{name:"modal_settings",srcs:"assets/mobile/modal/sprites/modal_settings.json"}]}]}}),o.Assets.backgroundLoadBundle(["load-screen","game-screen"]),this.loadingScreen(t)}async loadingScreen(t){this.soundBtnsCont=new o.Container;this.loadingAssets=await o.Assets.loadBundle("loading-screen-mobile"),this.loadingBg=new o.Sprite(this.loadingAssets.loading.textures["loading_background.png"]),this.app.stage.addChild(this.loadingBg),this.logo=new o.Sprite(this.loadingAssets.loading.textures["logo.png"]),this.logo.scale.set(1.3),this.loadingContainer.addChild(this.logo),this.loadingBarBg=new o.Sprite(this.loadingAssets.loading.textures["loading_bg.png"]),this.loadingBarBg.x=(this.logo.width-this.loadingBarBg.width)/2,this.loadingBarBg.y=1.8*this.logo.height,this.loadingContainer.addChild(this.loadingBarBg),this.loadingBar=new o.Sprite(this.loadingAssets.loading.textures["loading_progress.png"]),this.loadingText=new o.Text("Loading",this.loadingTextStyle),this.loadingTextNew=new o.Text("DO YOU WANT TO PLAY WITH SOUND?",this.loadingTextStyle),this.screenSize(),this.loadingBar.x=(this.logo.width-this.loadingBar.width)/2,this.loadingBar.y=this.loadingBarBg.y+(this.loadingBarBg.height-this.loadingBar.height)/2-5,this.loadingContainer.addChild(this.loadingBar);const e=new o.Sprite(this.loadingAssets.loading.textures["loading_progress_mask.png"]);e.width=0,e.x=this.loadingBar.x,e.y=this.loadingBar.y,this.loadingContainer.addChild(e),this.loadingBar.mask=e,this.loadingText.x=(this.logo.width-this.loadingText.width)/2,this.loadingText.y=this.loadingBarBg.y+-(this.loadingText.y+1.3*this.loadingText.height),this.loadingContainer.addChild(this.loadingText),this.loadingContainer.x=(this.app.screen.width-this.loadingContainer.width)/2,this.loadingContainer.y=(this.app.screen.height-this.loadingContainer.height)/2,this.app.stage.addChild(this.loadingContainer),this.gameAssets=await o.Assets.loadBundle("game-screen-mobile",(t=>{t<1?e.width+=11:e.width=451})),this.loadingContainer.removeChild(this.loadingBarBg,this.loadingBar,this.loadingText),this.loadingTextNew.x=(this.loadingContainer.width-this.loadingTextNew.width)/2,this.loadingTextNew.y=this.loadingText.y-26,this.loadingContainer.addChild(this.loadingTextNew),this.soundBtnInactive=new o.Sprite(this.loadingAssets.loading.textures["ex.png"]),this.soundBtnInactive.interactive=!0,this.soundBtnInactive.cursor="pointer",this.soundBtnsCont.addChild(this.soundBtnInactive),this.soundBtnActive=new o.Sprite(this.loadingAssets.loading.textures["check.png"]),this.soundBtnActive.interactive=!0,this.soundBtnActive.cursor="pointer",this.soundBtnActive.x=2.5*this.soundBtnInactive.width,this.soundBtnsCont.addChild(this.soundBtnActive),this.soundBtnsCont.x=(this.loadingContainer.width-this.soundBtnsCont.width)/2,this.soundBtnsCont.y=1.3*this.loadingTextNew.y,this.loadingContainer.addChild(this.soundBtnsCont),this.loadingContainer.x=(this.app.screen.width-this.loadingContainer.width)/2,this.loadingContainer.y=(this.app.screen.height-this.loadingContainer.height)/2,this.soundBtnInactive.addEventListener("pointerdown",(()=>{this.introScreen(t,!1)})),this.soundBtnActive.addEventListener("pointerdown",(()=>{this.introScreen(t,!0)})),this.screenSize()}introScreen(t,e){this.soundPrompt(e),this.app.stage.removeChild(this.loadingContainer),this.app.stage.removeChild(this.loadingBg),t(this.gameAssets,this.app)}screenSize(){let t=document.getElementsByTagName("canvas")[0];this.screenSetting=d.default.screenSize(),this.app.renderer.resize(this.screenSetting.baseWidth,this.screenSetting.baseHeight),t.style.width=this.screenSetting.newGameWidth+"px",t.style.height=this.screenSetting.newGameHeight+"px",t.style.margin=this.screenSetting.newGameY+"px "+this.screenSetting.newGameX+"px","portrait"==this.screenSetting.screentype?(this.loadingBg.texture=d.default.loadTexture(this.loadingAssets,"loading","loading_background_mobile").texture,this.loadingBg.width=this.screenSetting.baseWidth,this.loadingBg.height=this.screenSetting.baseHeight,this.loadingContainer.scale.set(.9),this.loadingContainer.x=(this.screenSetting.baseWidth-this.loadingContainer.width)/2,this.loadingContainer.y=(this.screenSetting.baseHeight-this.loadingContainer.height)/2,this.loadingTextNew.x=(this.loadingContainer.width-this.loadingTextNew.width)/2+50,this.soundBtnsCont.x=(this.loadingContainer.width-this.soundBtnsCont.width)/2+50):(this.loadingBg.texture=d.default.loadTexture(this.loadingAssets,"loading","loading_background").texture,this.loadingBg.width=this.screenSetting.baseWidth,this.loadingBg.height=this.screenSetting.baseHeight,this.loadingContainer.scale.set(1),this.loadingContainer.x=(this.screenSetting.baseWidth-this.loadingContainer.width)/2,this.loadingContainer.y=(this.screenSetting.baseHeight-this.loadingContainer.height)/2,this.loadingTextNew.x=(this.loadingContainer.width-this.loadingTextNew.width)/2)}soundPrompt(t){this.sounds(t,this.soundsGlobal)}soundSetup(t,e){const i=new l.Howl({src:t,loop:e});this.soundsGlobal.push(i)}}},39967:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const o=r(i(58687)),h=a(i(38333)),l=a(i(242)),d=a(i(45611));e.default=class{constructor(t,e,i,s){this.titleY=50,this.betAmount=1,this.btnArray=[],this.betBtns=[],this.soundBtns=[],this.currentPage=0,this.app=t,this.screenResize=i,this.baseWidth=this.app.screen.width,this.baseHeight=this.app.screen.height,this.textureArray=e,this.spinBtnTextureOn=h.default.loadTexture(this.textureArray,"modal_autoplay","spin_amount_btn_active").texture,this.spinBtnTextureOff=h.default.loadTexture(this.textureArray,"modal_autoplay","spin_amount_btn").texture,this.container=new o.Container,this.infoFirstPageContainer=new o.Container,this.infoSecondPageContainer=new o.Container,this.infoThirdPageContainer=new o.Container,this.infoFourthPageContainer=new o.Container,this.infoFifthPageContainer=new o.Container,this.infoSixthPageContainer=new o.Container,this.infoFirstPageContainerPortrait=new o.Container,this.infoSecondPageContainerPortrait=new o.Container,this.infoThirdPageContainerPortrait=new o.Container,this.infoFourthPageContainerPortrait=new o.Container,this.infoFifthPageContainerPortrait=new o.Container,this.infoSixthPageContainerPortrait=new o.Container,this.imgContainer=new o.Container,this.imgContainerPortrait=new o.Container,this.textStyle=new o.TextStyle({fontFamily:"Eras ITC",fontSize:36,fontWeight:"bold",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:440,lineJoin:"round"}),this.textStyle2=new o.TextStyle({fontFamily:"Arial",fontSize:20,fontWeight:"normal",fill:"#a7a7a7",wordWrapWidth:440}),this.textStyle3=new o.TextStyle({fontFamily:"Arial",fontSize:30,fontWeight:"normal",fill:"#ffffff",wordWrap:!0,wordWrapWidth:1e3,align:"center"}),this.textStyle4=new o.TextStyle({fontFamily:"Arial",fontSize:20,fontWeight:"normal",fill:"#fff",wordWrap:!0,wordWrapWidth:400}),this.textStyle4Center=new o.TextStyle({fontFamily:"Arial",fontSize:20,fontWeight:"normal",fill:"#fff",wordWrap:!0,wordWrapWidth:600,align:"center"}),this.playSound=s,this.init()}init(){this.createParent(),window.addEventListener("resize",(()=>{this.screenSize()})),this.screenSize()}screenSize(){this.screenSetting=h.default.screenSize()}createParent(){this.overlay=h.default.loadTexture(this.textureArray,"modal_settings","overlay"),this.modalFrame=h.default.loadTexture(this.textureArray,"modal_settings","modal_frame"),this.modalFrame.x=(this.overlay.width-this.modalFrame.width)/2,this.modalFrame.y=(this.overlay.height-this.modalFrame.height)/2,this.closeModal=h.default.loadTexture(this.textureArray,"modal_settings","close_button"),this.closeModal.scale.set(.8),this.closeModal.cursor="pointer",this.closeModal.interactive=!0,this.closeModal.x=this.modalFrame.width-this.closeModal.width-30,this.closeModal.y=30,this.closeModal.addListener("pointerdown",(()=>{this.modalFrame.removeChild(this.systemContainer),this.modalFrame.removeChild(this.modalTitle),this.modalFrame.removeChild(this.autoPlaySettingsCont),this.modalFrame.removeChild(this.infoContainer),this.app.stage.removeChild(this.container),this.modalFrame.removeChild(this.leftContainer),this.modalFrame.removeChild(this.rightContainer),this.modalFrame.removeChild(this.separator),this.infoFirstPageContainer.removeChildren(),this.infoFirstPageContainerPortrait.removeChildren(),this.infoSecondPageContainer.removeChildren(),this.infoSecondPageContainerPortrait.removeChildren(),this.infoThirdPageContainer.removeChildren(),this.infoThirdPageContainerPortrait.removeChildren(),this.infoFourthPageContainer.removeChildren(),this.infoFourthPageContainerPortrait.removeChildren(),this.infoFifthPageContainer.removeChildren(),this.infoFifthPageContainerPortrait.removeChildren(),this.infoSixthPageContainer.removeChildren(),this.infoSixthPageContainerPortrait.removeChildren()})),this.modalFrame.addChild(this.closeModal)}createSystemSettings(t){this.betBtns=[],this.soundBtns=[],this.systemContainer=new o.Container,this.leftContainer=new o.Container,this.rightContainer=new o.Container,this.modalTitle=h.default.loadTexture(this.textureArray,"modal_settings","system_settings_title"),this.modalTitle.x=(this.modalFrame.width-this.modalTitle.width)/2,this.modalTitle.y=this.titleY,this.separator=h.default.loadTexture(this.textureArray,"modal_settings","separate"),this.separator.x=(this.modalFrame.width-this.separator.width)/2,this.separator.y=(this.modalFrame.height-this.separator.height)/2,this.modalFrame.addChild(this.separator),this.systemContainer.y=(this.modalFrame.height-this.systemContainer.height)/2,this.betAmountSpite=h.default.loadTexture(this.textureArray,"modal_settings","total_bet_container"),this.betAmountSpite.x=0,this.leftContainer.addChild(this.betAmountSpite),this.betAmountText=new o.Text("1",this.textStyle),this.betAmountText.x=(this.betAmountSpite.width-this.betAmountText.width)/2,this.betAmountText.y=(this.betAmountSpite.height-this.betAmountText.height)/2,this.leftContainer.addChild(this.betAmountText);const e=new o.Text("TOTAL BET",this.textStyle);e.x=(this.betAmountSpite.width-e.width)/2,e.y=-e.height,this.leftContainer.addChild(e),this.minusBtn=h.default.loadTexture(this.textureArray,"modal_settings","minus_bet"),this.minusBtn.x=this.betAmountSpite.x,this.minusBtn.y=this.betAmountSpite.height+20,this.minusBtn.interactive=!t,this.minusBtn.cursor="pointer",this.betBtns.push(this.minusBtn),this.leftContainer.addChild(this.minusBtn),this.plusBtn=h.default.loadTexture(this.textureArray,"modal_settings","add_bet"),this.plusBtn.x=this.betAmountSpite.x+this.betAmountSpite.width-this.plusBtn.width,this.plusBtn.y=this.minusBtn.y,this.plusBtn.interactive=!t,this.plusBtn.cursor="pointer",this.betBtns.push(this.plusBtn),this.leftContainer.x=(this.separator.x-this.leftContainer.width)/2,this.leftContainer.y=(this.modalFrame.height-this.leftContainer.height)/2+50,this.leftContainer.addChild(this.plusBtn),this.modalFrame.addChild(this.leftContainer);const i=new o.Text("AMBIENT MUSIC",this.textStyle);i.x=0;const s=new o.Text("Turn on and off background music ",this.textStyle2);s.x=0,s.y=45,this.rightContainer.addChild(i,s),this.musicBtnSprite=h.default.loadTexture(this.textureArray,"modal_settings","off"),this.musicBtnSprite.interactive=!0,this.musicBtnSprite.cursor="pointer",this.musicBtnSprite.x=i.width+50,this.musicBtnSprite.y=i.y+15,this.soundBtns.push(this.musicBtnSprite),this.rightContainer.addChild(this.musicBtnSprite);const n=new o.Text("SOUND FX",this.textStyle);n.x=0,n.y=120;const r=new o.Text("Turn on and off sound effects",this.textStyle2);r.x=n.x,r.y=n.y+45,this.rightContainer.addChild(n,r),this.sfxBtnSprite=h.default.loadTexture(this.textureArray,"modal_settings","off"),this.sfxBtnSprite.interactive=!0,this.sfxBtnSprite.cursor="pointer",this.sfxBtnSprite.x=n.width+160,this.sfxBtnSprite.y=n.y+15,this.soundBtns.push(this.sfxBtnSprite),this.rightContainer.addChild(this.sfxBtnSprite),this.rightContainer.x=this.separator.x+60,this.rightContainer.y=(this.modalFrame.height-this.rightContainer.height)/2,this.modalFrame.addChild(this.rightContainer),this.modalFrame.addChild(this.systemContainer),this.container.addChild(this.overlay,this.modalFrame),this.app.stage.addChild(this.container)}createAutoPlaySettings(){this.btnContainer=new o.Container,this.btn2Container=new o.Container,this.autoPlaySettingsCont=new o.Container,this.bottomContainer=new o.Container;let t=[],e=[];l.default.auto_play_values.forEach(((e,i)=>{const s=h.default.loadTexture(this.textureArray,"modal_autoplay","spin_amount_btn"),n=new o.Text(`${e.value}`,this.textStyle);n.x=(s.width-n.width)/2,n.y=(s.height-n.height)/2,s.addChild(n),s.x=250*e.x,s.cursor="pointer",s.interactive=!0,i>=5&&(s.y=110),s.addEventListener("pointerdown",(()=>{this.totalSpin=e.value,t.forEach((t=>{t.texture=this.spinBtnTextureOff})),s.texture=this.spinBtnTextureOn})),t.push(s),this.btnContainer.addChild(s),this.autoPlaySettingsCont.addChild(this.btnContainer)})),l.default.auto_play_values2.forEach(((t,i)=>{const s=h.default.loadTexture(this.textureArray,"modal_autoplay","spin_amount_btn"),n=new o.Text(`${t.value}`,this.textStyle);n.x=(s.width-n.width)/2,n.y=(s.height-n.height)/2,s.addChild(n),s.x=250*t.x,s.cursor="pointer",s.interactive=!0,i>=3&&(s.y=110),i>=6&&(s.y=210),i>=9&&(s.y=310),s.addEventListener("pointerdown",(()=>{this.totalSpin=t.value,e.forEach((t=>{t.texture=this.spinBtnTextureOff})),s.texture=this.spinBtnTextureOn})),e.push(s),this.btn2Container.addChild(s),this.autoPlaySettingsCont.addChild(this.btn2Container)}));const i=new o.Text("QUICK SPIN",this.textStyle);i.y=250,this.bottomContainer.addChild(i);const s=new o.Text("Reduce the overall spin time to play quickly",this.textStyle2);s.y=1.2*i.y,this.bottomContainer.addChild(s);const n=new o.Text("TURBO SPIN",this.textStyle);n.y=350,this.bottomContainer.addChild(n);const r=new o.Text("Reduce the overall spin time to play quickly",this.textStyle2);r.y=1.13*n.y,this.bottomContainer.addChild(r);const a=h.default.loadTexture(this.textureArray,"modal_autoplay","off");a.interactive=!0,a.cursor="pointer",a.x=500,a.y=1.05*i.y,this.btnArray.push(a),this.bottomContainer.addChild(a);const d=h.default.loadTexture(this.textureArray,"modal_autoplay","off");d.interactive=!0,d.cursor="pointer",d.x=500,d.y=1.05*n.y,this.btnArray.push(d),this.bottomContainer.addChild(d),this.rollBtn=h.default.loadTexture(this.textureArray,"modal_autoplay","roll"),this.rollBtn.interactive=!0,this.rollBtn.cursor="pointer",this.rollBtn.x=(this.bottomContainer.width-this.rollBtn.width)/2,this.rollBtn.y=1.2*r.y;const u=new o.Text("Let's Roll!",this.textStyle);u.x=(this.rollBtn.width-u.width)/2,u.y=(this.rollBtn.height-u.height)/2,this.rollBtn.addChild(u),this.bottomContainer.addChild(this.rollBtn),this.bottomContainer.x=(this.autoPlaySettingsCont.width-this.bottomContainer.width)/2,this.autoPlaySettingsCont.addChild(this.bottomContainer),this.autoPlaySettingsCont.x=(this.modalFrame.width-this.autoPlaySettingsCont.width)/2,this.autoPlaySettingsCont.y=(this.modalFrame.height-this.autoPlaySettingsCont.height)/2,this.modalFrame.addChild(this.autoPlaySettingsCont),this.container.addChild(this.overlay,this.modalFrame),this.app.stage.addChild(this.container),this.rollBtn.addEventListener("pointerdown",(()=>{this.modalFrame.removeChild(this.autoPlaySettingsCont),this.app.stage.removeChild(this.container)}))}createInfoModal(){this.infoContainer=new o.Container,this.prevBtn=h.default.loadTexture(this.textureArray,"modal_settings","left_arrow"),this.nextBtn=h.default.loadTexture(this.textureArray,"modal_settings","right_arrow"),this.infoContainer.removeChildren(),this.currentPage=0;let t=d.default.modalInfoPage.length-1,e=null;this.pageTitle=h.default.loadTexture(this.textureArray,"modal_info","paytable_slot_title"),this.pageTitle.x=(this.modalFrame.width-this.pageTitle.width)/2,this.pageTitle.y=30,this.infoContainer.addChild(this.pageTitle),this.pageDesc=new o.Text(`${d.default.modalInfoPage[this.currentPage].desc}`,this.textStyle3),this.pageDesc.x=(this.modalFrame.width-this.pageDesc.width)/2,this.pageDesc.y=1.2*(this.pageTitle.height+30),this.infoContainer.addChild(this.pageDesc),this.pageText=new o.Text(`Page ${this.currentPage+1}/${t+1}`,this.textStyle2),this.pageText.x=.95*(this.modalFrame.width-this.pageText.width),this.pageText.y=.95*(this.modalFrame.height-this.pageText.height),this.infoContainer.addChild(this.pageText),this.prevBtn.interactive=!0,this.prevBtn.cursor="pointer",this.prevBtn.x=30,this.prevBtn.y=(this.modalFrame.height-this.prevBtn.height)/2,this.infoContainer.addChild(this.prevBtn),e={pageTitle:this.pageTitle,pageDesc:this.pageDesc,pageText:this.pageText},this.prevBtn.addEventListener("pointerdown",(()=>{this.playSound(1),0!==this.currentPage&&this.currentPage--,this.updatePageContent(e,this.currentPage,t)})),this.nextBtn.interactive=!0,this.nextBtn.cursor="pointer",this.nextBtn.x=this.modalFrame.width-this.nextBtn.width-30,this.nextBtn.y=(this.modalFrame.height-this.nextBtn.height)/2,this.infoContainer.addChild(this.nextBtn),this.nextBtn.addEventListener("pointerdown",(()=>{this.playSound(1),this.currentPage!==t&&this.currentPage++,this.updatePageContent(e,this.currentPage,t)})),this.infoFirstPageContainerPortrait.alpha=0,this.infoFirstPageContainer.alpha=0,"portrait"==this.screenSetting.screentype?this.infoFirstPageContainerPortrait.alpha=1:this.infoFirstPageContainer.alpha=1,this.infoSecondPageContainer.alpha=0,this.infoThirdPageContainer.alpha=0,this.infoFourthPageContainer.alpha=0,this.infoFifthPageContainer.alpha=0,this.infoSixthPageContainer.alpha=0,this.infoSecondPageContainerPortrait.alpha=0,this.infoThirdPageContainerPortrait.alpha=0,this.infoFourthPageContainerPortrait.alpha=0,this.infoFifthPageContainerPortrait.alpha=0,this.infoSixthPageContainerPortrait.alpha=0,this.createInfoFirstPage(),this.createInfoSecondPage(),this.createInfoThirdPage(),this.creatFourthPage(),this.createFifthPage(),this.createSixthPage(),this.modalFrame.addChild(this.infoContainer),this.container.addChild(this.overlay,this.modalFrame),this.app.stage.addChild(this.container)}updatePageContent(t,e,i){const{pageTitle:s,pageDesc:n,pageText:r}=t,a=d.default.modalInfoPage[e];s.texture=h.default.loadTexture(this.textureArray,"modal_info",`${a.title}`).texture,s.x=(this.modalFrame.width-s.width)/2,n.text=a.desc,n.x=(this.modalFrame.width-n.width)/2,r.text=`Page ${e+1}/${i+1}`,r.x=.95*(this.modalFrame.width-r.width),this.infoFirstPageContainer.alpha=0,this.infoSecondPageContainer.alpha=0,this.infoThirdPageContainer.alpha=0,this.infoFourthPageContainer.alpha=0,this.infoFifthPageContainer.alpha=0,this.infoSixthPageContainer.alpha=0,this.infoFirstPageContainerPortrait.alpha=0,this.infoSecondPageContainerPortrait.alpha=0,this.infoThirdPageContainerPortrait.alpha=0,this.infoFourthPageContainerPortrait.alpha=0,this.infoFifthPageContainerPortrait.alpha=0,this.infoSixthPageContainerPortrait.alpha=0,0==e?"portrait"==this.screenSetting.screentype?this.infoFirstPageContainerPortrait.alpha=1:this.infoFirstPageContainer.alpha=1:1==e?(this.infoSecondPageContainer.alpha=1,"portrait"==this.screenSetting.screentype?this.infoSecondPageContainer.scale.set(1.4):this.infoSecondPageContainer.scale.set(1)):2==e?"portrait"==this.screenSetting.screentype?this.infoThirdPageContainerPortrait.alpha=1:this.infoThirdPageContainer.alpha=1:3==e?"portrait"==this.screenSetting.screentype?this.infoFourthPageContainerPortrait.alpha=1:this.infoFourthPageContainer.alpha=1:4==e?"portrait"==this.screenSetting.screentype?this.infoFifthPageContainerPortrait.alpha=1:this.infoFifthPageContainer.alpha=1:5==e&&("portrait"==this.screenSetting.screentype?this.infoSixthPageContainerPortrait.alpha=1:this.infoSixthPageContainer.alpha=1),this.infoFirstPageContainer.x=(this.infoContainer.width-this.infoFirstPageContainer.width)/2,this.screenResize()}createInfoFirstPage(){let t=120,e=1.2;const i=new o.Container,s=new o.Container,n=new o.Container;d.default.mainSymbols.forEach(((t,r)=>{const a=h.default.loadTexture(this.textureArray,"modal_info",`${t.img}`),l=new o.Text(`${t.text}`,this.textStyle4);a.scale.set(.7),r<=4?(a.x=a.width*r*e,a.y=0,l.y=a.height,l.x=a.x+(a.width-l.width)/2,i.addChild(a,l)):r>=5&&r<=8?(a.x=a.width*(r-5)*e,a.y=1.2*a.height,l.y=a.height+a.y,l.x=a.x+(a.width-l.width)/2,s.addChild(a,l)):(a.x=10==r?0:3.5*a.width,a.y=2*a.height,l.y=a.y+(a.height-l.height)/2,l.x=a.x+a.width+10,n.addChild(a,l))})),this.infoFirstPageContainer.addChild(i),this.infoFirstPageContainer.addChild(s),this.infoFirstPageContainer.addChild(n),n.x=(this.infoFirstPageContainer.width-n.width)/2,n.y=204,i.x=(this.infoFirstPageContainer.width-i.width)/2,i.y=t,s.x=(this.infoFirstPageContainer.width-s.width)/2,s.y=144,this.infoContainer.addChild(this.infoFirstPageContainer);const r=new o.Container,a=new o.Container,l=new o.Container;d.default.mainSymbols.forEach(((t,i)=>{const s=h.default.loadTexture(this.textureArray,"modal_info",`${t.img}`),n=new o.Text(`${t.text}`,this.textStyle4Center);s.scale.set(.7),i<=2?(s.x=s.width*i*e-45,s.y=0,n.y=s.height,n.x=s.x+(s.width-n.width)/2,r.addChild(s,n)):i<=4&&i>2?(s.x=s.width*i*e-580,s.y=1.2*s.height,n.y=2*s.height+45,n.x=s.x+(s.width-n.width)/2,r.addChild(s,n)):i>=5&&i<=6?(s.x=s.width*(i-5)*e-40,s.y=2.5*s.height,n.y=s.height+s.y,n.x=s.x+(s.width-n.width)/2,a.addChild(s,n)):i>=7&&i<=8?(s.x=s.width*(i-5)*e-470,s.y=3*s.height+130,n.y=s.height+s.y,n.x=s.x+(s.width-n.width)/2,a.addChild(s,n)):9==i?(s.y=5*s.height-50,n.y=s.y+(s.height-n.height)/2+140,n.x=s.x+(s.width-n.width)/2,l.addChild(s,n)):(s.y=6*s.height+40,n.y=s.y+(s.height-n.height)/2+160,n.x=s.x+(s.width-n.width)/2,l.addChild(s,n))})),this.infoFirstPageContainerPortrait.addChild(r),r.x=(this.infoFirstPageContainerPortrait.width-r.width)/2,r.y=t,this.infoFirstPageContainerPortrait.addChild(a),a.x=(this.infoFirstPageContainerPortrait.width-a.width)/2,a.y=132,this.infoFirstPageContainerPortrait.addChild(l),this.infoContainer.addChild(this.infoFirstPageContainerPortrait),l.x=148,l.y=204,this.infoFirstPageContainerPortrait.x=270.379}createInfoSecondPage(){const t=new o.Container,e=h.default.loadTexture(this.textureArray,"modal_info","jackpot_img"),i=new o.Text("In the jackpot game pick stone to reveal a jackpot symbol, Match 3 of the same symbol to be awarded the corresponding jackpot!",this.textStyle4Center);d.default.jackpotSymbols.forEach(((e,i)=>{const s=h.default.loadTexture(this.textureArray,"modal_info",`${e.img}`),n=new o.Text(`${e.text}`,this.textStyle4);s.scale.set(1.6),s.x=s.width*i*1.2,n.x=s.x+(s.width-n.width)/2,n.y=1.1*s.height,t.addChild(s,n)})),e.y=t.height+30,i.y=1.05*(e.y+e.height),this.infoSecondPageContainer.addChild(e),this.infoSecondPageContainer.addChild(t),this.infoSecondPageContainer.addChild(i),t.x=(this.infoSecondPageContainer.width-t.width)/2,t.y=30,this.infoContainer.addChild(this.infoSecondPageContainer)}createInfoThirdPage(){this.imgContainer=new o.Container,this.imgContainerPortrait=new o.Container,d.default.freeSpinImages.forEach(((t,e)=>{const i=h.default.loadTexture(this.textureArray,"modal_info",`${t.img}`),s=new o.Text(`${t.text}`,this.textStyle),n=new o.Text(`${t.desc}`,this.textStyle4Center);i.scale.set(.7),i.x=1.3*(0==e?i.width:0),s.x=i.x+(i.width-s.width)/2,s.y=-s.height,n.x=i.x+(i.width-n.width)/2,n.y=1.2*i.height,this.imgContainer.addChild(i,s,n)})),this.imgContainer.x=(this.modalFrame.width-this.imgContainer.width)/2,this.infoThirdPageContainer.addChild(this.imgContainer),this.infoThirdPageContainer.x=(this.modalFrame.width-this.infoThirdPageContainer.width)/2,this.infoThirdPageContainer.y=(this.modalFrame.height-this.infoThirdPageContainer.height)/2*1.4,this.infoContainer.addChild(this.infoThirdPageContainer),d.default.freeSpinImages.forEach(((t,e)=>{const i=h.default.loadTexture(this.textureArray,"modal_info",`${t.img}`),s=new o.Text(`${t.text}`,this.textStyle),n=new o.Text(`${t.desc}`,this.textStyle4Center);i.scale.set(1.2),i.x=-140,i.y=1.3*(0==e?i.width-250:50),s.x=i.x+(i.width-s.width)/2,s.y=1==e?50-s.height:650,n.x=i.x+(i.width-n.width)/2,n.y=1==e?1.2*i.height:1170,this.imgContainerPortrait.addChild(i,s,n)})),this.imgContainerPortrait.x=(this.modalFrame.width-this.imgContainerPortrait.width)/2,this.infoThirdPageContainerPortrait.addChild(this.imgContainerPortrait),this.infoThirdPageContainerPortrait.x=(this.modalFrame.width-this.infoThirdPageContainerPortrait.width)/2,this.infoThirdPageContainerPortrait.y=(this.modalFrame.height-this.infoThirdPageContainerPortrait.height)/2,this.infoContainer.addChild(this.infoThirdPageContainerPortrait)}creatFourthPage(){this.image4th=h.default.loadTexture(this.textureArray,"modal_info","patterns"),this.image4th.scale.set(.8),this.image4th.x=(this.modalFrame.width-this.image4th.width)/2,this.image4th.y=(this.modalFrame.height-this.image4th.height)/2,this.infoFourthPageContainer.addChild(this.image4th),this.infoContainer.addChild(this.infoFourthPageContainer),this.image4thPortrait=h.default.loadTexture(this.textureArray,"modal_portrait","patterns_portrait"),this.image4thPortrait.scale.set(1),this.image4thPortrait.x=(this.modalFrame.width-this.image4thPortrait.width)/2,this.image4thPortrait.y=(this.modalFrame.height-this.image4thPortrait.height)/2,this.infoFourthPageContainerPortrait.addChild(this.image4thPortrait),this.infoContainer.addChild(this.infoFourthPageContainerPortrait)}createFifthPage(){this.image5th=h.default.loadTexture(this.textureArray,"modal_info","how_to_play_content"),this.image5th.x=(this.modalFrame.width-this.image5th.width)/2,this.image5th.y=(this.modalFrame.height-this.image5th.height)/2,this.infoFifthPageContainer.addChild(this.image5th),this.infoContainer.addChild(this.infoFifthPageContainer),this.image5thPortrait=h.default.loadTexture(this.textureArray,"modal_portrait","how_to_play_content_portrait"),this.image5thPortrait.x=(this.modalFrame.width-this.image5thPortrait.width)/2,this.image5thPortrait.y=(this.modalFrame.height-this.image5thPortrait.height)/2,this.infoFifthPageContainerPortrait.addChild(this.image5thPortrait),this.infoContainer.addChild(this.infoFifthPageContainerPortrait)}createSixthPage(){this.image6th=h.default.loadTexture(this.textureArray,"modal_info","settings_menu_content"),this.image6th.x=(this.modalFrame.width-this.image6th.width)/2,this.image6th.y=(this.modalFrame.height-this.image6th.height)/2,this.infoSixthPageContainer.addChild(this.image6th),this.infoContainer.addChild(this.infoSixthPageContainer),this.image6thPortrait=h.default.loadTexture(this.textureArray,"modal_portrait","settings_menu_content_portrait"),this.image6thPortrait.x=(this.modalFrame.width-this.image6thPortrait.width)/2,this.image6thPortrait.y=(this.modalFrame.height-this.image6thPortrait.height)/2,this.infoSixthPageContainerPortrait.addChild(this.image6thPortrait),this.infoContainer.addChild(this.infoSixthPageContainerPortrait)}createSeventhPage(){this.infoContainer.addChild(this.infoSeventhPageContainer)}}},85230:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const o=r(i(58687)),h=i(47466),l=a(i(38333)),d=i(66358);e.default=class{constructor(t,e,i,s,n){this.noOfSpin=0,this.matchingGameWin=0,this.animationSkin="",this.app=t,this.container=new o.Container,this.middleContainer=new o.Container,this.coinsContainer=new o.Container,this.gameContainer=e,this.baseWidth=this.app.screen.width,this.baseHeight=this.app.screen.height,this.textureArray=i,this.animationSkin=s,this.matchingGameWin=n,this.textStyle=new o.TextStyle({fontFamily:"Eras ITC",fontSize:100,fontWeight:"bolder",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.textStyle2=new o.TextStyle({fontFamily:"Eras ITC",fontSize:60,fontWeight:"bolder",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.textStyle3=new o.TextStyle({fontFamily:"Eras ITC",fontSize:30,fontWeight:"bolder",fill:["#ffffff","#ffffff"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.textStyleYellow=new o.TextStyle({fontFamily:"Eras ITC",fontSize:80,fontWeight:"bolder",fill:["#ffeaa0","#ffc260"],strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:3,wordWrap:!1,wordWrapWidth:440,lineJoin:"round"}),this.init()}init(){this.createParent(),this.createPopup(),this.createMoney(),this.createCoin(),this.container.interactive=!0,this.container.cursor="pointer",this.container.addEventListener("pointerdown",(()=>{this.closePopUp()}))}closePopUp(){let t=d.gsap.to(this.container,{duration:2,alpha:0,onComplete:()=>{t.kill(),this.gameContainer.removeChild(this.container)}})}createParent(){this.overlay="portrait"==l.default.screenSize().screentype?l.default.loadTexture(this.textureArray,"controller_mobile","overlay_portrait"):l.default.loadTexture(this.textureArray,"modal_settings","overlay"),this.overlay.width=this.baseWidth,this.overlay.height=this.baseHeight,this.container.addChild(this.overlay),this.container.alpha=0;let t=d.gsap.to(this.container,{duration:1,alpha:1,onComplete:()=>{t.kill()}})}createPopup(){this.logo=new h.Spine(this.textureArray.pop_ups.spineData),this.logo.scale.set(1.3),this.logo.x=this.overlay.width/2,this.logo.y=this.overlay.height/2*.7,this.logo.skeleton.setSkinByName(this.animationSkin),l.default.loadSpineAnimation(this.logo,"animation",!0,.7),this.middleContainer.addChild(this.logo),this.container.addChild(this.middleContainer)}createMoney(){let t,e;this.money=new o.Text("0",this.textStyleYellow),e=(this.overlay.width-this.money.width)/2*1.3,t="portrait"==l.default.screenSize().screentype?.77*(this.logo.y+(this.logo.height-this.money.height)/2):.66*(this.logo.y+(this.logo.height-this.money.height)/2),this.money.x=e,this.money.y=t,this.middleContainer.addChild(this.money);const i=this.matchingGameWin;let s=d.gsap.to(this.money,{pixi:{text:i},duration:2,delay:.4,ease:"power1.out",onStart:()=>{this.money.text=(0).toString()},onUpdate:()=>{this.money.text=l.default.numberWithCommas(parseInt(this.money.text)).toString(),this.money.x=(this.overlay.width-this.money.width)/2*1.03,this.money.y=t},onComplete:()=>{s.kill()}})}createCoin(){for(let t=0;t<10;t++){let t=l.default.animatedSprite(this.textureArray.coins,"new_coin_spinning"),e=this.randMinMax(7.5,11.5),i=.15;const s=.15;t.scale.set(this.randMinMax(.2,.3)),t.anchor.set(.5),t.animationSpeed=this.randMinMax(.3,.5),t.x+=t.width,t.y+=t.height,t.x=-t.width,t.y=this.app.screen.height-this.randMinMax(100,550),this.coinsContainer.addChild(t),this.leftCoinAnimation=d.gsap.to(t,{rotation:20*Math.random(),duration:3,ease:"sine.in",repeat:-1,delay:this.randMinMax(0,5),onStart:()=>{t.play()},onUpdate:()=>{t.y+=i,t.x+=e,i+=s,e>0&&(e-=s/3),e<0&&(e=0),t.y>this.app.screen.height&&(i=.15,e=this.randMinMax(7.5,11.5),t.y=this.app.screen.height-this.randMinMax(100,550),t.scale.set(this.randMinMax(.2,.3)),t.x=-t.width,this.leftCoinAnimation.repeat())}})}for(let t=0;t<10;t++){let t=l.default.animatedSprite(this.textureArray.coins,"new_coin_spinning"),e=this.randMinMax(7.5,11.5),i=.15;const s=.15;t.scale.set(this.randMinMax(.2,.3)),t.anchor.set(.5),t.x+=t.width,t.y+=t.height,t.x=this.app.screen.width+t.width/2,t.y=this.app.screen.height-this.randMinMax(100,550),this.coinsContainer.addChild(t),this.rightCoinAnimation=d.gsap.to(t,{rotation:20*Math.random(),duration:3,ease:"sine.in",repeat:-1,delay:this.randMinMax(0,5),onStart:()=>{t.play()},onUpdate:()=>{t.y+=i,t.x-=e,i+=s,e>0&&(e-=s/3),e<0&&(e=0),t.y>this.app.screen.height&&(i=.15,e=this.randMinMax(7.5,11.5),t.y=this.app.screen.height-this.randMinMax(100,550),t.scale.set(this.randMinMax(.2,.3)),t.x=this.app.screen.width,this.rightCoinAnimation.repeat())}})}this.container.addChild(this.coinsContainer)}randMinMax(t,e){return Math.random()*(e-t)+t}}},60944:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const o=r(i(58687)),h=a(i(38333)),l=a(i(242)),d=i(66358),u=i(34607),c=i(47466);d.gsap.registerPlugin(u.PixiPlugin),u.PixiPlugin.registerPIXI(o);e.default=class{constructor(t,e,i,s,n,r,a,h,l,d,u,c,p,m){this.bonusType=10,this.wildType=11,this.blockWidth=280,this.blockHeight=260,this.blockSpacing=258,this.reelPosX=[366.5,668.5,966,1263,1558.5],this.maskPosX=[220,520,820,1118,1415],this.reelEffectPosX=[369,666,967.5,1263,1558.5],this.maskPosY=130,this.reelContainer=[],this.reelsSymbols=[],this.spinCount=0,this.isSpinning=!1,this.notLongPress=!0,this.reelsValues=[[3,4,3,11,10,1,2,4,11,8,4,11,2,9,3,10,1,4,5,9,2,6,8,6,9,3,9,7,1,7],[2,8,3,11,10,7,3,11,9,1,4,2,3,4,4,7,5,10,5,9,2,6,8,6,9,3,9,11,1,7],[1,2,9,3,10,2,3,9,8,10,2,4,11,4,2,11,5,9,5,9,2,6,8,6,9,3,11,7,1,7],[1,1,1,1,11,4,1,1,11,1,4,10,11,11,1,1,4,1,5,9,2,6,8,11,9,3,9,7,1,7],[11,5,9,2,4,6,11,11,2,9,10,5,3,3,8,11,4,5,3,5,8,9,1,6,6,11,3,7,3,2]],this.reelsValuesMoneySlot=[[11,4,3,2,3,1,2,6,7,8,4,3,2,8,4,2,1,6,5,8,2,6,8,6,8,1,8,7,1,7],[2,8,5,11,1,7,8,8,8,1,4,2,1,4,4,7,5,1,5,8,2,6,8,6,8,9,8,7,1,7],[1,2,8,1,2,2,11,8,8,3,2,4,4,4,2,4,5,8,5,8,2,6,8,6,8,9,8,7,1,7],[1,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,1,1,5,9,2,6,8,6,8,11,8,7,1,7],[2,5,8,2,4,6,5,4,2,8,5,5,6,2,8,2,4,5,5,5,8,8,1,6,6,4,11,7,9,2]],this.reelY=-6713.7,this.timeScale=0,this.autoPlayCount=0,this.spinType="",this.spinDuration=0,this.levelBarWidth=742,this.totalWin=0,this.paylines=[],this.animateDone=!0,this.symbolCount=0,this.symbolCount2=0,this.symbolCount3=0,this.winFreeSpin=0,this.isFreeSpin=!1,this.isFreeSpinDone=!0,this.freeSpinStart=!1,this.autoplayDoneEvent=!0,this.startCountWinFreeSpin=!1,this.isMatchingGame=!1,this.preGeneratedTypes=[],this.reelEffect=[],this.spinReelAnimation=[],this.isBonusTick=!1,this.whatEvent=0,this.generateTypeIndex=0,this.bonusSymbolsCount=0,this.app=t,this.sound=u,this.baseWidth=this.app.screen.width,this.baseHeight=this.app.screen.height,this.textureArray=e,this.container=new o.Container,this.levelBarContainer=new o.Container,this.reelsContainer=new o.Container,this.container.sortableChildren=!0,this.onSpinEnd=i,this.createCongrats=a,this.matchingGame=s,this.freeSpinEvent=r,this.onSpinning=n,this.onSpin=h,this.playSound=l,this.soundStop=d,this.fadeSound=c,this.soundVolume=p,this.checkBalance=m,this.init()}init(){this.createParent(),this.createLogo(),this.createLevelBar(),this.createReels()}createParent(){this.frameBg=h.default.loadTexture(this.textureArray,"main","slot_frame_bg"),this.frameBg.width=1490,this.frameBg.height=765,this.frameBg.y=(this.baseHeight-this.frameBg.height)/2-30,this.frameBg.x=(this.baseWidth-this.frameBg.width)/2,this.container.addChild(this.frameBg),this.frameBorder=h.default.loadTexture(this.textureArray,"main","slot_frame"),this.frameBorder.width=1682,this.frameBorder.height=886,this.frameBorder.x=this.frameBg.x-95,this.frameBorder.y=this.frameBg.y-70,this.container.addChild(this.frameBorder)}createLogo(){this.logo=h.default.loadTexture(this.textureArray,"main","logo"),this.logo.width=620,this.logo.height=112,this.container.addChild(this.logo)}createLevelBar(){this.levelBarBg=h.default.loadTexture(this.textureArray,"main","bar_bg"),this.levelBarBg.width=742,this.levelBarBg.height=66,this.levelBarBg.y=.7*this.frameBorder.y,this.levelBarContainer.addChild(this.levelBarBg),this.levelBarIndicator=h.default.loadTexture(this.textureArray,"main","bar_energy"),this.levelBarIndicator.width=0,this.levelBarIndicator.height=68,this.levelBarIndicator.x=this.levelBarBg.x+5,this.levelBarIndicator.y=this.levelBarBg.y,this.levelBarContainer.addChild(this.levelBarIndicator),this.itemMini=h.default.loadTexture(this.textureArray,"main","mini"),this.itemMini.width=245,this.itemMini.height=106,this.itemMini.x=this.levelBarBg.x,this.itemMini.y=this.levelBarBg.y-30,this.levelBarContainer.addChild(this.itemMini),this.itemMajor=h.default.loadTexture(this.textureArray,"main","major"),this.itemMajor.width=266,this.itemMajor.height=119,this.itemMajor.x=this.itemMini.x+this.itemMini.width,this.itemMajor.y=this.itemMini.y-13,this.levelBarContainer.addChild(this.itemMajor),this.itemGrand=h.default.loadTexture(this.textureArray,"main","grand"),this.itemGrand.width=244,this.itemGrand.height=105,this.itemGrand.x=this.itemMajor.x+this.itemMajor.width,this.itemGrand.y=10,this.levelBarContainer.addChild(this.itemGrand);const t=new o.TextStyle({fontFamily:"Arial",fontSize:20,fontWeight:"bold",fill:["#ffffff","#ffffff"],stroke:"#4a1850",strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:440,lineJoin:"round"}),e=new o.Text(`${l.default.jackpots.mini}`,t);e.x=(this.itemMini.width-e.width)/2-55,e.y=15,this.itemMini.addChild(e);const i=new o.Text(`${l.default.jackpots.major}`,t);i.x=(this.itemMajor.width-i.width)/2-55,i.y=21,this.itemMajor.addChild(i);const s=new o.Text(`${l.default.jackpots.grand}`,t);s.x=(this.itemGrand.width-s.width)/2-55,s.y=14,this.itemGrand.addChild(s),this.container.addChild(this.levelBarContainer)}createReels(){let t=[];for(let e=0;e<this.reelsValues.length;e++){const i=new o.Container;i.zIndex=1e4,t=this.createReel(e),t.forEach(((t,e)=>{i.addChild(t.symbol),t.symbol.y=e*this.blockSpacing,t.symbol.width=this.blockWidth,t.symbol.height=this.blockHeight})),this.reelsSymbols.push(t),this.reelContainer.push(i)}this.reelContainer.forEach(((t,e)=>{t.x=this.reelPosX[e],t.y=this.reelY,this.reelsContainer.addChild(t),this.container.addChild(this.reelsContainer);const i=new c.Spine(this.textureArray.reel_effect.spineData);i.height=1.08*this.frameBorder.height,i.width*=1.1,i.x=this.reelEffectPosX[e],i.y=535,i.visible=!1,this.reelEffect.push(i),this.container.addChild(i),i.zIndex=1e3})),this.maskSprite=h.default.loadTexture(this.textureArray,"main","mask_big"),this.maskSprite.height=1490,this.maskSprite.width=this.frameBorder.width,this.maskSprite.x=this.frameBorder.x,this.maskSprite.y=this.frameBg.y-6,this.reelsContainer.mask=this.maskSprite,this.container.addChild(this.maskSprite)}startSpin(t){this.bonusSymbolsCount=0,this.soundStop(5),this.spinType=t,this.symbolCount=0,this.symbolCount2=0,this.symbolCount3=0,this.paylines=[];let e,i,s=this.reelY-30,n=[];switch(this.onSpin(),t){case"normal":e=.4,this.spinDuration=1,i=.3;break;case"quick":e=.2,this.spinDuration=.3,i=.1;break;case"turbo":e=.2,this.spinDuration=.1,i=0;break;default:e=.4,this.spinDuration=1,i=.5}this.reelContainer.forEach(((r,a)=>{this.isSpinning=!0;let o=d.gsap.to(r,{delay:a*i,duration:e,y:s,onStart:()=>{10==this.timeScale&&"turbo"!==t&&(n[0].delay(0),n[1].delay(0),n[2].delay(0),n[3].delay(0),n[4].delay(0)),this.resetTopSymbolsAlpha(a)},onComplete:()=>{o.kill();let e=d.gsap.to(r,{duration:this.spinDuration,y:300,ease:"bounce.in",onStart:()=>{this.applyMotionBlur(a,!0),this.spinReelAnimation.push(e),this.isFreeSpin&&!this.freeSpinStart||(console.log("GENERATE TYPES"),this.generateTypes(this.generateTypeIndex)),this.generateTypeIndex++},onUpdate:()=>{this.onSpinning(),2!==e.repeat()&&4!==e.repeat()&&6!==e.repeat()&&r.y>-100&&(this.reelContainer[a].children[27].y=0,this.reelContainer[a].children[28].y=260,this.reelContainer[a].children[29].y=520),10==this.timeScale&&"turbo"!==t&&e.timeScale(this.timeScale)},onComplete:()=>{this.isFreeSpin&&!this.freeSpinStart||this.reelEffectShow(a),this.playSound(4),e.kill(),this.isFreeSpin&&this.isFreeSpinDone?(this.generateNewSymbolsEvent(a),console.log("GENERATE SYMBOLS EVENT")):this.isFreeSpin&&!this.isFreeSpinDone?this.generateNewSymbolsMainEvent(a):this.generateNewSymbols(a);let i=d.gsap.to(r,{y:250,duration:.3,ease:"power1.out",onComplete:()=>{if(i.kill(),this.spinCount++,r.y=this.reelY,this.updateVisibleBlocks(a),this.applyMotionBlur(a,!1),this.isFreeSpin||this.reelContainWildAndBonus(a),5==this.spinCount){if(this.maskSprite.height=this.frameBorder.height,this.maskSprite.y=this.frameBorder.y,this.spinReelAnimation=[],this.generateTypeIndex=0,this.checkPattern(),this.spinCount=0,this.isSpinning=!1,this.checkBalance(),this.autoPlayCount>1){let e=1e3;if("turbo"==t&&(e=200),this.animateDone)this.startSpin(t);else{let i=setTimeout((()=>{this.animateDone=!0,this.startSpin(t),clearTimeout(i)}),e)}}this.autoPlayCount--,this.onSpinEnd(),0!=this.autoPlayCount||this.autoplayDoneEvent||this.createCongrats()}}})}})}});n.push(o),this.timeScale=0}))}reelContainWildAndBonus(t){this.reelsSymbols[t].forEach(((e,i)=>{if(i>26){if(e.type==this.wildType){this.playSound(18),this.soundVolume(18,.2),h.default.loadSpineAnimation(e.symbol,"open",!1,1.1);const i=e.symbol.getGlobalPosition();this.createWildCoin(this.reelContainer[t].x,i.y),this.levelBarIndicator.width++,Math.round(this.levelBarIndicator.width),Math.round(this.levelBarIndicator.width)==this.levelBarWidth&&(this.autoPlayCount=0,this.levelBarIndicator.width=this.levelBarWidth,this.isMatchingGame=!0,this.matchingGame())}e.type==this.bonusType&&(this.bonusSymbolsCount++,this.bonusSymbolsCount>1?this.playSound(10):this.playSound(9),h.default.loadSpineAnimation(e.symbol,"fall",!1,.6))}}))}checkPattern(){let t=Array.from({length:l.default.pattern.length},((t,e)=>e));this.paylines=[];let e=[];l.default.pattern.forEach(((i,s)=>{let n=[];s==t[s]&&this.containPattern(i,n),e.push(h.default.hasConsecutiveSameValues(n))})),e.forEach(((e,i)=>{if(i==t[i]&&e.count>2){let t=0,s=0,n=0,r=[];for(let i=0;i<e.count;i++)r.push(e.blocks[i].type),r.length==e.count&&(r.includes(10)&&r.includes(11)||r.forEach(((i,r)=>{this.startCountWinFreeSpin&&1==this.whatEvent?(11==e.blocks[r].type&&(n=e.blocks[r].payout),11!=e.blocks[r].type&&(t+=e.blocks[r].payout,this.totalWin+=e.blocks[r].payout),0!=n&&(t*=n,this.totalWin=t*n),this.animatePatterns(r,e.blocks[r].block)):this.startCountWinFreeSpin&&2==this.whatEvent?(t+=e.blocks[r].payout,this.totalWin+=e.blocks[r].payout,this.animatePatterns(r,e.blocks[r].block)):(11!=e.blocks[r].type&&(s=r),11==e.blocks[r].type&&(e.blocks[r].payout=e.blocks[s].payout),t+=e.blocks[r].payout,this.totalWin+=e.blocks[r].payout,this.animatePatterns(r,e.blocks[r].block))})));e.arrTypes!=this.bonusType||this.freeSpinStart||(this.freeSpinStart=!0),r.length==e.count&&(r.includes(10)&&r.includes(11)||this.paylines.push({payline:i+1,symbols:r,payout:t}))}}))}resetTopSymbolsAlpha(t){this.maskSprite.height=this.frameBg.height-8,this.maskSprite.y=this.frameBg.y+8,this.reelsSymbols[t].forEach(((t,e)=>{t.symbol.alpha=1}))}containPattern(t,e){t.forEach(((t,i)=>{e.push({pattern:this.reelsSymbols[i][t],blockNo:t})}))}animatePatterns(t,e){let i=this.reelsSymbols[t][e];if(h.default.loadSpineAnimation(i.symbol,"animation",!0,.8),this.animateDone=!1,0==t){let t=i.type;this.isFreeSpin||(this.sound[17].playing()||this.isFreeSpin||this.playSound(17),this.fadeSound(17,1,2e3),this.fadeSound(16,0,2e3),this.soundStop(0)),1==t?this.playSound(27):2==t?this.playSound(28):3==t?this.playSound(25):4==t?this.playSound(29):5==t?this.playSound(26):this.playSound(24)}}applyMotionBlur(t,e){this.reelsSymbols[t].forEach(((t,i)=>{t.symbol.skeleton.setSkinByName(e?"blur":"no_blur")}))}generateTypes(t){let e=h.default.arrayRandomizer(this.reelsValues[t]);this.preGeneratedTypes.push(e),t>=2&&(this.preGeneratedTypes[0][0]!=this.bonusType&&this.preGeneratedTypes[0][1]!=this.bonusType&&this.preGeneratedTypes[0][2]!=this.bonusType||this.preGeneratedTypes[1][0]!=this.bonusType&&this.preGeneratedTypes[1][1]!=this.bonusType&&this.preGeneratedTypes[1][2]!=this.bonusType||(this.reelEffect[2].visible=!0,this.sound[11].playing()||this.playSound(11),h.default.loadSpineAnimation(this.reelEffect[2],"animation",!0,1),this.freeSpinStart||this.spinReelAnimation[2].repeat(2),3==t&&(this.preGeneratedTypes[0][0]!=this.bonusType&&this.preGeneratedTypes[0][1]!=this.bonusType&&this.preGeneratedTypes[0][2]!=this.bonusType||this.preGeneratedTypes[1][0]!=this.bonusType&&this.preGeneratedTypes[1][1]!=this.bonusType&&this.preGeneratedTypes[1][2]!=this.bonusType||this.preGeneratedTypes[2][0]!=this.bonusType&&this.preGeneratedTypes[2][1]!=this.bonusType&&this.preGeneratedTypes[2][2]!=this.bonusType||(this.freeSpinStart||this.spinReelAnimation[3].repeat(4),this.isBonusTick=!0)),4==t&&(this.preGeneratedTypes[0][0]!=this.bonusType&&this.preGeneratedTypes[0][1]!=this.bonusType&&this.preGeneratedTypes[0][2]!=this.bonusType||this.preGeneratedTypes[1][0]!=this.bonusType&&this.preGeneratedTypes[1][1]!=this.bonusType&&this.preGeneratedTypes[1][2]!=this.bonusType||this.preGeneratedTypes[2][0]!=this.bonusType&&this.preGeneratedTypes[2][1]!=this.bonusType&&this.preGeneratedTypes[2][2]!=this.bonusType||this.preGeneratedTypes[3][0]!=this.bonusType&&this.preGeneratedTypes[3][1]!=this.bonusType&&this.preGeneratedTypes[3][2]!=this.bonusType||(this.freeSpinStart||this.spinReelAnimation[4].repeat(6),this.isBonusTick=!0))),this.isFreeSpin&&(this.playSound(11),h.default.loadSpineAnimation(this.reelEffect[2],"animation",!0,1)))}reelEffectShow(t){2!=t||this.isFreeSpin||(this.reelEffect[2].visible=!1,this.preGeneratedTypes[0][0]!=this.bonusType&&this.preGeneratedTypes[0][1]!=this.bonusType&&this.preGeneratedTypes[0][2]!=this.bonusType||this.preGeneratedTypes[1][0]!=this.bonusType&&this.preGeneratedTypes[1][1]!=this.bonusType&&this.preGeneratedTypes[1][2]!=this.bonusType||this.preGeneratedTypes[2][0]!=this.bonusType&&this.preGeneratedTypes[2][1]!=this.bonusType&&this.preGeneratedTypes[2][2]!=this.bonusType||(this.reelEffect[3].visible=!0,h.default.loadSpineAnimation(this.reelEffect[3],"animation",!0,1),this.playSound(11))),3!=t||this.isFreeSpin||(this.reelEffect[2].visible=!1,this.reelEffect[3].visible=!1,this.preGeneratedTypes[0][0]!=this.bonusType&&this.preGeneratedTypes[0][1]!=this.bonusType&&this.preGeneratedTypes[0][2]!=this.bonusType||this.preGeneratedTypes[1][0]!=this.bonusType&&this.preGeneratedTypes[1][1]!=this.bonusType&&this.preGeneratedTypes[1][2]!=this.bonusType||this.preGeneratedTypes[2][0]!=this.bonusType&&this.preGeneratedTypes[2][1]!=this.bonusType&&this.preGeneratedTypes[2][2]!=this.bonusType||this.preGeneratedTypes[3][0]!=this.bonusType&&this.preGeneratedTypes[3][1]!=this.bonusType&&this.preGeneratedTypes[3][2]!=this.bonusType||(this.reelEffect[4].visible=!0,h.default.loadSpineAnimation(this.reelEffect[4],"animation",!0,1),this.playSound(11))),4!=t||this.isFreeSpin||(this.reelEffect[4].visible=!1),this.isFreeSpin&&0==t&&(this.reelEffect[2].visible=!0,this.isBonusTick=!0),4==t&&this.isFreeSpin&&(this.reelEffect[2].visible=!1)}generateNewSymbols(t){this.reelContainer[t].removeChildren(),this.preGeneratedTypes[t].forEach(((e,i)=>{let s=e,n=l.default.symbolAssets[s-1].type,r=l.default.symbolAssets[s-1].pay,a=new c.Spine(this.textureArray[`${l.default.symbolAssets[s-1].symbol}`].spineData);a.y=i*this.blockSpacing,e={type:n,symbol:a,payout:r},this.reelsSymbols[t][i].type=e.type,this.reelsSymbols[t][i].symbol=e.symbol,this.reelsSymbols[t][i].payout=e.payout,this.reelsSymbols[t][i].symbol.skeleton.setSkinByName("no_blur"),this.reelContainer[t].addChild(e.symbol),a.width=this.blockWidth,a.height=this.blockHeight}))}generateNewSymbolsMainEvent(t){let e,i=new Array(30).fill(null);this.reelContainer[t].removeChildren(),e=1==this.whatEvent?l.default.symbolAssetsEvent2:l.default.symbolAssetsEvent,i.forEach(((i,s)=>{let n=this.reelsValuesMoneySlot[t],r=n[Math.floor(Math.random()*n.length)],a=e[r-1].type,o=e[r-1].pay,h=new c.Spine(this.textureArray[`${e[r-1].symbol}`].spineData);h.y=s*this.blockSpacing,i={type:a,symbol:h,payout:o},this.reelsSymbols[t][s].type=i.type,this.reelsSymbols[t][s].symbol=i.symbol,this.reelsSymbols[t][s].payout=i.payout,this.reelsSymbols[t][s].symbol.skeleton.setSkinByName("no_blur"),this.reelContainer[t].addChild(i.symbol),h.width=this.blockWidth,h.height=this.blockHeight}))}generateNewSymbolsEvent(t){let e=new Array(30).fill(null);this.reelContainer[t].removeChildren(),e.forEach(((e,i)=>{let s,n,r,a=this.reelsValues[t],o=a[Math.floor(Math.random()*a.length)],h=[9,0,4,2,3],d=[1,9,6,1,4],u=[4,3,9,2,2];0==i?(s=l.default.symbolAssets[h[this.symbolCount]].type,n=l.default.symbolAssets[h[this.symbolCount]].pay,r=new c.Spine(this.textureArray[`${l.default.symbolAssets[h[this.symbolCount]].symbol}`].spineData),this.symbolCount++):1==i?(s=l.default.symbolAssets[d[this.symbolCount2]].type,n=l.default.symbolAssets[d[this.symbolCount2]].pay,r=new c.Spine(this.textureArray[`${l.default.symbolAssets[d[this.symbolCount2]].symbol}`].spineData),this.symbolCount2++):2==i?(s=l.default.symbolAssets[u[this.symbolCount3]].type,n=l.default.symbolAssets[u[this.symbolCount3]].pay,r=new c.Spine(this.textureArray[`${l.default.symbolAssets[u[this.symbolCount3]].symbol}`].spineData),this.symbolCount3++):(s=l.default.symbolAssets[o-1].type,n=l.default.symbolAssets[o-1].pay,r=new c.Spine(this.textureArray[`${l.default.symbolAssets[o-1].symbol}`].spineData)),r.y=i*this.blockSpacing,e={type:s,symbol:r,payout:n},this.reelsSymbols[t][i].type=e.type,this.reelsSymbols[t][i].symbol=e.symbol,this.reelsSymbols[t][i].payout=e.payout,this.reelsSymbols[t][i].symbol.skeleton.setSkinByName("no_blur"),this.reelContainer[t].addChild(e.symbol),r.width=this.blockWidth,r.height=this.blockHeight}))}updateVisibleBlocks(t){let e=this.reelsSymbols[t].filter(((t,e)=>e<3));this.reelsSymbols[t].forEach(((i,s)=>{s>2&&(i.symbol.alpha=0),27==s&&(i.type=e[0].type,i.symbol=e[0].symbol,i.payout=e[0].payout,this.reelContainer[t].children[27]=i.symbol,this.reelContainer[t].children[27].y=6966),28==s&&(i.type=e[1].type,i.symbol=e[1].symbol,i.payout=e[1].payout,this.reelContainer[t].children[28]=i.symbol,this.reelContainer[t].children[28].y=7224),29==s&&(i.type=e[2].type,i.symbol=e[2].symbol,i.payout=e[2].payout,this.reelContainer[t].children[29]=i.symbol,this.reelContainer[t].children[29].y=7482),i.symbol.width=this.blockWidth,i.symbol.height=this.blockHeight}))}createReel(t){let e=[],i=this.reelsValues[t];for(let t=0;t<i.length;t++){const t=i[Math.floor(Math.random()*i.length)],s=l.default.symbolAssets[t-1].symbol,n=l.default.symbolAssets[t-1].type,r=l.default.symbolAssets[t-1].pay,a=new c.Spine(this.textureArray[`${s}`].spineData);a.skeleton.setSkinByName("no_blur");let o={type:n,symbol:a,payout:r};e.push(o)}return e}createWildCoin(t,e){this.screenSetting=h.default.screenSize();let i=this.levelBarIndicator.getGlobalPosition().x,s=(this.levelBarIndicator.y,0),n=0;"portrait"==this.screenSetting.screentype?(s=1.8*i+this.levelBarIndicator.width,n=this.levelBarIndicator.y):(s="A"==this.screenSetting.isSafe?this.levelBarContainer.x+this.levelBarIndicator.width/1.7:this.levelBarContainer.x+this.levelBarIndicator.width,n=this.levelBarContainer.y+25);for(let i=0;i<=3;i++){const r=h.default.animatedSprite(this.textureArray.coins,"new_coin_spinning");r.x=t,r.y=e,r.alpha=.4,"A"==this.screenSetting.isSafe?r.scale.set(.1):r.scale.set(.15),r.animationSpeed=.5,r.play();let a=d.gsap.to(r,{y:n,x:s-r.width/2,alpha:1,delay:.1*i,duration:1,onComplete:()=>{a.kill(),0==i&&(this.playSound(19),this.soundVolume(19,.2));let t=d.gsap.to(r,{delay:.5,duration:.3,alpha:0,onComplete:()=>{t.kill(),this.container.removeChild(r)}})}});this.container.addChild(r)}}}},27156:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const o=r(i(58687)),h=i(47466),l=a(i(38333));e.default=class{constructor(t,e,i,s){this.app=t,this.container=new o.Container,this.gameContainer=e,this.baseWidth=this.app.screen.width,this.baseHeight=this.app.screen.height,this.textureArray=i,this.screenOrient=s,this.init()}init(){this.createParent()}createParent(){this.leaves=new h.Spine(this.textureArray.transition.spineData),"portrait"==this.screenOrient?(this.container.rotation=0*o.DEG_TO_RAD,this.container.x=936,this.container.y=1066.5,this.container.rotation=90*o.DEG_TO_RAD,this.container.x=89.5,this.container.y=936.5):(this.container.rotation=0*o.DEG_TO_RAD,this.container.x=936,this.container.y=1038),this.container.addChild(this.leaves),this.spine=l.default.loadSpineAnimation(this.leaves,"animation",!1,.3),this.spine.state.onComplete=()=>{let t=setTimeout((()=>{this.container.removeChild(this.leaves),this.gameContainer.removeChild(this.container),clearTimeout(t)}),50)}}}},38333:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),i(47466);const a=r(i(58687)),o=i(47466);console.log(function(t,e){const i=[];return function s(n,r){if(n.length!==e)for(let e=r;e<t.length;e++)n.push(t[e]),s(n,e+1),n.pop();else i.push([...n])}([],0),i}([27,28,29],5));e.default={arrayRandomizer:t=>{let e,i=t.length;for(;0!=i;)e=Math.floor(Math.random()*i),i--,[t[i],t[e]]=[t[e],t[i]];return t},symbolRandomizer:t=>t[Math.floor(Math.random()*t.length)]-1,loadTexture:(t,e,i)=>a.Sprite.from(t[`${e}`].textures[`${i}.png`]),hasConsecutiveSameValues:t=>{let e=1,i=[],s=0,n=0;for(let e=0;e<t.length;e++)i.push({block:t[e].blockNo,payout:t[e].pattern.payout,type:t[e].pattern.type,symbol:t[e].pattern.symbol});for(let i=1;i<t.length;i++)if(i-1==0&&11==t[0].pattern.type&&(e++,n++),n>0){if(i>1)if(i<3){if(t[i].pattern.type!=t[i-1].pattern.type&&11!=t[i].pattern.type&&11!=t[i-1].pattern.type)break;e++,s=t[i-1].pattern.type}else{if(t[i].pattern.type!=t[i-1].pattern.type&&11!=t[i].pattern.type&&t[i].pattern.type!=t[i-2].pattern.type)break;e++,s=t[i-1].pattern.type}}else{if(t[i].pattern.type!=t[i-1].pattern.type&&11!=t[i].pattern.type)break;e++,s=t[i-1].pattern.type}return{count:e,blocks:i,arrTypes:s}},numberWithCommas:t=>(Math.round(100*t)/100).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),getRandomInt:(t,e)=>Math.random()*(e-t)+t,loadSpineAnimation:(t,e,i,s)=>{if(t.state.hasAnimation(`${e}`))return t.state.setAnimation(1,`${e}`,i),t.state.timeScale=s,t.autoUpdate=!0,t},loadSpine:(t,e)=>new o.Spine(t[`${e}`].spineData),animatedSprite:(t,e)=>new a.AnimatedSprite(t.animations[`${e}`]),random2Number:(t,e)=>Math.floor(Math.random()*(e-t+1))+t,screenSize:()=>{let t;var e,i,s,n,r,a,o={width:0,height:0,safeWidth:0,safeHeight:0};return window.innerWidth>window.innerHeight?(a="landscape",n=1920,r=1080,o={width:1280,height:800,safeWidth:1024,safeHeight:720}):(a="portrait",n=1180,r=1920,o={width:800,height:1280,safeWidth:720,safeHeight:1024}),e={width:window.innerWidth,height:window.innerHeight},o.height/o.width>e.height/e.width?o.safeHeight/o.width>e.height/e.width?(i=(s=e.height*o.height/o.safeHeight)*o.width/o.height,t="A"):(s=(i=e.width)*o.height/o.width,t="B"):o.height/o.safeWidth>e.height/e.width?(i=(s=e.height)*o.width/o.height,t="C"):(s=(i=e.width*o.width/o.safeWidth)*o.height/o.width,t="D"),{screentype:a,newGameX:(e.width-i)/2,newGameY:(e.height-s)/2,newGameWidth:i,newGameHeight:s,baseWidth:n,baseHeight:r,game:o,isSafe:t}}}},63607:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=s(i(92862)),r=s(i(39685));i(35698),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(new r.default,document.getElementsByTagName("body")[0].classList.remove("desktop"),document.getElementsByTagName("canvas")[0].classList.remove("desktop")):(new n.default,document.getElementsByTagName("body")[0].classList.add("desktop"),document.getElementsByTagName("canvas")[0].classList.add("desktop")),document.addEventListener("touchend",(function(){console.log("test"),document.documentElement.requestFullscreen()}))},52511:function(t,e,i){var s;t=i.nmd(t),function(n){e&&e.nodeType,t&&t.nodeType;var r="object"==typeof i.g&&i.g;r.global!==r&&r.window!==r&&r.self;var a,o=2147483647,h=36,l=1,d=26,u=38,c=700,p=72,m=128,f="-",g=/^xn--/,y=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=h-l,v=Math.floor,S=String.fromCharCode;function T(t){throw RangeError(_[t])}function w(t,e){for(var i=t.length,s=[];i--;)s[i]=e(t[i]);return s}function E(t,e){var i=t.split("@"),s="";return i.length>1&&(s=i[0]+"@",t=i[1]),s+w((t=t.replace(x,".")).split("."),e).join(".")}function C(t){for(var e,i,s=[],n=0,r=t.length;n<r;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<r?56320==(64512&(i=t.charCodeAt(n++)))?s.push(((1023&e)<<10)+(1023&i)+65536):(s.push(e),n--):s.push(e);return s}function A(t){return w(t,(function(t){var e="";return t>65535&&(e+=S((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=S(t)})).join("")}function M(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function P(t,e,i){var s=0;for(t=i?v(t/c):t>>1,t+=v(t/e);t>b*d>>1;s+=h)t=v(t/b);return v(s+(b+1)*t/(t+u))}function B(t){var e,i,s,n,r,a,u,c,g,y,x,_=[],b=t.length,S=0,w=m,E=p;for((i=t.lastIndexOf(f))<0&&(i=0),s=0;s<i;++s)t.charCodeAt(s)>=128&&T("not-basic"),_.push(t.charCodeAt(s));for(n=i>0?i+1:0;n<b;){for(r=S,a=1,u=h;n>=b&&T("invalid-input"),((c=(x=t.charCodeAt(n++))-48<10?x-22:x-65<26?x-65:x-97<26?x-97:h)>=h||c>v((o-S)/a))&&T("overflow"),S+=c*a,!(c<(g=u<=E?l:u>=E+d?d:u-E));u+=h)a>v(o/(y=h-g))&&T("overflow"),a*=y;E=P(S-r,e=_.length+1,0==r),v(S/e)>o-w&&T("overflow"),w+=v(S/e),S%=e,_.splice(S++,0,w)}return A(_)}function R(t){var e,i,s,n,r,a,u,c,g,y,x,_,b,w,E,A=[];for(_=(t=C(t)).length,e=m,i=0,r=p,a=0;a<_;++a)(x=t[a])<128&&A.push(S(x));for(s=n=A.length,n&&A.push(f);s<_;){for(u=o,a=0;a<_;++a)(x=t[a])>=e&&x<u&&(u=x);for(u-e>v((o-i)/(b=s+1))&&T("overflow"),i+=(u-e)*b,e=u,a=0;a<_;++a)if((x=t[a])<e&&++i>o&&T("overflow"),x==e){for(c=i,g=h;!(c<(y=g<=r?l:g>=r+d?d:g-r));g+=h)E=c-y,w=h-y,A.push(S(M(y+E%w,0))),c=v(E/w);A.push(S(M(c,0))),r=P(i,b,s==n),i=0,++s}++i,++e}return A.join("")}a={version:"1.3.2",ucs2:{decode:C,encode:A},decode:B,encode:R,toASCII:function(t){return E(t,(function(t){return y.test(t)?"xn--"+R(t):t}))},toUnicode:function(t){return E(t,(function(t){return g.test(t)?B(t.slice(4).toLowerCase()):t}))}},void 0===(s=function(){return a}.call(e,i,e,t))||(t.exports=s)}()},8575:(t,e,i)=>{"use strict";var s=i(52511),n=i(62502);function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){n.isString(t)&&(t=_(t));return t instanceof r?t.format():r.prototype.format.call(t)},e.Url=r;var a=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),d=["'"].concat(l),u=["%","/","?",";","#"].concat(d),c=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=i(17673);function _(t,e,i){if(t&&n.isObject(t)&&t instanceof r)return t;var s=new r;return s.parse(t,e,i),s}r.prototype.parse=function(t,e,i){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),o=-1!==r&&r<t.indexOf("#")?"?":"#",l=t.split(o);l[0]=l[0].replace(/\\/g,"/");var _=t=l.join(o);if(_=_.trim(),!i&&1===t.split("#").length){var b=h.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?x.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var v=a.exec(_);if(v){var S=(v=v[0]).toLowerCase();this.protocol=S,_=_.substr(v.length)}if(i||v||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===_.substr(0,2);!T||v&&g[v]||(_=_.substr(2),this.slashes=!0)}if(!g[v]&&(T||v&&!y[v])){for(var w,E,C=-1,A=0;A<c.length;A++){-1!==(M=_.indexOf(c[A]))&&(-1===C||M<C)&&(C=M)}-1!==(E=-1===C?_.lastIndexOf("@"):_.lastIndexOf("@",C))&&(w=_.slice(0,E),_=_.slice(E+1),this.auth=decodeURIComponent(w)),C=-1;for(A=0;A<u.length;A++){var M;-1!==(M=_.indexOf(u[A]))&&(-1===C||M<C)&&(C=M)}-1===C&&(C=_.length),this.host=_.slice(0,C),_=_.slice(C),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var B=this.hostname.split(/\./),R=(A=0,B.length);A<R;A++){var I=B[A];if(I&&!I.match(p)){for(var k="",O=0,D=I.length;O<D;O++)I.charCodeAt(O)>127?k+="x":k+=I[O];if(!k.match(p)){var F=B.slice(0,A),L=B.slice(A+1),N=I.match(m);N&&(F.push(N[1]),L.unshift(N[2])),L.length&&(_="/"+L.join(".")+_),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=s.toASCII(this.hostname));var U=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+U,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!f[S])for(A=0,R=d.length;A<R;A++){var V=d[A];if(-1!==_.indexOf(V)){var j=encodeURIComponent(V);j===V&&(j=escape(V)),_=_.split(V).join(j)}}var W=_.indexOf("#");-1!==W&&(this.hash=_.substr(W),_=_.slice(0,W));var Y=_.indexOf("?");if(-1!==Y?(this.search=_.substr(Y),this.query=_.substr(Y+1),e&&(this.query=x.parse(this.query)),_=_.slice(0,Y)):e&&(this.search="",this.query={}),_&&(this.pathname=_),y[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var X=this.search||"";this.path=U+X}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",s=this.hash||"",r=!1,a="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(a=x.stringify(this.query));var o=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==r?(r="//"+(r||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):r||(r=""),s&&"#"!==s.charAt(0)&&(s="#"+s),o&&"?"!==o.charAt(0)&&(o="?"+o),e+r+(i=i.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(o=o.replace("#","%23"))+s},r.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(n.isString(t)){var e=new r;e.parse(t,!1,!0),t=e}for(var i=new r,s=Object.keys(this),a=0;a<s.length;a++){var o=s[a];i[o]=this[o]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),l=0;l<h.length;l++){var d=h[l];"protocol"!==d&&(i[d]=t[d])}return y[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!y[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var p=u[c];i[p]=t[p]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||g[t.protocol])i.pathname=t.pathname;else{for(var m=(t.pathname||"").split("/");m.length&&!(t.host=m.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),i.pathname=m.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var f=i.pathname||"",x=i.search||"";i.path=f+x}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var _=i.pathname&&"/"===i.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),v=b||_||i.host&&t.pathname,S=v,T=i.pathname&&i.pathname.split("/")||[],w=(m=t.pathname&&t.pathname.split("/")||[],i.protocol&&!y[i.protocol]);if(w&&(i.hostname="",i.port=null,i.host&&(""===T[0]?T[0]=i.host:T.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===m[0]?m[0]=t.host:m.unshift(t.host)),t.host=null),v=v&&(""===m[0]||""===T[0])),b)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,T=m;else if(m.length)T||(T=[]),T.pop(),T=T.concat(m),i.search=t.search,i.query=t.query;else if(!n.isNullOrUndefined(t.search)){if(w)i.hostname=i.host=T.shift(),(P=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=P.shift(),i.host=i.hostname=P.shift());return i.search=t.search,i.query=t.query,n.isNull(i.pathname)&&n.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!T.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var E=T.slice(-1)[0],C=(i.host||t.host||T.length>1)&&("."===E||".."===E)||""===E,A=0,M=T.length;M>=0;M--)"."===(E=T[M])?T.splice(M,1):".."===E?(T.splice(M,1),A++):A&&(T.splice(M,1),A--);if(!v&&!S)for(;A--;A)T.unshift("..");!v||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),C&&"/"!==T.join("/").substr(-1)&&T.push("");var P,B=""===T[0]||T[0]&&"/"===T[0].charAt(0);w&&(i.hostname=i.host=B?"":T.length?T.shift():"",(P=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=P.shift(),i.host=i.hostname=P.shift()));return(v=v||i.host&&T.length)&&!B&&T.unshift(""),T.length?i.pathname=T.join("/"):(i.pathname=null,i.path=null),n.isNull(i.pathname)&&n.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},r.prototype.parseHost=function(){var t=this.host,e=o.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},62502:t=>{"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},75933:(t,e,i)=>{var s;!function(){function n(t,e,i){return t.call.apply(t.bind,arguments)}function r(t,e,i){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,s),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function a(t,e,i){return(a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:r).apply(null,arguments)}var o=Date.now||function(){return+new Date};function h(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var l=!!window.FontFace;function d(t,e,i,s){if(e=t.c.createElement(e),i)for(var n in i)i.hasOwnProperty(n)&&("style"==n?e.style.cssText=i[n]:e.setAttribute(n,i[n]));return s&&e.appendChild(t.c.createTextNode(s)),e}function u(t,e,i){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(i,t.lastChild)}function c(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t,e,i){e=e||[],i=i||[];for(var s=t.className.split(/\s+/),n=0;n<e.length;n+=1){for(var r=!1,a=0;a<s.length;a+=1)if(e[n]===s[a]){r=!0;break}r||s.push(e[n])}for(e=[],n=0;n<s.length;n+=1){for(r=!1,a=0;a<i.length;a+=1)if(s[n]===i[a]){r=!0;break}r||e.push(s[n])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function m(t,e){for(var i=t.className.split(/\s+/),s=0,n=i.length;s<n;s++)if(i[s]==e)return!0;return!1}function f(t,e,i){function s(){o&&n&&r&&(o(a),o=null)}e=d(t,"link",{rel:"stylesheet",href:e,media:"all"});var n=!1,r=!0,a=null,o=i||null;l?(e.onload=function(){n=!0,s()},e.onerror=function(){n=!0,a=Error("Stylesheet failed to load"),s()}):setTimeout((function(){n=!0,s()}),0),u(t,"head",e)}function g(t,e,i,s){var n=t.c.getElementsByTagName("head")[0];if(n){var r=d(t,"script",{src:e}),a=!1;return r.onload=r.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,i&&i(null),r.onload=r.onreadystatechange=null,"HEAD"==r.parentNode.tagName&&n.removeChild(r))},n.appendChild(r),setTimeout((function(){a||(a=!0,i&&i(Error("Script load timeout")))}),s||5e3),r}return null}function y(){this.a=0,this.c=null}function x(t){return t.a++,function(){t.a--,b(t)}}function _(t,e){t.c=e,b(t)}function b(t){0==t.a&&t.c&&(t.c(),t.c=null)}function v(t){this.a=t||"-"}function S(t,e){this.c=t,this.f=4,this.a="n";var i=(e||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function T(t){var e=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var s=t[i].replace(/['"]/g,"");-1!=s.indexOf(" ")||/^\d/.test(s)?e.push("'"+s+"'"):e.push(s)}return e.join(",")}function w(t){return t.a+t.f}function E(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function C(t){var e=4,i="n",s=null;return t&&((s=t.match(/(normal|oblique|italic)/i))&&s[1]&&(i=s[1].substr(0,1).toLowerCase()),(s=t.match(/([1-9]00|normal|bold)/i))&&s[1]&&(/bold/i.test(s[1])?e=7:/[1-9]00/.test(s[1])&&(e=parseInt(s[1].substr(0,1),10)))),i+e}function A(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new v("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function M(t){if(t.g){var e=m(t.f,t.a.c("wf","active")),i=[],s=[t.a.c("wf","loading")];e||i.push(t.a.c("wf","inactive")),p(t.f,i,s)}P(t,"inactive")}function P(t,e,i){t.j&&t.h[e]&&(i?t.h[e](i.c,w(i)):t.h[e]())}function B(){this.c={}}function R(t,e){this.c=t,this.f=e,this.a=d(this.c,"span",{"aria-hidden":"true"},this.f)}function I(t){u(t.c,"body",t.a)}function k(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+T(t.c)+";font-style:"+E(t)+";font-weight:"+t.f+"00;"}function O(t,e,i,s,n,r){this.g=t,this.j=e,this.a=s,this.c=i,this.f=n||3e3,this.h=r||void 0}function D(t,e,i,s,n,r,a){this.v=t,this.B=e,this.c=i,this.a=s,this.s=a||"BESbswy",this.f={},this.w=n||3e3,this.u=r||null,this.m=this.j=this.h=this.g=null,this.g=new R(this.c,this.s),this.h=new R(this.c,this.s),this.j=new R(this.c,this.s),this.m=new R(this.c,this.s),t=k(t=new S(this.a.c+",serif",w(this.a))),this.g.a.style.cssText=t,t=k(t=new S(this.a.c+",sans-serif",w(this.a))),this.h.a.style.cssText=t,t=k(t=new S("serif",w(this.a))),this.j.a.style.cssText=t,t=k(t=new S("sans-serif",w(this.a))),this.m.a.style.cssText=t,I(this.g),I(this.h),I(this.j),I(this.m)}v.prototype.c=function(t){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},O.prototype.start=function(){var t=this.c.o.document,e=this,i=o(),s=new Promise((function(s,n){!function r(){o()-i>=e.f?n():t.fonts.load(function(t){return E(t)+" "+t.f+"00 300px "+T(t.c)}(e.a),e.h).then((function(t){1<=t.length?s():setTimeout(r,25)}),(function(){n()}))}()})),n=null,r=new Promise((function(t,i){n=setTimeout(i,e.f)}));Promise.race([r,s]).then((function(){n&&(clearTimeout(n),n=null),e.g(e.a)}),(function(){e.j(e.a)}))};var F={D:"serif",C:"sans-serif"},L=null;function N(){if(null===L){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);L=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return L}function U(t,e,i){for(var s in F)if(F.hasOwnProperty(s)&&e===t.f[F[s]]&&i===t.f[F[s]])return!0;return!1}function G(t){var e,i=t.g.a.offsetWidth,s=t.h.a.offsetWidth;(e=i===t.f.serif&&s===t.f["sans-serif"])||(e=N()&&U(t,i,s)),e?o()-t.A>=t.w?N()&&U(t,i,s)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?V(t,t.v):V(t,t.B):function(t){setTimeout(a((function(){G(this)}),t),50)}(t):V(t,t.v)}function V(t,e){setTimeout(a((function(){c(this.g.a),c(this.h.a),c(this.j.a),c(this.m.a),e(this.a)}),t),0)}function j(t,e,i){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=i}D.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=o(),G(this)};var W=null;function Y(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&p(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),P(t,"active")):M(t.a))}function X(t){this.j=t,this.a=new B,this.h=0,this.f=this.g=!0}function H(t,e,i,s,n){var r=0==--t.h;(t.f||t.g)&&setTimeout((function(){var t=n||null,o=s||{};if(0===i.length&&r)M(e.a);else{e.f+=i.length,r&&(e.j=r);var h,l=[];for(h=0;h<i.length;h++){var d=i[h],u=o[d.c],c=e.a,m=d;if(c.g&&p(c.f,[c.a.c("wf",m.c,w(m).toString(),"loading")]),P(c,"fontloading",m),c=null,null===W)if(window.FontFace){m=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var f=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);W=m?42<parseInt(m[1],10):!f}else W=!1;c=W?new O(a(e.g,e),a(e.h,e),e.c,d,e.s,u):new D(a(e.g,e),a(e.h,e),e.c,d,e.s,t,u),l.push(c)}for(h=0;h<l.length;h++)l[h].start()}}),0)}function $(t,e){this.c=t,this.a=e}function z(t,e){this.c=t,this.a=e}function q(t,e){this.c=t||K,this.a=[],this.f=[],this.g=e||""}j.prototype.g=function(t){var e=this.a;e.g&&p(e.f,[e.a.c("wf",t.c,w(t).toString(),"active")],[e.a.c("wf",t.c,w(t).toString(),"loading"),e.a.c("wf",t.c,w(t).toString(),"inactive")]),P(e,"fontactive",t),this.m=!0,Y(this)},j.prototype.h=function(t){var e=this.a;if(e.g){var i=m(e.f,e.a.c("wf",t.c,w(t).toString(),"active")),s=[],n=[e.a.c("wf",t.c,w(t).toString(),"loading")];i||s.push(e.a.c("wf",t.c,w(t).toString(),"inactive")),p(e.f,s,n)}P(e,"fontinactive",t),Y(this)},X.prototype.load=function(t){this.c=new h(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,i){var s=[],n=i.timeout;!function(t){t.g&&p(t.f,[t.a.c("wf","loading")]),P(t,"loading")}(e);s=function(t,e,i){var s,n=[];for(s in e)if(e.hasOwnProperty(s)){var r=t.c[s];r&&n.push(r(e[s],i))}return n}(t.a,i,t.c);var r=new j(t.c,e,n);for(t.h=s.length,e=0,i=s.length;e<i;e++)s[e].load((function(e,i,s){H(t,r,e,i,s)}))}(this,new A(this.c,t),t)},$.prototype.load=function(t){function e(){if(r["__mti_fntLst"+s]){var i,n=r["__mti_fntLst"+s](),a=[];if(n)for(var o=0;o<n.length;o++){var h=n[o].fontfamily;null!=n[o].fontStyle&&null!=n[o].fontWeight?(i=n[o].fontStyle+n[o].fontWeight,a.push(new S(h,i))):a.push(new S(h))}t(a)}else setTimeout((function(){e()}),50)}var i=this,s=i.a.projectId,n=i.a.version;if(s){var r=i.c.o;g(this.c,(i.a.api||"https://fast.fonts.net/jsapi")+"/"+s+".js"+(n?"?v="+n:""),(function(n){n?t([]):(r["__MonotypeConfiguration__"+s]=function(){return i.a},e())})).id="__MonotypeAPIScript__"+s}else t([])},z.prototype.load=function(t){var e,i,s=this.a.urls||[],n=this.a.families||[],r=this.a.testStrings||{},a=new y;for(e=0,i=s.length;e<i;e++)f(this.c,s[e],x(a));var o=[];for(e=0,i=n.length;e<i;e++)if((s=n[e].split(":"))[1])for(var h=s[1].split(","),l=0;l<h.length;l+=1)o.push(new S(s[0],h[l]));else o.push(new S(s[0]));_(a,(function(){t(o,r)}))};var K="https://fonts.googleapis.com/css";function Z(t){this.f=t,this.a=[],this.c={}}var J={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},Q={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},tt={i:"i",italic:"i",n:"n",normal:"n"},et=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function it(t,e){this.c=t,this.a=e}var st={Arimo:!0,Cousine:!0,Tinos:!0};function nt(t,e){this.c=t,this.a=e}function rt(t,e){this.c=t,this.f=e,this.a=[]}it.prototype.load=function(t){var e=new y,i=this.c,s=new q(this.a.api,this.a.text),n=this.a.families;!function(t,e){for(var i=e.length,s=0;s<i;s++){var n=e[s].split(":");3==n.length&&t.f.push(n.pop());var r="";2==n.length&&""!=n[1]&&(r=":"),t.a.push(n.join(r))}}(s,n);var r=new Z(n);!function(t){for(var e=t.f.length,i=0;i<e;i++){var s=t.f[i].split(":"),n=s[0].replace(/\+/g," "),r=["n4"];if(2<=s.length){var a;if(a=[],o=s[1])for(var o,h=(o=o.split(",")).length,l=0;l<h;l++){var d;if((d=o[l]).match(/^[\w-]+$/))if(null==(u=et.exec(d.toLowerCase())))d="";else{if(d=null==(d=u[2])||""==d?"n":tt[d],null==(u=u[1])||""==u)u="4";else var u=Q[u]||(isNaN(u)?"4":u.substr(0,1));d=[d,u].join("")}else d="";d&&a.push(d)}0<a.length&&(r=a),3==s.length&&(a=[],0<(s=(s=s[2])?s.split(","):a).length&&(s=J[s[0]])&&(t.c[n]=s))}for(t.c[n]||(s=J[n])&&(t.c[n]=s),s=0;s<r.length;s+=1)t.a.push(new S(n,r[s]))}}(r),f(i,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,i=[],s=0;s<e;s++)i.push(t.a[s].replace(/ /g,"+"));return e=t.c+"?family="+i.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(s),x(e)),_(e,(function(){t(r.a,r.c,st)}))},nt.prototype.load=function(t){var e=this.a.id,i=this.c.o;e?g(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",(function(e){if(e)t([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){e=i.Typekit.config.fn;for(var s=[],n=0;n<e.length;n+=2)for(var r=e[n],a=e[n+1],o=0;o<a.length;o++)s.push(new S(r,a[o]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(s)}}),2e3):t([])},rt.prototype.load=function(t){var e=this.f.id,i=this.c.o,s=this;e?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[e]=function(e,i){for(var n=0,r=i.fonts.length;n<r;++n){var a=i.fonts[n];s.a.push(new S(a.name,C("font-weight:"+a.weight+";font-style:"+a.style)))}t(s.a)},g(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",(function(e){e&&t([])}))):t([])};var at=new X(window);at.a.c.custom=function(t,e){return new z(e,t)},at.a.c.fontdeck=function(t,e){return new rt(e,t)},at.a.c.monotype=function(t,e){return new $(e,t)},at.a.c.typekit=function(t,e){return new nt(e,t)},at.a.c.google=function(t,e){return new it(e,t)};var ot={load:a(at.load,at)};void 0===(s=function(){return ot}.call(e,i,e,t))||(t.exports=s)}()},20461:t=>{"use strict";t.exports=JSON.parse('{"modalInfoPage":[{"title":"paytable_slot_title","desc":"All symbols pay from left to right on adjacent reels starting from the leftmost reel."},{"title":"game_rules_title","desc":"The Jackpot Game has 3 symbols. each with fix values of total bet as follows:"},{"title":"game_rules_title","desc":"Free Spin Feature has 2 types, the multiplier wilds and money wilds. each with 3 new symbols and fix values of total bet as follows:"},{"title":"slot_pattern_title","desc":"Below is the payline pattern for the slot"},{"title":"how_to_play_title","desc":""},{"title":"settings_menu_title","desc":""}],"mainSymbols":[{"img":"bird","text":0.2},{"img":"snake","text":0.3},{"img":"monkey","text":0.5},{"img":"leopard","text":0.6},{"img":"chameleon","text":0.7},{"img":"orange_crystal","text":1},{"img":"green_crystal","text":1.5},{"img":"violet_crystal","text":2},{"img":"blue_crystal","text":2},{"img":"bonus_symbol","text":"This is bonus symbol, It appears on all reels. hit 3 or more BONUS symbols to trigger the free spin Feature"},{"img":"wild","text":"This symbol is WILD and substitutes for all symbols.Wild symbol appears on reels 2, 3 and 4. Whenever a wild appears on the screen in the base game it can randomly trigger the JACKPOT BONUS GAME."}],"jackpotSymbols":[{"img":"mini","text":5000},{"img":"major","text":8000},{"img":"grand","text":10000}],"freeSpinImages":[{"img":"spin_multiplier","text":"Multiplier Wilds","desc":"Mupltiplier Symbols substitutes for all symbols, the value of each multiplier symbol is multiplied to the symbol\'s value"},{"img":"spin_money","text":"Money Wilds","desc":"Money Symbols substitutes for all symbols, the value of each money symbol is added to the symbol\'s value"}]}')},91103:t=>{"use strict";t.exports=JSON.parse('{"symbolAssets":[{"symbol":"bird","type":1,"pay":0.2},{"symbol":"snake","type":2,"pay":0.3},{"symbol":"monkey","type":3,"pay":0.5},{"symbol":"tiger","type":4,"pay":0.6},{"symbol":"cameleon","type":5,"pay":0.7},{"symbol":"orange_crystal","type":6,"pay":1},{"symbol":"green_crystal","type":7,"pay":1.5},{"symbol":"violet_crystal","type":8,"pay":2},{"symbol":"blue_crystal","type":9,"pay":2},{"symbol":"bonus_symbol","type":10,"pay":3},{"symbol":"wild","type":11,"pay":3}],"symbolAssetsEvent":[{"symbol":"bird","type":1,"pay":0.2},{"symbol":"snake","type":2,"pay":0.3},{"symbol":"monkey","type":3,"pay":0.5},{"symbol":"tiger","type":4,"pay":0.6},{"symbol":"cameleon","type":5,"pay":0.7},{"symbol":"orange_crystal","type":6,"pay":1},{"symbol":"green_crystal","type":7,"pay":1.5},{"symbol":"violet_crystal","type":8,"pay":2},{"symbol":"2k","type":11,"pay":2000},{"symbol":"3k","type":11,"pay":3000},{"symbol":"5k","type":11,"pay":5000}],"symbolAssetsEvent2":[{"symbol":"bird","type":1,"pay":0.2},{"symbol":"snake","type":2,"pay":0.3},{"symbol":"monkey","type":3,"pay":0.5},{"symbol":"tiger","type":4,"pay":0.6},{"symbol":"cameleon","type":5,"pay":0.7},{"symbol":"orange_crystal","type":6,"pay":1},{"symbol":"green_crystal","type":7,"pay":1.5},{"symbol":"violet_crystal","type":8,"pay":2},{"symbol":"x2","type":11,"pay":2},{"symbol":"x3","type":11,"pay":3},{"symbol":"x5","type":11,"pay":3}],"pattern":[[27,27,27,27,27],[28,28,28,28,28],[29,29,29,29,29],[27,28,29,28,27],[29,28,27,28,29],[27,27,28,27,27],[29,29,28,29,29],[28,27,27,27,28],[28,29,29,29,28],[29,27,27,27,27],[27,28,28,28,28],[29,28,28,28,28],[28,28,29,28,28],[28,28,29,28,29],[27,28,29,28,29]],"jackpots":{"mini":5000,"major":8000,"grand":10000},"bet_amounts":[1,5,10,20,50,100],"auto_play_values":[{"value":1,"x":0},{"value":5,"x":1},{"value":10,"x":2},{"value":25,"x":3},{"value":50,"x":4},{"value":75,"x":0},{"value":100,"x":1},{"value":250,"x":2},{"value":500,"x":3},{"value":1000,"x":4}],"matchgame_values":["mini","mini","major","mini","mini","mini","major","grand","grand","mini","major","grand"]}')},45611:t=>{"use strict";t.exports=JSON.parse('{"modalInfoPage":[{"title":"paytable_slot_title","desc":"All symbols pay from left to right on adjacent reels starting from the leftmost reel."},{"title":"game_rules_title","desc":"The Jackpot Game has 3 symbols. each with fix values of total bet as follows:"},{"title":"game_rules_title","desc":"Free Spin Feature has 2 types, the multiplier wilds and money wilds. each with 3 new symbols and fix values of total bet as follows:"},{"title":"slot_pattern_title","desc":"Below is the payline pattern for the slot"},{"title":"how_to_play_title","desc":""},{"title":"settings_menu_title","desc":""}],"mainSymbols":[{"img":"bird","text":0.2},{"img":"snake","text":0.3},{"img":"monkey","text":0.5},{"img":"leopard","text":0.6},{"img":"chameleon","text":0.7},{"img":"orange_crystal","text":1},{"img":"green_crystal","text":1.5},{"img":"violet_crystal","text":2},{"img":"blue_crystal","text":2},{"img":"bonus_symbol","text":"This is bonus symbol, It appears on all reels. hit 3 or more BONUS symbols to trigger the free spin Feature"},{"img":"wild","text":"This symbol is WILD and substitutes for all symbols.Wild symbol appears on reels 2, 3 and 4. Whenever a wild appears on the screen in the base game it can randomly trigger the JACKPOT BONUS GAME."}],"jackpotSymbols":[{"img":"mini","text":5000},{"img":"major","text":8000},{"img":"grand","text":10000}],"freeSpinImages":[{"img":"spin_multiplier","text":"Multiplier Wilds","desc":"Mupltiplier Symbols substitutes for all symbols, the value of each multiplier symbol is multiplied to the symbol\'s value"},{"img":"spin_money","text":"Money Wilds","desc":"Money Symbols substitutes for all symbols, the value of each money symbol is added to the symbol\'s value"}]}')},242:t=>{"use strict";t.exports=JSON.parse('{"symbolAssets":[{"symbol":"bird","type":1,"pay":0.2},{"symbol":"snake","type":2,"pay":0.3},{"symbol":"monkey","type":3,"pay":0.5},{"symbol":"tiger","type":4,"pay":0.6},{"symbol":"cameleon","type":5,"pay":0.7},{"symbol":"orange_crystal","type":6,"pay":1},{"symbol":"green_crystal","type":7,"pay":1.5},{"symbol":"violet_crystal","type":8,"pay":2},{"symbol":"blue_crystal","type":9,"pay":2},{"symbol":"bonus_symbol","type":10,"pay":3},{"symbol":"wild","type":11,"pay":0}],"symbolAssetsEvent":[{"symbol":"bird","type":1,"pay":0.2},{"symbol":"snake","type":2,"pay":0.3},{"symbol":"monkey","type":3,"pay":0.5},{"symbol":"tiger","type":4,"pay":0.6},{"symbol":"cameleon","type":5,"pay":0.7},{"symbol":"orange_crystal","type":6,"pay":1},{"symbol":"green_crystal","type":7,"pay":1.5},{"symbol":"violet_crystal","type":8,"pay":2},{"symbol":"2k","type":11,"pay":2000},{"symbol":"3k","type":11,"pay":3000},{"symbol":"5k","type":11,"pay":5000}],"symbolAssetsEvent2":[{"symbol":"bird","type":1,"pay":0.2},{"symbol":"snake","type":2,"pay":0.3},{"symbol":"monkey","type":3,"pay":0.5},{"symbol":"tiger","type":4,"pay":0.6},{"symbol":"cameleon","type":5,"pay":0.7},{"symbol":"orange_crystal","type":6,"pay":1},{"symbol":"green_crystal","type":7,"pay":1.5},{"symbol":"violet_crystal","type":8,"pay":2},{"symbol":"x2","type":11,"pay":2},{"symbol":"x3","type":11,"pay":3},{"symbol":"x5","type":11,"pay":5}],"pattern":[[27,27,27,27,27],[28,28,28,28,28],[29,29,29,29,29],[27,28,29,28,27],[29,28,27,28,29],[27,27,28,27,27],[29,29,28,29,29],[28,27,27,27,28],[28,29,29,29,28],[29,27,27,27,27],[27,28,28,28,28],[29,28,28,28,28],[28,28,29,28,28],[28,28,29,28,29],[27,28,29,28,29]],"jackpots":{"mini":5000,"major":8000,"grand":10000},"bet_amounts":[1,5,10,20,50,100],"auto_play_values":[{"value":1,"x":0},{"value":5,"x":1},{"value":10,"x":2},{"value":25,"x":3},{"value":50,"x":4},{"value":75,"x":0},{"value":100,"x":1},{"value":250,"x":2},{"value":500,"x":3},{"value":1000,"x":4}],"auto_play_values2":[{"value":1,"x":0},{"value":5,"x":1},{"value":10,"x":2},{"value":25,"x":0},{"value":50,"x":1},{"value":75,"x":2},{"value":100,"x":0},{"value":250,"x":1},{"value":500,"x":2},{"value":1000,"x":1}],"matchgame_values":["mini","mini","mini","mini","mini","mini","major","grand","grand","mini","major","grand"]}')}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var r=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);i(63607)})();
//# sourceMappingURL=bundle.js.map